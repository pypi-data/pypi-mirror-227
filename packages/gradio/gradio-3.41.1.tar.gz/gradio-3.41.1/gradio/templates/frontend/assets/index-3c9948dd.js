import{S as K,e as Q,s as W,f as G,g as _,h as b,j as y,n as T,k,m as p,C as be,at as Y,I as C,o as O,O as q,t as Z,x as A,p as R,B as ke,Q as X,N as S,K as D,F as V,G as E,w as j,u as N,H as I,a0 as ve,a1 as pe,Z as we,ad as je,V as ye,W as He,r as J,v as P}from"./index-1d5c214d.js";import{g as Ne}from"./color-bbe6a697.js";import{B as Be}from"./Button-4c5644a6.js";import{B as Me}from"./BlockLabel-d4c7d638.js";import{E as Se}from"./Empty-81f63385.js";function Ce(n){let e,t,l;return{c(){e=G("svg"),t=G("path"),l=G("path"),_(t,"fill","currentColor"),_(t,"d","M12 15H5a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5V5a1 1 0 0 0-1-1H3V2h6a3 3 0 0 1 3 3zM5 9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5V9zm15 14v2a1 1 0 0 0 1 1h5v-4h-5a1 1 0 0 0-1 1z"),_(l,"fill","currentColor"),_(l,"d","M2 30h28V2Zm26-2h-7a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5v-2a1 1 0 0 0-1-1h-6v-2h6a3 3 0 0 1 3 3Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),_(e,"aria-hidden","true"),_(e,"role","img"),_(e,"class","iconify iconify--carbon"),_(e,"width","100%"),_(e,"height","100%"),_(e,"preserveAspectRatio","xMidYMid meet"),_(e,"viewBox","0 0 32 32")},m(i,a){b(i,e,a),y(e,t),y(e,l)},p:T,i:T,o:T,d(i){i&&k(e)}}}class ue extends K{constructor(e){super(),Q(this,e,null,Ce,W,{})}}function U(n,e,t){const l=n.slice();l[19]=e[t][0],l[28]=e[t][1];const i=typeof l[28]=="string"?parseInt(l[28]):l[28];return l[29]=i,l}function x(n,e,t){const l=n.slice();return l[19]=e[t][0],l[20]=e[t][1],l[22]=t,l}function $(n,e,t){const l=n.slice();return l[23]=e[t],l[25]=t,l}function ee(n,e,t){const l=n.slice();return l[20]=e[t][0],l[26]=e[t][1],l[22]=t,l}function Oe(n){let e,t,l=n[1]&&le(),i=C(n[0]),a=[];for(let s=0;s<i.length;s+=1)a[s]=te(U(n,i,s));return{c(){l&&l.c(),e=O(),t=p("div");for(let s=0;s<a.length;s+=1)a[s].c();_(t,"class","textfield svelte-taudaj"),_(t,"data-testid","highlighted-text:textfield")},m(s,f){l&&l.m(s,f),b(s,e,f),b(s,t,f);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(t,null)},p(s,f){if(s[1]?l||(l=le(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f[0]&1){i=C(s[0]);let o;for(o=0;o<i.length;o+=1){const d=U(s,i,o);a[o]?a[o].p(d,f):(a[o]=te(d),a[o].c(),a[o].m(t,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}},d(s){s&&(k(e),k(t)),l&&l.d(s),q(a,s)}}}function Ve(n){let e,t,l=n[1]&&ne(n),i=C(n[0]),a=[];for(let s=0;s<i.length;s+=1)a[s]=re(x(n,i,s));return{c(){l&&l.c(),e=O(),t=p("div");for(let s=0;s<a.length;s+=1)a[s].c();_(t,"class","textfield svelte-taudaj")},m(s,f){l&&l.m(s,f),b(s,e,f),b(s,t,f);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(t,null)},p(s,f){if(s[1]?l?l.p(s,f):(l=ne(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f[0]&95){i=C(s[0]);let o;for(o=0;o<i.length;o+=1){const d=x(s,i,o);a[o]?a[o].p(d,f):(a[o]=re(d),a[o].c(),a[o].m(t,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}},d(s){s&&(k(e),k(t)),l&&l.d(s),q(a,s)}}}function le(n){let e;return{c(){e=p("div"),e.innerHTML="<span>-1</span> <span>0</span> <span>+1</span>",_(e,"class","color-legend svelte-taudaj"),_(e,"data-testid","highlighted-text:color-legend")},m(t,l){b(t,e,l)},d(t){t&&k(e)}}}function te(n){let e,t,l=n[19]+"",i,a,s;return{c(){e=p("span"),t=p("span"),i=Z(l),a=O(),_(t,"class","text svelte-taudaj"),_(e,"class","textspan score-text svelte-taudaj"),_(e,"style",s="background-color: rgba("+(n[29]<0?"128, 90, 213,"+-n[29]:"239, 68, 60,"+n[29])+")")},m(f,o){b(f,e,o),y(e,t),y(t,i),y(e,a)},p(f,o){o[0]&1&&l!==(l=f[19]+"")&&A(i,l),o[0]&1&&s!==(s="background-color: rgba("+(f[29]<0?"128, 90, 213,"+-f[29]:"239, 68, 60,"+f[29])+")")&&_(e,"style",s)},d(f){f&&k(e)}}}function ne(n){let e,t=C(Object.entries(n[3])),l=[];for(let i=0;i<t.length;i+=1)l[i]=se(ee(n,t,i));return{c(){e=p("div");for(let i=0;i<l.length;i+=1)l[i].c();_(e,"class","category-legend svelte-taudaj"),_(e,"data-testid","highlighted-text:category-legend")},m(i,a){b(i,e,a);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(i,a){if(a[0]&392){t=C(Object.entries(i[3]));let s;for(s=0;s<t.length;s+=1){const f=ee(i,t,s);l[s]?l[s].p(f,a):(l[s]=se(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(i){i&&k(e),q(l,i)}}}function se(n){let e,t=n[20]+"",l,i,a,s,f;function o(){return n[10](n[20])}function d(){return n[11](n[20])}return{c(){e=p("div"),l=Z(t),i=O(),_(e,"class","category-label svelte-taudaj"),_(e,"style",a="background-color:"+n[26].secondary)},m(r,h){b(r,e,h),y(e,l),y(e,i),s||(f=[R(e,"mouseover",o),R(e,"focus",d),R(e,"mouseout",n[12]),R(e,"blur",n[13])],s=!0)},p(r,h){n=r,h[0]&8&&t!==(t=n[20]+"")&&A(l,t),h[0]&8&&a!==(a="background-color:"+n[26].secondary)&&_(e,"style",a)},d(r){r&&k(e),s=!1,ke(f)}}}function ie(n){let e,t,l=n[23]+"",i,a,s,f,o=!n[1]&&n[20]!==null&&ae(n);function d(){return n[14](n[22],n[19],n[20])}return{c(){e=p("span"),t=p("span"),i=Z(l),a=O(),o&&o.c(),_(t,"class","text svelte-taudaj"),S(t,"no-label",!n[3][n[20]]),_(e,"class","textspan svelte-taudaj"),S(e,"no-cat",n[20]===null||n[4]&&n[4]!==n[20]),S(e,"hl",n[20]!==null),S(e,"selectable",n[2]),D(e,"background-color",n[20]===null||n[4]&&n[4]!==n[20]?"":n[3][n[20]].secondary)},m(r,h){b(r,e,h),y(e,t),y(t,i),y(e,a),o&&o.m(e,null),s||(f=R(e,"click",d),s=!0)},p(r,h){n=r,h[0]&1&&l!==(l=n[23]+"")&&A(i,l),h[0]&9&&S(t,"no-label",!n[3][n[20]]),!n[1]&&n[20]!==null?o?o.p(n,h):(o=ae(n),o.c(),o.m(e,null)):o&&(o.d(1),o=null),h[0]&17&&S(e,"no-cat",n[20]===null||n[4]&&n[4]!==n[20]),h[0]&1&&S(e,"hl",n[20]!==null),h[0]&4&&S(e,"selectable",n[2]),h[0]&25&&D(e,"background-color",n[20]===null||n[4]&&n[4]!==n[20]?"":n[3][n[20]].secondary)},d(r){r&&k(e),o&&o.d(),s=!1,f()}}}function ae(n){let e,t,l=n[20]+"",i;return{c(){e=Z(`Â 
								`),t=p("span"),i=Z(l),_(t,"class","label svelte-taudaj"),D(t,"background-color",n[20]===null||n[4]&&n[4]!==n[20]?"":n[3][n[20]].primary)},m(a,s){b(a,e,s),b(a,t,s),y(t,i)},p(a,s){s[0]&1&&l!==(l=a[20]+"")&&A(i,l),s[0]&25&&D(t,"background-color",a[20]===null||a[4]&&a[4]!==a[20]?"":a[3][a[20]].primary)},d(a){a&&(k(e),k(t))}}}function oe(n){let e;return{c(){e=p("br")},m(t,l){b(t,e,l)},d(t){t&&k(e)}}}function fe(n){let e=n[23].trim()!=="",t,l=n[25]<L(n[19]).length-1,i,a=e&&ie(n),s=l&&oe();return{c(){a&&a.c(),t=O(),s&&s.c(),i=X()},m(f,o){a&&a.m(f,o),b(f,t,o),s&&s.m(f,o),b(f,i,o)},p(f,o){o[0]&1&&(e=f[23].trim()!==""),e?a?a.p(f,o):(a=ie(f),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),o[0]&1&&(l=f[25]<L(f[19]).length-1),l?s||(s=oe(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(f){f&&(k(t),k(i)),a&&a.d(f),s&&s.d(f)}}}function re(n){let e,t=C(L(n[19])),l=[];for(let i=0;i<t.length;i+=1)l[i]=fe($(n,t,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=X()},m(i,a){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(i,a);b(i,e,a)},p(i,a){if(a[0]&95){t=C(L(i[19]));let s;for(s=0;s<t.length;s+=1){const f=$(i,t,s);l[s]?l[s].p(f,a):(l[s]=fe(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(i){i&&k(e),q(l,i)}}}function Ee(n){let e;function t(a,s){return a[5]==="categories"?Ve:Oe}let l=t(n),i=l(n);return{c(){e=p("div"),i.c(),_(e,"class","container svelte-taudaj")},m(a,s){b(a,e,s),i.m(e,null)},p(a,s){l===(l=t(a))&&i?i.p(a,s):(i.d(1),i=l(a),i&&(i.c(),i.m(e,null)))},i:T,o:T,d(a){a&&k(e),i.d()}}}function L(n){return n.split(`
`)}function Ie(n,e,t){const l=typeof document<"u";let{value:i=[]}=e,{show_legend:a=!1}=e,{color_map:s={}}=e,{selectable:f=!1}=e,o,d={},r="";function h(){for(const m in s){const w=s[m].trim();w in Y?t(3,d[m]=Y[w],d):t(3,d[m]={primary:l?v(s[m],1):s[m],secondary:l?v(s[m],.5):s[m]},d)}}function v(m,w){if(!o){var z=document.createElement("canvas");o=z.getContext("2d")}o.fillStyle=m,o.fillRect(0,0,1,1);const[de,he,ge]=o.getImageData(0,0,1,1).data;return o.clearRect(0,0,1,1),`rgba(${de}, ${he}, ${ge}, ${255/w})`}const B=be();let c;function g(m){t(4,r=m)}function H(){t(4,r="")}const M=m=>g(m),F=m=>g(m),u=()=>H(),_e=()=>H(),me=(m,w,z)=>{B("select",{index:m,value:[w,z]})};return n.$$set=m=>{"value"in m&&t(0,i=m.value),"show_legend"in m&&t(1,a=m.show_legend),"color_map"in m&&t(9,s=m.color_map),"selectable"in m&&t(2,f=m.selectable)},n.$$.update=()=>{if(n.$$.dirty[0]&513){if(s||t(9,s={}),i.length>0){for(let[m,w]of i)if(w!==null)if(typeof w=="string"){if(t(5,c="categories"),!(w in s)){let z=Ne(Object.keys(s).length);t(9,s[w]=z,s)}}else t(5,c="scores")}h()}},[i,a,f,d,r,c,B,g,H,s,M,F,u,_e,me]}class ze extends K{constructor(e){super(),Q(this,e,Ie,Ee,W,{value:0,show_legend:1,color_map:9,selectable:2},null,[-1,-1])}}function ce(n){let e,t;return e=new Me({props:{Icon:ue,label:n[6],float:!1,disable:n[7]===!1}}),{c(){V(e.$$.fragment)},m(l,i){E(e,l,i),t=!0},p(l,i){const a={};i&64&&(a.label=l[6]),i&128&&(a.disable=l[7]===!1),e.$set(a)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Re(n){let e,t;return e=new Se({props:{$$slots:{default:[Ze]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(l,i){E(e,l,i),t=!0},p(l,i){const a={};i&65536&&(a.$$scope={dirty:i,ctx:l}),e.$set(a)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Te(n){let e,t;return e=new ze({props:{selectable:n[10],value:n[4],show_legend:n[5],color_map:n[0]}}),e.$on("select",n[14]),{c(){V(e.$$.fragment)},m(l,i){E(e,l,i),t=!0},p(l,i){const a={};i&1024&&(a.selectable=l[10]),i&16&&(a.value=l[4]),i&32&&(a.show_legend=l[5]),i&1&&(a.color_map=l[0]),e.$set(a)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Ze(n){let e,t;return e=new ue({}),{c(){V(e.$$.fragment)},m(l,i){E(e,l,i),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function De(n){let e,t,l,i,a,s,f;const o=[n[12]];let d={};for(let c=0;c<o.length;c+=1)d=we(d,o[c]);e=new je({props:d});let r=n[6]&&ce(n);const h=[Te,Re],v=[];function B(c,g){return c[4]?0:1}return i=B(n),a=v[i]=h[i](n),{c(){V(e.$$.fragment),t=O(),r&&r.c(),l=O(),a.c(),s=X()},m(c,g){E(e,c,g),b(c,t,g),r&&r.m(c,g),b(c,l,g),v[i].m(c,g),b(c,s,g),f=!0},p(c,g){const H=g&4096?ye(o,[He(c[12])]):{};e.$set(H),c[6]?r?(r.p(c,g),g&64&&j(r,1)):(r=ce(c),r.c(),j(r,1),r.m(l.parentNode,l)):r&&(J(),N(r,1,1,()=>{r=null}),P());let M=i;i=B(c),i===M?v[i].p(c,g):(J(),N(v[M],1,1,()=>{v[M]=null}),P(),a=v[i],a?a.p(c,g):(a=v[i]=h[i](c),a.c()),j(a,1),a.m(s.parentNode,s))},i(c){f||(j(e.$$.fragment,c),j(r),j(a),f=!0)},o(c){N(e.$$.fragment,c),N(r),N(a),f=!1},d(c){c&&(k(t),k(l),k(s)),I(e,c),r&&r.d(c),v[i].d(c)}}}function Le(n){let e,t;return e=new Be({props:{test_id:"highlighted-text",visible:n[3],elem_id:n[1],elem_classes:n[2],padding:!1,container:n[7],scale:n[8],min_width:n[9],$$slots:{default:[De]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(l,i){E(e,l,i),t=!0},p(l,[i]){const a={};i&8&&(a.visible=l[3]),i&2&&(a.elem_id=l[1]),i&4&&(a.elem_classes=l[2]),i&128&&(a.container=l[7]),i&256&&(a.scale=l[8]),i&512&&(a.min_width=l[9]),i&72945&&(a.$$scope={dirty:i,ctx:l}),e.$set(a)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function qe(n,e,t){let l;ve(n,pe,u=>t(15,l=u));let{elem_id:i=""}=e,{elem_classes:a=[]}=e,{visible:s=!0}=e,{value:f}=e,o,{show_legend:d}=e,{color_map:r={}}=e,{label:h=l("highlighted_text.highlighted_text")}=e,{container:v=!0}=e,{scale:B=null}=e,{min_width:c=void 0}=e,{selectable:g=!1}=e,{gradio:H}=e,{loading_status:M}=e;const F=({detail:u})=>H.dispatch("select",u);return n.$$set=u=>{"elem_id"in u&&t(1,i=u.elem_id),"elem_classes"in u&&t(2,a=u.elem_classes),"visible"in u&&t(3,s=u.visible),"value"in u&&t(4,f=u.value),"show_legend"in u&&t(5,d=u.show_legend),"color_map"in u&&t(0,r=u.color_map),"label"in u&&t(6,h=u.label),"container"in u&&t(7,v=u.container),"scale"in u&&t(8,B=u.scale),"min_width"in u&&t(9,c=u.min_width),"selectable"in u&&t(10,g=u.selectable),"gradio"in u&&t(11,H=u.gradio),"loading_status"in u&&t(12,M=u.loading_status)},n.$$.update=()=>{n.$$.dirty&1&&!r&&Object.keys(r).length&&t(0,r),n.$$.dirty&10256&&f!==o&&(t(13,o=f),H.dispatch("change"))},[r,i,a,s,f,d,h,v,B,c,g,H,M,o,F]}class Ae extends K{constructor(e){super(),Q(this,e,qe,Le,W,{elem_id:1,elem_classes:2,visible:3,value:4,show_legend:5,color_map:0,label:6,container:7,scale:8,min_width:9,selectable:10,gradio:11,loading_status:12})}}const Xe=Ae;export{Xe as default};
//# sourceMappingURL=index-3c9948dd.js.map
