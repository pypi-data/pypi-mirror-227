import{S as $e,i as Se,s as ve,E as pe,k as E,a as U,y as P,l as y,m as $,c as Y,z as L,h as m,F as Rt,G as fe,b as I,a0 as b,A as B,H as Ae,L as Oe,g,d as v,B as R,N as Ie,C as ht,o as Dn,Q as Te,q as Q,r as Z,n as D,u as oe,e as ae,v as ie,f as re,M as tt,w as He,W as Et,X as yt,D as Tn,I as Vn,J as Nn,K as Cn,Z as we,_ as ke,$ as Fe,a1 as ee,Y as ni,p as ct,V as ii,R as gt,ae as ri,a7 as Ve,a8 as Le,O as be,a4 as Be,ab as ze,a2 as It,af as si,P as ai,T as Ge,U as Je,a3 as pt,a9 as kt,x as st,a6 as Ht,ag as oi}from"../chunks/index.d15f259d.js";import{n as fi,h as ui,g as Fn,e as ci,a as di,p as mi,i as hi,j as _i}from"../chunks/utils.880cc489.js";import{O as gi,a as ft,P as pi}from"../chunks/Page.626412ff.js";import{W as bi,w as vi,d as Xe,x as wi,h as Ne,y as qe,z as ye,A as Dt,t as nt,C as it,D as Me,E as xe,S as Mn,F as Tt,G as ki,u as $i,H as Si,c as We,a as Vt,I as _t,J as Ei,L as yi,K as Ke,M as Ii,N as Nt,O as Di,P as Ti,R as zn,U as An,V as Pn,f as Vi,b as Ct,X as rt,Y as Ni,Z as Ci,_ as Bn,$ as Fi,a0 as at,a1 as Ft,a2 as bt,a3 as $t,a4 as Mi,a5 as zi,a6 as Rn,a7 as ut,a8 as Ai,a9 as Hn,aa as Pi,ab as Bi,ac as Ri,ad as On,ae as Ln,af as qn,ag as Hi,ah as Oi,ai as Li,aj as qi,ak as ji,al as Ui,am as Yi,an as Wi,ao as Qi,ap as Zi,aq as Ki,ar as Gi,as as Ji,at as Xi}from"../chunks/Commands.8cc00222.js";import{d as dt,e as jn,f as Mt,h as xi,i as St,j as er,k as tr,l as lr,I as nr,m as ir,n as rr,o as sr,p as ar,A as or,q as Un,s as vt,D as ot,r as fr,t as ur}from"../chunks/notificationsStore.dd194b58.js";import{w as cr}from"../chunks/index.984ba69d.js";import{C as dr,a as Yn,I as Ot,T as mr}from"../chunks/ConceptView.c23382ef.js";import{E as Wn,S as hr,T as Qn}from"../chunks/StringSpanHighlight.17a74786.js";import{M as zt,C as _r}from"../chunks/ChevronUp.990fe67a.js";import{R as gr,S as pr}from"../chunks/RowItemMetadata.8ed87286.js";import{g as Zn}from"../chunks/settingsStore.eddff611.js";import{L as br,a as vr,b as wr,c as kr,C as $r}from"../chunks/ComboBox.3ff5227a.js";import{S as Sr}from"../chunks/Settings.c314607e.js";function Lt(i,e,l){const t=i.slice();return t[39]=e[l],t[41]=l,t}const Er=i=>({item:i[0]&8,index:i[0]&8}),qt=i=>({item:i[39],index:i[41]});function jt(i){let e,l;return{c(){e=E("label"),l=Q(i[10]),this.h()},l(t){e=y(t,"LABEL",{for:!0});var n=$(e);l=Z(n,i[10]),n.forEach(m),this.h()},h(){D(e,"for",i[19]),fe(e,"bx--label",!0),fe(e,"bx--label--disabled",i[9]),fe(e,"bx--visually-hidden",i[17])},m(t,n){I(t,e,n),b(e,l)},p(t,n){n[0]&1024&&oe(l,t[10]),n[0]&524288&&D(e,"for",t[19]),n[0]&512&&fe(e,"bx--label--disabled",t[9]),n[0]&131072&&fe(e,"bx--visually-hidden",t[17])},d(t){t&&m(e)}}}function Ut(i){let e,l;return e=new bi({props:{class:"bx--list-box__invalid-icon"}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Yt(i){let e,l;return e=new vi({props:{class:"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning"}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function yr(i){let e;return{c(){e=Q(i[16])},l(l){e=Z(l,i[16])},m(l,t){I(l,e,t)},p(l,t){t[0]&65536&&oe(e,l[16])},d(l){l&&m(e)}}}function Ir(i){let e=i[4](i[22])+"",l;return{c(){l=Q(e)},l(t){l=Z(t,e)},m(t,n){I(t,l,n)},p(t,n){n[0]&4194320&&e!==(e=t[4](t[22])+"")&&oe(l,e)},d(t){t&&m(l)}}}function Wt(i){let e,l;return e=new wr({props:{"aria-labelledby":i[19],id:i[19],$$slots:{default:[Vr]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n[0]&524288&&(o["aria-labelledby"]=t[19]),n[0]&524288&&(o.id=t[19]),n[0]&2097181|n[1]&64&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Dr(i){let e=i[4](i[39])+"",l;return{c(){l=Q(e)},l(t){l=Z(t,e)},m(t,n){I(t,l,n)},p(t,n){n[0]&24&&e!==(e=t[4](t[39])+"")&&oe(l,e)},d(t){t&&m(l)}}}function Tr(i){let e,l;const t=i[29].default,n=Tn(t,i,i[37],qt),o=n||Dr(i);return{c(){o&&o.c(),e=U()},l(r){o&&o.l(r),e=Y(r)},m(r,s){o&&o.m(r,s),I(r,e,s),l=!0},p(r,s){n?n.p&&(!l||s[0]&8|s[1]&64)&&Vn(n,t,r,r[37],l?Cn(t,r[37],s,Er):Nn(r[37]),qt):o&&o.p&&(!l||s[0]&24)&&o.p(r,l?s:[-1,-1])},i(r){l||(g(o,r),l=!0)},o(r){v(o,r),l=!1},d(r){o&&o.d(r),r&&m(e)}}}function Qt(i,e){let l,t,n;function o(...s){return e[34](e[39],...s)}function r(){return e[35](e[39],e[41])}return t=new kr({props:{id:e[39].id,active:e[0]===e[39].id,highlighted:e[21]===e[41],disabled:e[39].disabled,$$slots:{default:[Tr]},$$scope:{ctx:e}}}),t.$on("click",o),t.$on("mouseenter",r),{key:i,first:null,c(){l=ae(),P(t.$$.fragment),this.h()},l(s){l=ae(),L(t.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){I(s,l,a),B(t,s,a),n=!0},p(s,a){e=s;const f={};a[0]&8&&(f.id=e[39].id),a[0]&9&&(f.active=e[0]===e[39].id),a[0]&2097160&&(f.highlighted=e[21]===e[41]),a[0]&8&&(f.disabled=e[39].disabled),a[0]&24|a[1]&64&&(f.$$scope={dirty:a,ctx:e}),t.$set(f)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){v(t.$$.fragment,s),n=!1},d(s){s&&m(l),R(t,s)}}}function Vr(i){let e=[],l=new Map,t,n,o=i[3];const r=s=>s[39].id;for(let s=0;s<o.length;s+=1){let a=Lt(i,o,s),f=r(a);l.set(f,e[s]=Qt(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=ae()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=ae()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);I(s,t,a),n=!0},p(s,a){a[0]&35651613|a[1]&64&&(o=s[3],ie(),e=Et(e,a,r,1,s,o,l,t.parentNode,yt,Qt,t,Lt),re())},i(s){if(!n){for(let a=0;a<o.length;a+=1)g(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)v(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&m(t)}}}function Nr(i){let e,l,t,n,o,r,s,a,f,u,d,c=i[11]&&Ut(),h=!i[11]&&i[13]&&Yt();function _(k,T){return k[22]?Ir:yr}let p=_(i),w=p(i);r=new vr({props:{translateWithId:i[18],open:i[1]}}),r.$on("click",i[30]);let S=i[1]&&Wt(i);return{c(){c&&c.c(),e=U(),h&&h.c(),l=U(),t=E("button"),n=E("span"),w.c(),o=U(),P(r.$$.fragment),s=U(),S&&S.c(),a=ae(),this.h()},l(k){c&&c.l(k),e=Y(k),h&&h.l(k),l=Y(k),t=y(k,"BUTTON",{type:!0,tabindex:!0,"aria-expanded":!0,translatewithid:!0,id:!0});var T=$(t);n=y(T,"SPAN",{});var z=$(n);w.l(z),z.forEach(m),o=Y(T),L(r.$$.fragment,T),T.forEach(m),s=Y(k),S&&S.l(k),a=ae(),this.h()},h(){fe(n,"bx--list-box__label",!0),D(t,"type","button"),D(t,"tabindex","0"),D(t,"aria-expanded",i[1]),t.disabled=i[9],D(t,"translatewithid",i[18]),D(t,"id",i[19]),fe(t,"bx--list-box__field",!0)},m(k,T){c&&c.m(k,T),I(k,e,T),h&&h.m(k,T),I(k,l,T),I(k,t,T),b(t,n),w.m(n,null),b(t,o),B(r,t,null),i[31](t),I(k,s,T),S&&S.m(k,T),I(k,a,T),f=!0,u||(d=[Ae(t,"keydown",i[32]),Ae(t,"keyup",i[33])],u=!0)},p(k,T){k[11]?c?T[0]&2048&&g(c,1):(c=Ut(),c.c(),g(c,1),c.m(e.parentNode,e)):c&&(ie(),v(c,1,1,()=>{c=null}),re()),!k[11]&&k[13]?h?T[0]&10240&&g(h,1):(h=Yt(),h.c(),g(h,1),h.m(l.parentNode,l)):h&&(ie(),v(h,1,1,()=>{h=null}),re()),p===(p=_(k))&&w?w.p(k,T):(w.d(1),w=p(k),w&&(w.c(),w.m(n,null)));const z={};T[0]&262144&&(z.translateWithId=k[18]),T[0]&2&&(z.open=k[1]),r.$set(z),(!f||T[0]&2)&&D(t,"aria-expanded",k[1]),(!f||T[0]&512)&&(t.disabled=k[9]),(!f||T[0]&262144)&&D(t,"translatewithid",k[18]),(!f||T[0]&524288)&&D(t,"id",k[19]),k[1]?S?(S.p(k,T),T[0]&2&&g(S,1)):(S=Wt(k),S.c(),g(S,1),S.m(a.parentNode,a)):S&&(ie(),v(S,1,1,()=>{S=null}),re())},i(k){f||(g(c),g(h),g(r.$$.fragment,k),g(S),f=!0)},o(k){v(c),v(h),v(r.$$.fragment,k),v(S),f=!1},d(k){c&&c.d(k),k&&m(e),h&&h.d(k),k&&m(l),k&&m(t),w.d(),R(r),i[31](null),k&&m(s),S&&S.d(k),k&&m(a),u=!1,tt(d)}}}function Zt(i){let e,l;return{c(){e=E("div"),l=Q(i[15]),this.h()},l(t){e=y(t,"DIV",{});var n=$(e);l=Z(n,i[15]),n.forEach(m),this.h()},h(){fe(e,"bx--form__helper-text",!0),fe(e,"bx--form__helper-text--disabled",i[9])},m(t,n){I(t,e,n),b(e,l)},p(t,n){n[0]&32768&&oe(l,t[15]),n[0]&512&&fe(e,"bx--form__helper-text--disabled",t[9])},d(t){t&&m(e)}}}function Cr(i){let e,l,t,n,o,r,s,a=i[10]&&jt(i);t=new br({props:{role:void 0,type:i[5],size:i[7],name:i[20],"aria-label":i[28]["aria-label"],class:`bx--dropdown 
      `+(i[6]==="top"&&"bx--list-box--up")+` 
      `+(i[11]&&"bx--dropdown--invalid")+` 
      `+(!i[11]&&i[13]&&"bx--dropdown--warning")+` 
      `+(i[1]&&"bx--dropdown--open")+`
      `+(i[7]==="sm"&&"bx--dropdown--sm")+`
      `+(i[7]==="xl"&&"bx--dropdown--xl")+`
      `+(i[23]&&"bx--dropdown--inline")+`
      `+(i[9]&&"bx--dropdown--disabled")+`
      `+(i[8]&&"bx--dropdown--light"),disabled:i[9],open:i[1],invalid:i[11],invalidText:i[12],light:i[8],warn:i[13],warnText:i[14],$$slots:{default:[Nr]},$$scope:{ctx:i}}}),t.$on("click",i[36]);let f=!i[23]&&!i[11]&&!i[13]&&i[15]&&Zt(i),u=[i[27]],d={};for(let c=0;c<u.length;c+=1)d=pe(d,u[c]);return{c(){e=E("div"),a&&a.c(),l=U(),P(t.$$.fragment),n=U(),f&&f.c(),this.h()},l(c){e=y(c,"DIV",{});var h=$(e);a&&a.l(h),l=Y(h),L(t.$$.fragment,h),n=Y(h),f&&f.l(h),h.forEach(m),this.h()},h(){Rt(e,d),fe(e,"bx--dropdown__wrapper",!0),fe(e,"bx--list-box__wrapper",!0),fe(e,"bx--dropdown__wrapper--inline",i[23]),fe(e,"bx--list-box__wrapper--inline",i[23]),fe(e,"bx--dropdown__wrapper--inline--invalid",i[23]&&i[11])},m(c,h){I(c,e,h),a&&a.m(e,null),b(e,l),B(t,e,null),b(e,n),f&&f.m(e,null),o=!0,r||(s=Ae(window,"click",i[26]),r=!0)},p(c,h){c[10]?a?a.p(c,h):(a=jt(c),a.c(),a.m(e,l)):a&&(a.d(1),a=null);const _={};h[0]&32&&(_.type=c[5]),h[0]&128&&(_.size=c[7]),h[0]&1048576&&(_.name=c[20]),h[0]&268435456&&(_["aria-label"]=c[28]["aria-label"]),h[0]&8399810&&(_.class=`bx--dropdown 
      `+(c[6]==="top"&&"bx--list-box--up")+` 
      `+(c[11]&&"bx--dropdown--invalid")+` 
      `+(!c[11]&&c[13]&&"bx--dropdown--warning")+` 
      `+(c[1]&&"bx--dropdown--open")+`
      `+(c[7]==="sm"&&"bx--dropdown--sm")+`
      `+(c[7]==="xl"&&"bx--dropdown--xl")+`
      `+(c[23]&&"bx--dropdown--inline")+`
      `+(c[9]&&"bx--dropdown--disabled")+`
      `+(c[8]&&"bx--dropdown--light")),h[0]&512&&(_.disabled=c[9]),h[0]&2&&(_.open=c[1]),h[0]&2048&&(_.invalid=c[11]),h[0]&4096&&(_.invalidText=c[12]),h[0]&256&&(_.light=c[8]),h[0]&8192&&(_.warn=c[13]),h[0]&16384&&(_.warnText=c[14]),h[0]&7154207|h[1]&64&&(_.$$scope={dirty:h,ctx:c}),t.$set(_),!c[23]&&!c[11]&&!c[13]&&c[15]?f?f.p(c,h):(f=Zt(c),f.c(),f.m(e,null)):f&&(f.d(1),f=null),Rt(e,d=Oe(u,[h[0]&134217728&&c[27]])),fe(e,"bx--dropdown__wrapper",!0),fe(e,"bx--list-box__wrapper",!0),fe(e,"bx--dropdown__wrapper--inline",c[23]),fe(e,"bx--list-box__wrapper--inline",c[23]),fe(e,"bx--dropdown__wrapper--inline--invalid",c[23]&&c[11])},i(c){o||(g(t.$$.fragment,c),o=!0)},o(c){v(t.$$.fragment,c),o=!1},d(c){c&&m(e),a&&a.d(),R(t),f&&f.d(),r=!1,s()}}}function Fr(i,e,l){let t,n;const o=["items","itemToString","selectedId","type","direction","size","open","light","disabled","titleText","invalid","invalidText","warn","warnText","helperText","label","hideLabel","translateWithId","id","name","ref"];let r=Ie(e,o),{$$slots:s={},$$scope:a}=e,{items:f=[]}=e,{itemToString:u=O=>O.text||O.id}=e,{selectedId:d}=e,{type:c="default"}=e,{direction:h="bottom"}=e,{size:_=void 0}=e,{open:p=!1}=e,{light:w=!1}=e,{disabled:S=!1}=e,{titleText:k=""}=e,{invalid:T=!1}=e,{invalidText:z=""}=e,{warn:V=!1}=e,{warnText:A=""}=e,{helperText:F=""}=e,{label:j=void 0}=e,{hideLabel:X=!1}=e,{translateWithId:N=void 0}=e,{id:H="ccs-"+Math.random().toString(36)}=e,{name:ne=void 0}=e,{ref:K=null}=e;const W=ht();let M=-1;function C(O){let se=M+O;if(f.length===0)return;se<0?se=f.length-1:se>=f.length&&(se=0);let J=f[se].disabled;for(;J;)se=se+O,se<0?se=f.length-1:se>=f.length&&(se=0),J=f[se].disabled;l(21,M=se)}const x=()=>{W("select",{selectedId:d,selectedItem:f.find(O=>O.id===d)})},q=({target:O})=>{p&&K&&!K.contains(O)&&l(1,p=!1)};Dn(()=>(parent&&parent.addEventListener("click",q),()=>{parent&&parent.removeEventListener("click",q)}));const G=O=>{O.stopPropagation(),!S&&l(1,p=!p)};function _e(O){He[O?"unshift":"push"](()=>{K=O,l(2,K)})}const he=O=>{const{key:se}=O;["Enter","ArrowDown","ArrowUp"].includes(se)&&O.preventDefault(),se==="Enter"?(l(1,p=!p),M>-1&&f[M].id!==d&&(l(0,d=f[M].id),x(),l(1,p=!1))):se==="Tab"?(l(1,p=!1),K.blur()):se==="ArrowDown"?(p||l(1,p=!0),C(1)):se==="ArrowUp"?(p||l(1,p=!0),C(-1)):se==="Escape"&&l(1,p=!1)},de=O=>{const{key:se}=O;if([" "].includes(se))O.preventDefault();else return;l(1,p=!p),M>-1&&f[M].id!==d&&(l(0,d=f[M].id),x(),l(1,p=!1))},Ee=(O,se)=>{if(O.disabled){se.stopPropagation();return}l(0,d=O.id),x(),K.focus()},ue=(O,se)=>{O.disabled||l(21,M=se)},te=({target:O})=>{S||l(1,p=K.contains(O)?!p:!1)};return i.$$set=O=>{l(28,e=pe(pe({},e),Te(O))),l(27,r=Ie(e,o)),"items"in O&&l(3,f=O.items),"itemToString"in O&&l(4,u=O.itemToString),"selectedId"in O&&l(0,d=O.selectedId),"type"in O&&l(5,c=O.type),"direction"in O&&l(6,h=O.direction),"size"in O&&l(7,_=O.size),"open"in O&&l(1,p=O.open),"light"in O&&l(8,w=O.light),"disabled"in O&&l(9,S=O.disabled),"titleText"in O&&l(10,k=O.titleText),"invalid"in O&&l(11,T=O.invalid),"invalidText"in O&&l(12,z=O.invalidText),"warn"in O&&l(13,V=O.warn),"warnText"in O&&l(14,A=O.warnText),"helperText"in O&&l(15,F=O.helperText),"label"in O&&l(16,j=O.label),"hideLabel"in O&&l(17,X=O.hideLabel),"translateWithId"in O&&l(18,N=O.translateWithId),"id"in O&&l(19,H=O.id),"name"in O&&l(20,ne=O.name),"ref"in O&&l(2,K=O.ref),"$$scope"in O&&l(37,a=O.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&32&&l(23,t=c==="inline"),i.$$.dirty[0]&9&&l(22,n=f.find(O=>O.id===d)),i.$$.dirty[0]&2&&(p||l(21,M=-1))},e=Te(e),[d,p,K,f,u,c,h,_,w,S,k,T,z,V,A,F,j,X,N,H,ne,M,n,t,C,x,q,r,e,s,G,_e,he,de,Ee,ue,te,a]}class Mr extends $e{constructor(e){super(),Se(this,e,Fr,Cr,ve,{items:3,itemToString:4,selectedId:0,type:5,direction:6,size:7,open:1,light:8,disabled:9,titleText:10,invalid:11,invalidText:12,warn:13,warnText:14,helperText:15,label:16,hideLabel:17,translateWithId:18,id:19,name:20,ref:2},null,[-1,-1])}}const zr=Mr;function Kt(i){let e,l;return{c(){e=we("title"),l=Q(i[1])},l(t){e=ke(t,"title",{});var n=$(e);l=Z(n,i[1]),n.forEach(m)},m(t,n){I(t,e,n),b(e,l)},p(t,n){n&2&&oe(l,t[1])},d(t){t&&m(e)}}}function Ar(i){let e,l,t=i[1]&&Kt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=pe(o,n[r]);return{c(){e=we("svg"),t&&t.c(),l=we("path"),this.h()},l(r){e=ke(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=ke(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){D(l,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),Fe(e,o)},m(r,s){I(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=Kt(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Fe(e,o=Oe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function Pr(i,e,l){let t,n;const o=["size","title"];let r=Ie(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=pe(pe({},e),Te(f))),l(3,r=Ie(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,n,r,t]}class Br extends $e{constructor(e){super(),Se(this,e,Pr,Ar,ve,{size:0,title:1})}}function Gt(i){let e,l;return{c(){e=we("title"),l=Q(i[1])},l(t){e=ke(t,"title",{});var n=$(e);l=Z(n,i[1]),n.forEach(m)},m(t,n){I(t,e,n),b(e,l)},p(t,n){n&2&&oe(l,t[1])},d(t){t&&m(e)}}}function Rr(i){let e,l,t=i[1]&&Gt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=pe(o,n[r]);return{c(){e=we("svg"),t&&t.c(),l=we("path"),this.h()},l(r){e=ke(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=ke(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){D(l,"d","M26 24v4H6V24H4v4H4a2 2 0 002 2H26a2 2 0 002-2h0V24zM26 14L24.59 12.59 17 20.17 17 2 15 2 15 20.17 7.41 12.59 6 14 16 24 26 14z"),Fe(e,o)},m(r,s){I(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=Gt(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Fe(e,o=Oe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function Hr(i,e,l){let t,n;const o=["size","title"];let r=Ie(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=pe(pe({},e),Te(f))),l(3,r=Ie(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,n,r,t]}class Or extends $e{constructor(e){super(),Se(this,e,Hr,Rr,ve,{size:0,title:1})}}function Jt(i){let e,l;return{c(){e=we("title"),l=Q(i[1])},l(t){e=ke(t,"title",{});var n=$(e);l=Z(n,i[1]),n.forEach(m)},m(t,n){I(t,e,n),b(e,l)},p(t,n){n&2&&oe(l,t[1])},d(t){t&&m(e)}}}function Lr(i){let e,l,t,n=i[1]&&Jt(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=pe(r,o[s]);return{c(){e=we("svg"),n&&n.c(),l=we("path"),t=we("path"),this.h()},l(s){e=ke(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=$(e);n&&n.l(a),l=ke(a,"path",{d:!0}),$(l).forEach(m),t=ke(a,"path",{d:!0}),$(t).forEach(m),a.forEach(m),this.h()},h(){D(l,"d","M17 22L17 14 13 14 13 16 15 16 15 22 12 22 12 24 20 24 20 22 17 22zM16 8a1.5 1.5 0 101.5 1.5A1.5 1.5 0 0016 8z"),D(t,"d","M16,30A14,14,0,1,1,30,16,14,14,0,0,1,16,30ZM16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Z"),Fe(e,r)},m(s,a){I(s,e,a),n&&n.m(e,null),b(e,l),b(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=Jt(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),Fe(e,r=Oe(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:ee,o:ee,d(s){s&&m(e),n&&n.d()}}}function qr(i,e,l){let t,n;const o=["size","title"];let r=Ie(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=pe(pe({},e),Te(f))),l(3,r=Ie(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,n,r,t]}class mt extends $e{constructor(e){super(),Se(this,e,qr,Lr,ve,{size:0,title:1})}}function Xt(i){let e,l;return{c(){e=we("title"),l=Q(i[1])},l(t){e=ke(t,"title",{});var n=$(e);l=Z(n,i[1]),n.forEach(m)},m(t,n){I(t,e,n),b(e,l)},p(t,n){n&2&&oe(l,t[1])},d(t){t&&m(e)}}}function jr(i){let e,l,t=i[1]&&Xt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=pe(o,n[r]);return{c(){e=we("svg"),t&&t.c(),l=we("path"),this.h()},l(r){e=ke(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=ke(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){D(l,"d","M29,27.5859l-7.5521-7.5521a11.0177,11.0177,0,1,0-1.4141,1.4141L27.5859,29ZM4,13a9,9,0,1,1,9,9A9.01,9.01,0,0,1,4,13Z"),Fe(e,o)},m(r,s){I(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=Xt(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Fe(e,o=Oe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function Ur(i,e,l){let t,n;const o=["size","title"];let r=Ie(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=pe(pe({},e),Te(f))),l(3,r=Ie(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,n,r,t]}class Yr extends $e{constructor(e){super(),Se(this,e,Ur,jr,ve,{size:0,title:1})}}function xt(i){let e,l;return{c(){e=we("title"),l=Q(i[1])},l(t){e=ke(t,"title",{});var n=$(e);l=Z(n,i[1]),n.forEach(m)},m(t,n){I(t,e,n),b(e,l)},p(t,n){n&2&&oe(l,t[1])},d(t){t&&m(e)}}}function Wr(i){let e,l,t=i[1]&&xt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=pe(o,n[r]);return{c(){e=we("svg"),t&&t.c(),l=we("path"),this.h()},l(r){e=ke(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=ke(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){D(l,"d","M30 6L26 6 26 2 24 2 24 6 20 6 20 8 24 8 24 12 26 12 26 8 30 8 30 6zM24 28.5859l-5.9751-5.9751a9.0234 9.0234 0 10-1.4141 1.4141L22.5859 30zM4 17a7 7 0 117 7A7.0078 7.0078 0 014 17z"),Fe(e,o)},m(r,s){I(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=xt(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Fe(e,o=Oe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function Qr(i,e,l){let t,n;const o=["size","title"];let r=Ie(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=pe(pe({},e),Te(f))),l(3,r=Ie(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,n,r,t]}class Kn extends $e{constructor(e){super(),Se(this,e,Qr,Wr,ve,{size:0,title:1})}}function el(i){let e,l;return{c(){e=we("title"),l=Q(i[1])},l(t){e=ke(t,"title",{});var n=$(e);l=Z(n,i[1]),n.forEach(m)},m(t,n){I(t,e,n),b(e,l)},p(t,n){n&2&&oe(l,t[1])},d(t){t&&m(e)}}}function Zr(i){let e,l,t=i[1]&&el(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=pe(o,n[r]);return{c(){e=we("svg"),t&&t.c(),l=we("path"),this.h()},l(r){e=ke(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=ke(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){D(l,"d","M23,20a5,5,0,0,0-3.89,1.89L11.8,17.32a4.46,4.46,0,0,0,0-2.64l7.31-4.57A5,5,0,1,0,18,7a4.79,4.79,0,0,0,.2,1.32l-7.31,4.57a5,5,0,1,0,0,6.22l7.31,4.57A4.79,4.79,0,0,0,18,25a5,5,0,1,0,5-5ZM23,4a3,3,0,1,1-3,3A3,3,0,0,1,23,4ZM7,19a3,3,0,1,1,3-3A3,3,0,0,1,7,19Zm16,9a3,3,0,1,1,3-3A3,3,0,0,1,23,28Z"),Fe(e,o)},m(r,s){I(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=el(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Fe(e,o=Oe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function Kr(i,e,l){let t,n;const o=["size","title"];let r=Ie(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=pe(pe({},e),Te(f))),l(3,r=Ie(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,n,r,t]}class Gr extends $e{constructor(e){super(),Se(this,e,Kr,Zr,ve,{size:0,title:1})}}function tl(i){let e,l;return{c(){e=we("title"),l=Q(i[1])},l(t){e=ke(t,"title",{});var n=$(e);l=Z(n,i[1]),n.forEach(m)},m(t,n){I(t,e,n),b(e,l)},p(t,n){n&2&&oe(l,t[1])},d(t){t&&m(e)}}}function Jr(i){let e,l,t=i[1]&&tl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=pe(o,n[r]);return{c(){e=we("svg"),t&&t.c(),l=we("path"),this.h()},l(r){e=ke(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=ke(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){D(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 18H16V20H2zM6 12H16V14H6zM10 6H16V8H10z"),Fe(e,o)},m(r,s){I(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=tl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Fe(e,o=Oe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function Xr(i,e,l){let t,n;const o=["size","title"];let r=Ie(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=pe(pe({},e),Te(f))),l(3,r=Ie(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,n,r,t]}class Gn extends $e{constructor(e){super(),Se(this,e,Xr,Jr,ve,{size:0,title:1})}}function ll(i){let e,l;return{c(){e=we("title"),l=Q(i[1])},l(t){e=ke(t,"title",{});var n=$(e);l=Z(n,i[1]),n.forEach(m)},m(t,n){I(t,e,n),b(e,l)},p(t,n){n&2&&oe(l,t[1])},d(t){t&&m(e)}}}function xr(i){let e,l,t=i[1]&&ll(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=pe(o,n[r]);return{c(){e=we("svg"),t&&t.c(),l=we("path"),this.h()},l(r){e=ke(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=ke(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){D(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 6H16V8H2zM6 12H16V14H6zM10 18H16V20H10z"),Fe(e,o)},m(r,s){I(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ll(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Fe(e,o=Oe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function es(i,e,l){let t,n;const o=["size","title"];let r=Ie(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=pe(pe({},e),Te(f))),l(3,r=Ie(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,n,r,t]}class Jn extends $e{constructor(e){super(),Se(this,e,es,xr,ve,{size:0,title:1})}}function nl(i){let e,l;return{c(){e=we("title"),l=Q(i[1])},l(t){e=ke(t,"title",{});var n=$(e);l=Z(n,i[1]),n.forEach(m)},m(t,n){I(t,e,n),b(e,l)},p(t,n){n&2&&oe(l,t[1])},d(t){t&&m(e)}}}function ts(i){let e,l,t=i[1]&&nl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=pe(o,n[r]);return{c(){e=we("svg"),t&&t.c(),l=we("path"),this.h()},l(r){e=ke(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=ke(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){D(l,"d","M30 19.415L28.586 18 25 21.587 21.414 18 20 19.415 23.586 23 20 26.586 21.414 28 25 24.414 28.586 28 30 26.586 26.414 23 30 19.415zM10 18H16V20H10zM2 6H16V8H2zM6 12H16V14H6z"),Fe(e,o)},m(r,s){I(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=nl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Fe(e,o=Oe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function ls(i,e,l){let t,n;const o=["size","title"];let r=Ie(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=pe(pe({},e),Te(f))),l(3,r=Ie(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,n,r,t]}class ns extends $e{constructor(e){super(),Se(this,e,ls,ts,ve,{size:0,title:1})}}function il(i){let e,l;return{c(){e=we("title"),l=Q(i[1])},l(t){e=ke(t,"title",{});var n=$(e);l=Z(n,i[1]),n.forEach(m)},m(t,n){I(t,e,n),b(e,l)},p(t,n){n&2&&oe(l,t[1])},d(t){t&&m(e)}}}function is(i){let e,l,t=i[1]&&il(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=pe(o,n[r]);return{c(){e=we("svg"),t&&t.c(),l=we("path"),this.h()},l(r){e=ke(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=ke(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){D(l,"d","M4 6H22V8H4zM4 12H22V14H4zM4 18H22V20H4zM4 24H22V26H4zM26 6H28V8H26zM26 12H28V14H26zM26 18H28V20H26zM26 24H28V26H26z"),Fe(e,o)},m(r,s){I(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=il(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Fe(e,o=Oe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function rs(i,e,l){let t,n;const o=["size","title"];let r=Ie(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=pe(pe({},e),Te(f))),l(3,r=Ie(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,n,r,t]}class ss extends $e{constructor(e){super(),Se(this,e,rs,is,ve,{size:0,title:1})}}function rl(i){let e;return{c(){e=E("div"),this.h()},l(l){e=y(l,"DIV",{id:!0,style:!0}),$(e).forEach(m),this.h()},h(){D(e,"id","svelte-infinite-scroll"),ct(e,"width","0")},m(l,t){I(l,e,t),i[11](e)},p:ee,d(l){l&&m(e),i[11](null)}}}function as(i){let e,l=!i[1]&&!i[0]&&rl(i);return{c(){l&&l.c(),e=ae()},l(t){l&&l.l(t),e=ae()},m(t,n){l&&l.m(t,n),I(t,e,n)},p(t,[n]){!t[1]&&!t[0]?l?l.p(t,n):(l=rl(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ee,o:ee,d(t){l&&l.d(t),t&&m(e)}}}function os(i,e,l){let{threshold:t=0}=e,{horizontal:n=!1}=e,{elementScroll:o=null}=e,{hasMore:r=!0}=e,{reverse:s=!1}=e,{window:a=!1}=e;const f=ht();let u=!1,d,c,h,_;const p=k=>{if(!r)return;const T=k.target;w(T,s,n)<=t?(!u&&r&&(f("loadMore"),l(8,c=T.scrollHeight),l(9,h=T.scrollTop)),l(7,u=!0)):l(7,u=!1)},w=(k,T,z)=>{const V=k.documentElement?k.documentElement:k;return T?z?V.scrollLeft:V.scrollTop:z?V.scrollWidth-V.clientWidth-V.scrollLeft:V.scrollHeight-V.clientHeight-V.scrollTop};Dn(()=>{a?l(10,_=document):o?l(10,_=o):l(10,_=d.parentNode)}),ni(()=>{_&&(_.removeEventListener("scroll",p),_.removeEventListener("resize",p))});function S(k){He[k?"unshift":"push"](()=>{d=k,l(2,d)})}return i.$$set=k=>{"threshold"in k&&l(3,t=k.threshold),"horizontal"in k&&l(4,n=k.horizontal),"elementScroll"in k&&l(0,o=k.elementScroll),"hasMore"in k&&l(5,r=k.hasMore),"reverse"in k&&l(6,s=k.reverse),"window"in k&&l(1,a=k.window)},i.$$.update=()=>{i.$$.dirty&1088&&_&&(s&&l(10,_.scrollTop=_.scrollHeight,_),_.addEventListener("scroll",p),_.addEventListener("resize",p)),i.$$.dirty&1984&&u&&s&&l(10,_.scrollTop=_.scrollHeight-c+h,_)},[o,a,d,t,n,r,s,u,c,h,_,S]}class fs extends $e{constructor(e){super(),Se(this,e,os,as,ve,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function us(i){let e,l,t,n,o,r,s,a;t=new wi({});const f=i[3].default,u=Tn(f,i,i[6],null);return{c(){e=E("div"),l=E("button"),P(t.$$.fragment),n=U(),o=E("span"),u&&u.c(),this.h()},l(d){e=y(d,"DIV",{class:!0});var c=$(e);l=y(c,"BUTTON",{class:!0});var h=$(l);L(t.$$.fragment,h),h.forEach(m),n=Y(c),o=y(c,"SPAN",{class:!0});var _=$(o);u&&u.l(_),_.forEach(m),c.forEach(m),this.h()},h(){D(l,"class","p-0 opacity-50 hover:opacity-100"),D(o,"class","truncate"),D(e,"class","removable-tag flex items-center gap-x-1")},m(d,c){I(d,e,c),b(e,l),B(t,l,null),b(e,n),b(e,o),u&&u.m(o,null),r=!0,s||(a=Ae(l,"click",ri(i[4])),s=!0)},p(d,c){u&&u.p&&(!r||c&64)&&Vn(u,f,d,d[6],r?Cn(f,d[6],c,null):Nn(d[6]),null)},i(d){r||(g(t.$$.fragment,d),g(u,d),r=!0)},o(d){v(t.$$.fragment,d),v(u,d),r=!1},d(d){d&&m(e),R(t),u&&u.d(d),s=!1,a()}}}function cs(i){let e,l;const t=[{type:i[0]},i[2]];let n={$$slots:{default:[us]},$$scope:{ctx:i}};for(let o=0;o<t.length;o+=1)n=pe(n,t[o]);return e=new Xe({props:n}),e.$on("click",i[5]),{c(){P(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,r){B(e,o,r),l=!0},p(o,[r]){const s=r&5?Oe(t,[r&1&&{type:o[0]},r&4&&ii(o[2])]):{};r&64&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function ds(i,e,l){const t=["type"];let n=Ie(e,t),{$$slots:o={},$$scope:r}=e;const s=ht();let{type:a}=e;const f=()=>s("remove");function u(d){gt.call(this,i,d)}return i.$$set=d=>{e=pe(pe({},e),Te(d)),l(2,n=Ie(e,t)),"type"in d&&l(0,a=d.type),"$$scope"in d&&l(6,r=d.$$scope)},[a,s,n,o,f,u,r]}class At extends $e{constructor(e){super(),Se(this,e,ds,cs,ve,{type:0})}}function ms(i){let e,l=(i[2]?"":i[5])+"",t,n,o=i[0][i[1].op]+"",r,s,a;return{c(){e=E("span"),t=Q(l),n=U(),r=Q(o),s=U(),a=Q(i[4]),this.h()},l(f){e=y(f,"SPAN",{class:!0});var u=$(e);t=Z(u,l),u.forEach(m),n=Y(f),r=Z(f,o),s=Y(f),a=Z(f,i[4]),this.h()},h(){D(e,"class","font-mono")},m(f,u){I(f,e,u),b(e,t),I(f,n,u),I(f,r,u),I(f,s,u),I(f,a,u)},p(f,u){u&36&&l!==(l=(f[2]?"":f[5])+"")&&oe(t,l),u&2&&o!==(o=f[0][f[1].op]+"")&&oe(r,o),u&16&&oe(a,f[4])},d(f){f&&m(e),f&&m(n),f&&m(r),f&&m(s),f&&m(a)}}}function hs(i){let e,l,t=(i[2]?"":i[5])+"",n;return{c(){e=Q("has "),l=E("span"),n=Q(t),this.h()},l(o){e=Z(o,"has "),l=y(o,"SPAN",{class:!0});var r=$(l);n=Z(r,t),r.forEach(m),this.h()},h(){D(l,"class","font-mono")},m(o,r){I(o,e,r),I(o,l,r),b(l,n)},p(o,r){r&36&&t!==(t=(o[2]?"":o[5])+"")&&oe(n,t)},d(o){o&&m(e),o&&m(l)}}}function _s(i){let e;function l(o,r){return o[1].op==="exists"?hs:ms}let t=l(i),n=t(i);return{c(){n.c(),e=ae()},l(o){n.l(o),e=ae()},m(o,r){n.m(o,r),I(o,e,r)},p(o,r){t===(t=l(o))&&n?n.p(o,r):(n.d(1),n=t(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){n.d(o),o&&m(e)}}}function gs(i){let e,l,t,n,o,r;return l=new At({props:{interactive:!0,type:"magenta",$$slots:{default:[_s]},$$scope:{ctx:i}}}),l.$on("click",i[9]),l.$on("remove",i[10]),{c(){e=E("div"),P(l.$$.fragment),this.h()},l(s){e=y(s,"DIV",{class:!0});var a=$(e);L(l.$$.fragment,a),a.forEach(m),this.h()},h(){D(e,"class","filter-pill items-center")},m(s,a){I(s,e,a),B(l,e,null),n=!0,o||(r=Ve(t=Ne.call(null,e,{text:i[6]})),o=!0)},p(s,[a]){const f={};a&2102&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&Le(t.update)&&a&64&&t.update.call(null,{text:s[6]})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),R(l),o=!1,r()}}}function ps(i,e,l){let t,n,o,r,s;const a={equals:"=",not_equal:"≠",less:"<",less_equal:"≤",greater:">",greater_equal:"≥",in:"in",exists:"exists"};let{filter:f}=e,{hidePath:u=!1}=e;const d=qe();be(i,d,_=>l(7,s=_));const c=()=>nt({command:it.EditFilter,namespace:s.namespace,datasetName:s.datasetName,path:n}),h=()=>d.removeFilter(f);return i.$$set=_=>{"filter"in _&&l(1,f=_.filter),"hidePath"in _&&l(2,u=_.hidePath)},i.$$.update=()=>{i.$$.dirty&2&&l(4,t=ye(f.value||"false")),i.$$.dirty&2&&l(3,n=Dt(f.path)),i.$$.dirty&26&&l(6,o=f.op==="exists"?`has ${dt(n)}`:`${dt(n)} ${a[f.op]} ${t}`),i.$$.dirty&8&&l(5,r=jn(n))},[a,f,u,n,t,r,o,s,d,c,h]}class Xn extends $e{constructor(e){super(),Se(this,e,ps,gs,ve,{FILTER_SHORTHANDS:0,filter:1,hidePath:2})}get FILTER_SHORTHANDS(){return this.$$.ctx[0]}}function sl(i){let e,l=i[0].concept_namespace+"",t,n,o=i[0].concept_name+"",r;return{c(){e=E("div"),t=Q(l),n=Q(" / "),r=Q(o),this.h()},l(s){e=y(s,"DIV",{class:!0});var a=$(e);t=Z(a,l),n=Z(a," / "),r=Z(a,o),a.forEach(m),this.h()},h(){D(e,"class","mb-2 w-full text-center text-xs")},m(s,a){I(s,e,a),b(e,t),b(e,n),b(e,r)},p(s,a){a&1&&l!==(l=s[0].concept_namespace+"")&&oe(t,l),a&1&&o!==(o=s[0].concept_name+"")&&oe(r,o)},d(s){s&&m(e)}}}function bs(i){let e=Me(i[0].path)+"",l,t,n=i[0].type+"",o;return{c(){l=Q(e),t=Q(": "),o=Q(n)},l(r){l=Z(r,e),t=Z(r,": "),o=Z(r,n)},m(r,s){I(r,l,s),I(r,t,s),I(r,o,s)},p(r,s){s&1&&e!==(e=Me(r[0].path)+"")&&oe(l,e),s&1&&n!==(n=r[0].type+"")&&oe(o,n)},d(r){r&&m(l),r&&m(t),r&&m(o)}}}function al(i){let e,l,t;return l=new Wn({props:{embedding:i[0].embedding}}),{c(){e=E("div"),P(l.$$.fragment),this.h()},l(n){e=y(n,"DIV",{class:!0});var o=$(e);L(l.$$.fragment,o),o.forEach(m),this.h()},h(){D(e,"class","ml-2")},m(n,o){I(n,e,o),B(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.embedding=n[0].embedding),l.$set(r)},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&m(e),R(l)}}}function ol(i){let e,l;return{c(){e=E("div"),l=Q(i[2]),this.h()},l(t){e=y(t,"DIV",{class:!0});var n=$(e);l=Z(n,i[2]),n.forEach(m),this.h()},h(){D(e,"class","mt-2 whitespace-pre-wrap text-left")},m(t,n){I(t,e,n),b(e,l)},p(t,n){n&4&&oe(l,t[2])},d(t){t&&m(e)}}}function vs(i){let e,l,t,n,o,r,s,a,f=i[0].type==="concept"&&sl(i);n=new Xe({props:{type:i[1],$$slots:{default:[bs]},$$scope:{ctx:i}}});let u=(i[0].type==="semantic"||i[0].type==="concept")&&al(i),d=i[2]&&ol(i);return{c(){f&&f.c(),e=U(),l=E("div"),t=E("div"),P(n.$$.fragment),o=U(),u&&u.c(),r=U(),d&&d.c(),s=ae(),this.h()},l(c){f&&f.l(c),e=Y(c),l=y(c,"DIV",{class:!0});var h=$(l);t=y(h,"DIV",{class:!0});var _=$(t);L(n.$$.fragment,_),_.forEach(m),o=Y(h),u&&u.l(h),h.forEach(m),r=Y(c),d&&d.l(c),s=ae(),this.h()},h(){D(t,"class","whitespace-nowrap"),D(l,"class","flex items-center justify-items-center")},m(c,h){f&&f.m(c,h),I(c,e,h),I(c,l,h),b(l,t),B(n,t,null),b(l,o),u&&u.m(l,null),I(c,r,h),d&&d.m(c,h),I(c,s,h),a=!0},p(c,[h]){c[0].type==="concept"?f?f.p(c,h):(f=sl(c),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null);const _={};h&2&&(_.type=c[1]),h&9&&(_.$$scope={dirty:h,ctx:c}),n.$set(_),c[0].type==="semantic"||c[0].type==="concept"?u?(u.p(c,h),h&1&&g(u,1)):(u=al(c),u.c(),g(u,1),u.m(l,null)):u&&(ie(),v(u,1,1,()=>{u=null}),re()),c[2]?d?d.p(c,h):(d=ol(c),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null)},i(c){a||(g(n.$$.fragment,c),g(u),a=!0)},o(c){v(n.$$.fragment,c),v(u),a=!1},d(c){f&&f.d(c),c&&m(e),c&&m(l),R(n),u&&u.d(),c&&m(r),d&&d.d(c),c&&m(s)}}}function ws(i,e,l){let t,{search:n}=e,{tagType:o="outline"}=e;return i.$$set=r=>{"search"in r&&l(0,n=r.search),"tagType"in r&&l(1,o=r.tagType)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=n.type==="concept"?"":n.query)},[n,o,t]}class fl extends $e{constructor(e){super(),Se(this,e,ws,vs,ve,{search:0,tagType:1})}}function ks(i){let e,l=Me(i[0].path)+"",t,n,o,r;return{c(){e=E("span"),t=Q(l),n=Q(' has "'),o=Q(i[2]),r=Q('"'),this.h()},l(s){e=y(s,"SPAN",{class:!0});var a=$(e);t=Z(a,l),a.forEach(m),n=Z(s,' has "'),o=Z(s,i[2]),r=Z(s,'"'),this.h()},h(){D(e,"class","font-mono")},m(s,a){I(s,e,a),b(e,t),I(s,n,a),I(s,o,a),I(s,r,a)},p(s,a){a&1&&l!==(l=Me(s[0].path)+"")&&oe(t,l),a&4&&oe(o,s[2])},d(s){s&&m(e),s&&m(n),s&&m(o),s&&m(r)}}}function $s(i){let e,l,t,n,o,r;return l=new At({props:{title:"query",interactive:!0,type:i[1],$$slots:{default:[ks]},$$scope:{ctx:i}}}),l.$on("click",i[6]),l.$on("remove",i[7]),{c(){e=E("div"),P(l.$$.fragment),this.h()},l(s){e=y(s,"DIV",{class:!0});var a=$(e);L(l.$$.fragment,a),a.forEach(m),this.h()},h(){D(e,"class","search-pill items-center text-left")},m(s,a){I(s,e,a),B(l,e,null),n=!0,o||(r=Ve(t=Ne.call(null,e,{component:fl,props:{search:i[0],tagType:i[1]}})),o=!0)},p(s,[a]){const f={};a&2&&(f.type=s[1]),a&517&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&Le(t.update)&&a&3&&t.update.call(null,{component:fl,props:{search:s[0],tagType:s[1]}})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),R(l),o=!1,r()}}}function Ss(i,e,l){let t,n,o,{search:r}=e;const s={keyword:"outline",semantic:"teal",concept:"green"},a=qe(),f=xe();be(i,f,c=>l(3,o=c));function u(c){gt.call(this,i,c)}const d=()=>{var c;return a.removeSearch(r,((c=o.selectRowsSchema)==null?void 0:c.data)||null)};return i.$$set=c=>{"search"in c&&l(0,r=c.search)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=r.type==="concept"?r.concept_name:r.query),i.$$.dirty&1&&l(1,n=r.type!=null?s[r.type]:"outline")},[r,n,t,o,a,f,u,d]}class xn extends $e{constructor(e){super(),Se(this,e,Ss,$s,ve,{search:0})}}function ul(i,e,l){const t=i.slice();return t[26]=e[l][0],t[27]=e[l][1],t}function cl(i,e,l){const t=i.slice();return t[30]=e[l],t}function dl(i,e,l){const t=i.slice();return t[33]=e[l],t}function ml(i,e,l){const t=i.slice();return t[36]=e[l],t}function hl(i,e,l){const t=i.slice();return t[39]=e[l],t}function Es(i){let e,l,t,n=i[13],o=[];for(let a=0;a<n.length;a+=1)o[a]=pl(ml(i,n,a));const r=a=>v(o[a],1,1,()=>{o[a]=null});let s=i[8]!=null&&i[8].length>0&&bl(i);return{c(){e=E("div");for(let a=0;a<o.length;a+=1)o[a].c();l=U(),s&&s.c(),this.h()},l(a){e=y(a,"DIV",{class:!0});var f=$(e);for(let u=0;u<o.length;u+=1)o[u].l(f);l=Y(f),s&&s.l(f),f.forEach(m),this.h()},h(){D(e,"class","flex w-full flex-row gap-x-4")},m(a,f){I(a,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);b(e,l),s&&s.m(e,null),t=!0},p(a,f){if(f[0]&57352){n=a[13];let u;for(u=0;u<n.length;u+=1){const d=ml(a,n,u);o[u]?(o[u].p(d,f),g(o[u],1)):(o[u]=pl(d),o[u].c(),g(o[u],1),o[u].m(e,l))}for(ie(),u=n.length;u<o.length;u+=1)r(u);re()}a[8]!=null&&a[8].length>0?s?(s.p(a,f),f[0]&256&&g(s,1)):(s=bl(a),s.c(),g(s,1),s.m(e,null)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(a){if(!t){for(let f=0;f<n.length;f+=1)g(o[f]);g(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);v(s),t=!1},d(a){a&&m(e),Be(o,a),s&&s.d()}}}function _l(i){let e,l,t=i[14][i[36]]+"",n,o,r,s,a,f=i[3][i[36]],u=[];for(let c=0;c<f.length;c+=1)u[c]=gl(hl(i,f,c));const d=c=>v(u[c],1,1,()=>{u[c]=null});return{c(){e=E("div"),l=E("div"),n=Q(t),o=U(),r=E("div");for(let c=0;c<u.length;c+=1)u[c].c();s=U(),this.h()},l(c){e=y(c,"DIV",{class:!0});var h=$(e);l=y(h,"DIV",{class:!0});var _=$(l);n=Z(_,t),_.forEach(m),o=Y(h),r=y(h,"DIV",{class:!0});var p=$(r);for(let w=0;w<u.length;w+=1)u[w].l(p);p.forEach(m),s=Y(h),h.forEach(m),this.h()},h(){D(l,"class","text-xs font-light"),D(r,"class","flex flex-row gap-x-1"),D(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-16ln9ke")},m(c,h){I(c,e,h),b(e,l),b(l,n),b(e,o),b(e,r);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(r,null);b(e,s),a=!0},p(c,h){if(h[0]&40968){f=c[3][c[36]];let _;for(_=0;_<f.length;_+=1){const p=hl(c,f,_);u[_]?(u[_].p(p,h),g(u[_],1)):(u[_]=gl(p),u[_].c(),g(u[_],1),u[_].m(r,null))}for(ie(),_=f.length;_<u.length;_+=1)d(_);re()}},i(c){if(!a){for(let h=0;h<f.length;h+=1)g(u[h]);a=!0}},o(c){u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)v(u[h]);a=!1},d(c){c&&m(e),Be(u,c)}}}function gl(i){let e,l;function t(){return i[23](i[39])}return e=new xn({props:{search:i[39]}}),e.$on("click",t),{c(){P(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){B(e,n,o),l=!0},p(n,o){i=n;const r={};o[0]&8&&(r.search=i[39]),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){v(e.$$.fragment,n),l=!1},d(n){R(e,n)}}}function pl(i){let e,l,t=i[3][i[36]]&&_l(i);return{c(){t&&t.c(),e=ae()},l(n){t&&t.l(n),e=ae()},m(n,o){t&&t.m(n,o),I(n,e,o),l=!0},p(n,o){n[3][n[36]]?t?(t.p(n,o),o[0]&8&&g(t,1)):(t=_l(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(ie(),v(t,1,1,()=>{t=null}),re())},i(n){l||(g(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&m(e)}}}function bl(i){let e,l,t,n,o,r,s=i[8],a=[];for(let u=0;u<s.length;u+=1)a[u]=vl(dl(i,s,u));const f=u=>v(a[u],1,1,()=>{a[u]=null});return{c(){e=E("div"),l=E("div"),t=Q("Filters"),n=U(),o=E("div");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=y(u,"DIV",{class:!0});var d=$(e);l=y(d,"DIV",{class:!0});var c=$(l);t=Z(c,"Filters"),c.forEach(m),n=Y(d),o=y(d,"DIV",{class:!0});var h=$(o);for(let _=0;_<a.length;_+=1)a[_].l(h);h.forEach(m),d.forEach(m),this.h()},h(){D(l,"class","text-xs font-light"),D(o,"class","flex flex-row gap-x-1"),D(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-16ln9ke")},m(u,d){I(u,e,d),b(e,l),b(l,t),b(e,n),b(e,o);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,null);r=!0},p(u,d){if(d[0]&256){s=u[8];let c;for(c=0;c<s.length;c+=1){const h=dl(u,s,c);a[c]?(a[c].p(h,d),g(a[c],1)):(a[c]=vl(h),a[c].c(),g(a[c],1),a[c].m(o,null))}for(ie(),c=s.length;c<a.length;c+=1)f(c);re()}},i(u){if(!r){for(let d=0;d<s.length;d+=1)g(a[d]);r=!0}},o(u){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)v(a[d]);r=!1},d(u){u&&m(e),Be(a,u)}}}function vl(i){let e,l;return e=new Xn({props:{filter:i[33]}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n[0]&256&&(o.filter=t[33]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function wl(i){let e=ye(i[0])+"",l,t,n=ye(i[1].dataset_manifest.num_items)+"",o,r;return{c(){l=Q(e),t=Q(" of "),o=Q(n),r=Q(" rows")},l(s){l=Z(s,e),t=Z(s," of "),o=Z(s,n),r=Z(s," rows")},m(s,a){I(s,l,a),I(s,t,a),I(s,o,a),I(s,r,a)},p(s,a){a[0]&1&&e!==(e=ye(s[0])+"")&&oe(l,e),a[0]&2&&n!==(n=ye(s[1].dataset_manifest.num_items)+"")&&oe(o,n)},d(s){s&&m(l),s&&m(t),s&&m(o),s&&m(r)}}}function kl(i){let e,l;return e=new Vt({props:{value:i[30].path!=null?Me(i[30].path):void 0,text:i[30].text,disabled:i[30].disabled}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.value=t[30].path!=null?Me(t[30].path):void 0),n[0]&128&&(o.text=t[30].text),n[0]&128&&(o.disabled=t[30].disabled),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ys(i){let e,l,t=i[27],n=[];for(let r=0;r<t.length;r+=1)n[r]=kl(cl(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=U()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=Y(r)},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[27];let a;for(a=0;a<t.length;a+=1){const f=cl(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=kl(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Be(n,r),r&&m(e)}}}function $l(i){let e,l;return e=new Si({props:{label:i[26],$$slots:{default:[ys]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.label=t[26]),n[0]&128|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Is(i){let e,l,t=Object.entries(i[7]),n=[];for(let r=0;r<t.length;r+=1)n[r]=$l(ul(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s),l=!0},p(r,s){if(s[0]&128){t=Object.entries(r[7]);let a;for(a=0;a<t.length;a+=1){const f=ul(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=$l(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Be(n,r),r&&m(e)}}}function Sl(i){let e,l,t,n,o,r;return l=new ki({}),{c(){e=E("button"),P(l.$$.fragment),this.h()},l(s){e=y(s,"BUTTON",{});var a=$(e);L(l.$$.fragment,a),a.forEach(m),this.h()},h(){e.disabled=t=i[4]==null},m(s,a){I(s,e,a),B(l,e,null),n=!0,o||(r=[Ve(Ne.call(null,e,{text:"Clear sort"})),Ae(e,"click",i[18])],o=!0)},p(s,a){(!n||a[0]&16&&t!==(t=s[4]==null))&&(e.disabled=t)},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),R(l),o=!1,tt(r)}}}function Ds(i){let e,l;return e=new Jn({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ts(i){let e,l;return e=new Gn({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Vs(i){let e,l;return e=new ns({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function El(i){let e,l;return e=new zt({props:{open:!0,modalHeading:"Concept",passiveModal:!0,size:"lg",$$slots:{default:[Ms]},$$scope:{ctx:i}}}),e.$on("close",i[24]),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n[0]&1024|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ns(i){let e,l;return e=new dr({props:{concept:i[10].data}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n[0]&1024&&(o.concept=t[10].data),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Cs(i){let e,l=i[10].error.message+"",t;return{c(){e=E("p"),t=Q(l)},l(n){e=y(n,"P",{});var o=$(e);t=Z(o,l),o.forEach(m)},m(n,o){I(n,e,o),b(e,t)},p(n,o){o[0]&1024&&l!==(l=n[10].error.message+"")&&oe(t,l)},i:ee,o:ee,d(n){n&&m(e)}}}function Fs(i){let e,l;return e=new We({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ms(i){let e,l,t,n;const o=[Fs,Cs,Ns],r=[];function s(a,f){var u,d,c;return(u=a[10])!=null&&u.isLoading?0:(d=a[10])!=null&&d.isError?1:(c=a[10])!=null&&c.isSuccess?2:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ae()},l(a){l&&l.l(a),t=ae()},m(a,f){~e&&r[e].m(a,f),I(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(ie(),v(r[u],1,1,()=>{r[u]=null}),re()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),g(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(g(l),n=!0)},o(a){v(l),n=!1},d(a){~e&&r[e].d(a),a&&m(t)}}}function zs(i){let e,l,t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,T,z,V,A,F=i[13].length>0&&Es(i),j=i[0]&&i[1]&&wl(i);u=new Mn({props:{noLabel:!0,size:"sm",class:"w-80",selected:i[5],$$slots:{default:[Is]},$$scope:{ctx:i}}}),u.$on("update",i[16]);let X=i[6]!=null&&Sl(i);const N=[Vs,Ts,Ds],H=[];function ne(W,M){var C,x,q;return((C=W[4])==null?void 0:C.order)==null?0:((x=W[4])==null?void 0:x.order)==="ASC"?1:((q=W[4])==null?void 0:q.order)==="DESC"?2:-1}~(_=ne(i))&&(p=H[_]=N[_](i));let K=i[2]&&El(i);return{c(){e=E("div"),F&&F.c(),l=U(),t=E("div"),n=E("div"),j&&j.c(),o=U(),r=E("div"),s=E("div"),a=Q("Sort by"),f=U(),P(u.$$.fragment),d=U(),X&&X.c(),c=U(),h=E("button"),p&&p.c(),k=U(),K&&K.c(),T=ae(),this.h()},l(W){e=y(W,"DIV",{class:!0});var M=$(e);F&&F.l(M),l=Y(M),t=y(M,"DIV",{class:!0});var C=$(t);n=y(C,"DIV",{class:!0});var x=$(n);j&&j.l(x),x.forEach(m),o=Y(C),r=y(C,"DIV",{class:!0});var q=$(r);s=y(q,"DIV",{class:!0});var G=$(s);a=Z(G,"Sort by"),G.forEach(m),f=Y(q),L(u.$$.fragment,q),d=Y(q),X&&X.l(q),c=Y(q),h=y(q,"BUTTON",{});var _e=$(h);p&&p.l(_e),_e.forEach(m),q.forEach(m),C.forEach(m),M.forEach(m),k=Y(W),K&&K.l(W),T=ae(),this.h()},h(){D(n,"class","py-1"),D(s,"class","mr-1"),h.disabled=w=i[4]==null,D(r,"class","sort-container flex flex-row items-center gap-x-1"),D(t,"class","flex w-full flex-row items-center justify-between"),D(e,"class","mx-5 my-2 flex flex-col gap-y-2")},m(W,M){var C;I(W,e,M),F&&F.m(e,null),b(e,l),b(e,t),b(t,n),j&&j.m(n,null),b(t,o),b(t,r),b(r,s),b(s,a),b(r,f),B(u,r,null),b(r,d),X&&X.m(r,null),b(r,c),b(r,h),~_&&H[_].m(h,null),I(W,k,M),K&&K.m(W,M),I(W,T,M),z=!0,V||(A=[Ve(S=Ne.call(null,h,{text:((C=i[4])==null?void 0:C.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."})),Ae(h,"click",i[17])],V=!0)},p(W,M){var q;W[13].length>0&&F.p(W,M),W[0]&&W[1]?j?j.p(W,M):(j=wl(W),j.c(),j.m(n,null)):j&&(j.d(1),j=null);const C={};M[0]&32&&(C.selected=W[5]),M[0]&128|M[1]&2048&&(C.$$scope={dirty:M,ctx:W}),u.$set(C),W[6]!=null?X?(X.p(W,M),M[0]&64&&g(X,1)):(X=Sl(W),X.c(),g(X,1),X.m(r,c)):X&&(ie(),v(X,1,1,()=>{X=null}),re());let x=_;_=ne(W),_!==x&&(p&&(ie(),v(H[x],1,1,()=>{H[x]=null}),re()),~_?(p=H[_],p||(p=H[_]=N[_](W),p.c()),g(p,1),p.m(h,null)):p=null),(!z||M[0]&16&&w!==(w=W[4]==null))&&(h.disabled=w),S&&Le(S.update)&&M[0]&16&&S.update.call(null,{text:((q=W[4])==null?void 0:q.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."}),W[2]?K?(K.p(W,M),M[0]&4&&g(K,1)):(K=El(W),K.c(),g(K,1),K.m(T.parentNode,T)):K&&(ie(),v(K,1,1,()=>{K=null}),re())},i(W){z||(g(F),g(u.$$.fragment,W),g(X),g(p),g(K),z=!0)},o(W){v(F),v(u.$$.fragment,W),v(X),v(p),v(K),z=!1},d(W){W&&m(e),F&&F.d(),j&&j.d(),R(u),X&&X.d(),~_&&H[_].d(),W&&m(k),K&&K.d(W),W&&m(T),V=!1,tt(A)}}}function As(i,e,l){let t,n,o,r,s,a,f,u,d,c,h,_=ee,p=()=>(_(),_=ze(t,M=>l(10,h=M)),t);i.$$.on_destroy.push(()=>_());let{totalNumRows:w}=e,{manifest:S}=e,k=qe();be(i,k,M=>l(22,c=M));let T=xe();be(i,T,M=>l(21,d=M));let z=null;const V=["keyword","semantic","concept"],A={keyword:"Keyword",semantic:"Semantic",concept:"Concepts"};let F={};function j(M){M.type==="concept"&&l(2,z={namespace:M.concept_namespace,name:M.concept_name})}let X={};const N=M=>{const C=M.detail;C!==s&&k.setSortBy(C===""?null:Dt(C))},H=()=>{r!=null&&k.setSortBy(r.path),k.setSortOrder((r==null?void 0:r.order)==="ASC"?"DESC":"ASC")},ne=()=>{k.clearSorts()},K=M=>j(M),W=()=>l(2,z=null);return i.$$set=M=>{"totalNumRows"in M&&l(0,w=M.totalNumRows),"manifest"in M&&l(1,S=M.manifest)},i.$$.update=()=>{var M,C,x,q;if(i.$$.dirty[0]&4&&p(l(9,t=z?$i(z.namespace,z.name):void 0)),i.$$.dirty[0]&4194304&&l(20,n=Mt(c)),i.$$.dirty[0]&4194304&&l(8,o=c.query.filters),i.$$.dirty[0]&1048584){l(3,F={});for(const G of n)G.type&&(G.type in F||l(3,F[G.type]=[],F),F[G.type].push(G))}if(i.$$.dirty[0]&2097152&&l(4,r=xi(d)),i.$$.dirty[0]&2097152)for(const G of((C=(M=d.selectRowsSchema)==null?void 0:M.data)==null?void 0:C.search_results)||[])X[Me(G.result_path)]=G;i.$$.dirty[0]&16&&l(5,s=r!=null&&r.path?Me(r.path):""),i.$$.dirty[0]&4194304&&l(6,a=c.query.sort_by),i.$$.dirty[0]&2097248&&l(19,f=((q=(x=d.selectRowsSchema)==null?void 0:x.data)==null?void 0:q.schema)!=null?[{path:[""],text:"None",disabled:a==null&&s!==""},...Tt(d.selectRowsSchema.data.schema).filter(G=>G.dtype!="embedding"&&G.dtype!="string_span").map(G=>({path:G.path,text:dt(G.path.slice(1)),disabled:!1}))]:[]),i.$$.dirty[0]&524288&&l(7,u=f.reduce((G,_e)=>{const he=_e.path[0];return(G[he]=G[he]||[]).push(_e),G},{}))},[w,S,z,F,r,s,a,u,o,t,h,k,T,V,A,j,N,H,ne,f,n,d,c,K,W]}class Ps extends $e{constructor(e){super(),Se(this,e,As,zs,ve,{totalNumRows:0,manifest:1},null,[-1,-1])}}function yl(i,e,l){var r,s,a;const t=i.slice();t[13]=e[l],t[17]=l;const n=t[3].length>1?`[${t[17]}]`:"";t[14]=n;const o=((a=(s=(r=t[7].data)==null?void 0:r.ui)==null?void 0:s.markdown_paths)==null?void 0:a.find(f=>Ke(f,t[0])))!=null;return t[15]=o,t}function Il(i){let e,l,t,n=i[0].join(".")+i[14]+"",o,r,s,a,f,u;return a=new hr({props:{text:ye(i[13]),row:i[1],path:i[0],markdown:i[15],spanPaths:i[5].spanPaths,valuePaths:i[5].valuePaths,datasetViewStore:i[8],datasetStore:i[2],embeddings:i[6]}}),{c(){e=E("div"),l=E("div"),t=E("div"),o=Q(n),r=U(),s=E("div"),P(a.$$.fragment),f=U(),this.h()},l(d){e=y(d,"DIV",{class:!0});var c=$(e);l=y(c,"DIV",{class:!0});var h=$(l);t=y(h,"DIV",{class:!0});var _=$(t);o=Z(_,n),_.forEach(m),r=Y(h),s=y(h,"DIV",{class:!0});var p=$(s);L(a.$$.fragment,p),p.forEach(m),h.forEach(m),f=Y(c),c.forEach(m),this.h()},h(){D(t,"class","sticky top-0 z-10 w-full self-start border-t border-neutral-200 bg-neutral-100 px-2 py-2 pb-2 font-mono font-medium text-neutral-500"),D(s,"class","mx-4 font-normal"),D(l,"class","flex w-full flex-col"),D(e,"class","flex flex-row")},m(d,c){I(d,e,c),b(e,l),b(l,t),b(t,o),b(l,r),b(l,s),B(a,s,null),b(e,f),u=!0},p(d,c){(!u||c&9)&&n!==(n=d[0].join(".")+d[14]+"")&&oe(o,n);const h={};c&8&&(h.text=ye(d[13])),c&2&&(h.row=d[1]),c&1&&(h.path=d[0]),c&129&&(h.markdown=d[15]),c&32&&(h.spanPaths=d[5].spanPaths),c&32&&(h.valuePaths=d[5].valuePaths),c&4&&(h.datasetStore=d[2]),c&64&&(h.embeddings=d[6]),a.$set(h)},i(d){u||(g(a.$$.fragment,d),u=!0)},o(d){v(a.$$.fragment,d),u=!1},d(d){d&&m(e),R(a)}}}function Bs(i){let e,l,t=i[3],n=[];for(let r=0;r<t.length;r+=1)n[r]=Il(yl(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s),l=!0},p(r,[s]){if(s&495){t=r[3];let a;for(a=0;a<t.length;a+=1){const f=yl(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=Il(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Be(n,r),r&&m(e)}}}function Rs(i,e,l){let t,n,o,r,s,a,f,u,d=ee,c=()=>(d(),d=ze(r,k=>l(7,u=k)),r);i.$$.on_destroy.push(()=>d());let{path:h}=e,{row:_}=e,{field:p}=e;const w=qe();be(i,w,k=>l(12,a=k));const S=xe();return be(i,S,k=>l(2,f=k)),i.$$set=k=>{"path"in k&&l(0,h=k.path),"row"in k&&l(1,_=k.row),"field"in k&&l(10,p=k.field)},i.$$.update=()=>{i.$$.dirty&4&&l(11,t=f.visibleFields||[]),i.$$.dirty&5&&l(6,n=St(f,h)),i.$$.dirty&3072&&l(5,o=er(p,t)),i.$$.dirty&4096&&c(l(4,r=_t(a.namespace,a.datasetName))),i.$$.dirty&3&&l(3,s=Ei(_,h).map(k=>yi.value(k)).filter(fi))},[h,_,f,s,r,o,n,u,w,S,p,t,a]}class Hs extends $e{constructor(e){super(),Se(this,e,Rs,Bs,ve,{path:0,row:1,field:10})}}function Dl(i,e,l){const t=i.slice();return t[8]=e[l],t[10]=l,t}function Tl(i){let e,l=[],t=new Map,n,o,r=i[1];const s=a=>Me(a[8].path);for(let a=0;a<r.length;a+=1){let f=Dl(i,r,a),u=s(f);t.set(u,l[a]=Vl(u,f))}return{c(){e=E("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=y(a,"DIV",{class:!0});var f=$(e);for(let u=0;u<l.length;u+=1)l[u].l(f);f.forEach(m),this.h()},h(){D(e,"class","w-2/3 overflow-hidden"),It(()=>i[7].call(e))},m(a,f){I(a,e,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);n=si(e,i[7].bind(e)),o=!0},p(a,f){f&3&&(r=a[1],ie(),l=Et(l,f,s,1,a,r,t,e,yt,Vl,null,Dl),re())},i(a){if(!o){for(let f=0;f<r.length;f+=1)g(l[f]);o=!0}},o(a){for(let f=0;f<l.length;f+=1)v(l[f]);o=!1},d(a){a&&m(e);for(let f=0;f<l.length;f+=1)l[f].d();n()}}}function Vl(i,e){let l,t,n,o;return t=new Hs({props:{row:e[0],path:e[8].path,field:e[8]}}),{key:i,first:null,c(){l=E("div"),P(t.$$.fragment),n=U(),this.h()},l(r){l=y(r,"DIV",{class:!0});var s=$(l);L(t.$$.fragment,s),n=Y(s),s.forEach(m),this.h()},h(){D(l,"class","border-gray-100"),fe(l,"border-b",e[10]<e[1].length-1),this.first=l},m(r,s){I(r,l,s),B(t,l,null),b(l,n),o=!0},p(r,s){e=r;const a={};s&1&&(a.row=e[0]),s&2&&(a.path=e[8].path),s&2&&(a.field=e[8]),t.$set(a),(!o||s&2)&&fe(l,"border-b",e[10]<e[1].length-1)},i(r){o||(g(t.$$.fragment,r),o=!0)},o(r){v(t.$$.fragment,r),o=!1},d(r){r&&m(l),R(t)}}}function Os(i){let e,l,t,n,o,r,s,a,f,u=i[1].length>0&&Tl(i);return s=new gr({props:{row:i[0],visibleFields:i[2],selectRowsSchema:i[4]}}),{c(){e=E("div"),l=E("div"),u&&u.c(),t=U(),n=E("div"),o=E("div"),r=E("div"),P(s.$$.fragment),this.h()},l(d){e=y(d,"DIV",{class:!0});var c=$(e);l=y(c,"DIV",{class:!0});var h=$(l);u&&u.l(h),t=Y(h),n=y(h,"DIV",{class:!0});var _=$(n);o=y(_,"DIV",{class:!0});var p=$(o);r=y(p,"DIV",{style:!0,class:!0});var w=$(r);L(s.$$.fragment,w),w.forEach(m),p.forEach(m),_.forEach(m),h.forEach(m),c.forEach(m),this.h()},h(){D(r,"style",a=`max-height: ${Math.max(Nl,i[3])}px`),D(r,"class","overflow-y-auto"),D(o,"class","sticky top-0 self-start"),D(n,"class","flex h-full w-1/3 bg-neutral-100"),D(l,"class","flex h-full w-full flex-row"),D(e,"class","rounded border-x border-b border-neutral-200 shadow-md")},m(d,c){I(d,e,c),b(e,l),u&&u.m(l,null),b(l,t),b(l,n),b(n,o),b(o,r),B(s,r,null),f=!0},p(d,[c]){d[1].length>0?u?(u.p(d,c),c&2&&g(u,1)):(u=Tl(d),u.c(),g(u,1),u.m(l,t)):u&&(ie(),v(u,1,1,()=>{u=null}),re());const h={};c&1&&(h.row=d[0]),c&4&&(h.visibleFields=d[2]),c&16&&(h.selectRowsSchema=d[4]),s.$set(h),(!f||c&8&&a!==(a=`max-height: ${Math.max(Nl,d[3])}px`))&&D(r,"style",a)},i(d){f||(g(u),g(s.$$.fragment,d),f=!0)},o(d){v(u),v(s.$$.fragment,d),f=!1},d(d){d&&m(e),u&&u.d(),R(s)}}}const Nl=320;function Ls(i,e,l){let t,n,{row:o}=e,{mediaFields:r}=e,{visibleFields:s}=e;const a=xe();be(i,a,d=>l(6,n=d));let f=0;function u(){f=this.clientHeight,l(3,f)}return i.$$set=d=>{"row"in d&&l(0,o=d.row),"mediaFields"in d&&l(1,r=d.mediaFields),"visibleFields"in d&&l(2,s=d.visibleFields)},i.$$.update=()=>{var d;i.$$.dirty&64&&l(4,t=(d=n.selectRowsSchema)==null?void 0:d.data)},[o,r,s,f,t,a,n,u]}class qs extends $e{constructor(e){super(),Se(this,e,Ls,Os,ve,{row:0,mediaFields:1,visibleFields:2})}}function Cl(i,e,l){const t=i.slice();return t[23]=e[l],t}function js(i){let e,l;return{c(){e=E("div"),l=Q("No results."),this.h()},l(t){e=y(t,"DIV",{class:!0});var n=$(e);l=Z(n,"No results."),n.forEach(m),this.h()},h(){D(e,"class","mx-4 mt-8 w-full text-gray-600")},m(t,n){I(t,e,n),b(e,l)},p:ee,i:ee,o:ee,d(t){t&&m(e)}}}function Us(i){let e,l;return{c(){e=E("div"),l=Q("Select fields to display"),this.h()},l(t){e=y(t,"DIV",{class:!0});var n=$(e);l=Z(n,"Select fields to display"),n.forEach(m),this.h()},h(){D(e,"class","mt-12 w-full text-center text-gray-600")},m(t,n){I(t,e,n),b(e,l)},p:ee,i:ee,o:ee,d(t){t&&m(e)}}}function Ys(i){let e,l;return e=new We({props:{paragraph:!0,lines:3}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ws(i){var t,n;let e,l;return e=new zn({props:{lowContrast:!0,title:"Could not fetch schema:",subtitle:((t=i[2].error.body)==null?void 0:t.detail)||((n=i[2])==null?void 0:n.error.message)}}),{c(){P(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,r){B(e,o,r),l=!0},p(o,r){var a,f;const s={};r&4&&(s.subtitle=((a=o[2].error.body)==null?void 0:a.detail)||((f=o[2])==null?void 0:f.error.message)),e.$set(s)},i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),l=!1},d(o){R(e,o)}}}function Qs(i){var t;let e,l;return e=new zn({props:{lowContrast:!0,title:"Could not fetch rows:",subtitle:((t=i[4].error.body)==null?void 0:t.detail)||i[4].error.message}}),{c(){P(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){B(e,n,o),l=!0},p(n,o){var s;const r={};o&16&&(r.subtitle=((s=n[4].error.body)==null?void 0:s.detail)||n[4].error.message),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){v(e.$$.fragment,n),l=!1},d(n){R(e,n)}}}function Fl(i){let e,l,t,n=i[6],o=[];for(let a=0;a<n.length;a+=1)o[a]=Ml(Cl(i,n,a));const r=a=>v(o[a],1,1,()=>{o[a]=null});let s=i[6].length>0&&zl(i);return{c(){e=E("div");for(let a=0;a<o.length;a+=1)o[a].c();l=U(),s&&s.c(),this.h()},l(a){e=y(a,"DIV",{class:!0});var f=$(e);for(let u=0;u<o.length;u+=1)o[u].l(f);l=Y(f),s&&s.l(f),f.forEach(m),this.h()},h(){D(e,"class","flex h-full w-full flex-col gap-y-10 overflow-y-scroll px-5 pb-32")},m(a,f){I(a,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);b(e,l),s&&s.m(e,null),i[21](e),t=!0},p(a,f){if(f&98){n=a[6];let u;for(u=0;u<n.length;u+=1){const d=Cl(a,n,u);o[u]?(o[u].p(d,f),g(o[u],1)):(o[u]=Ml(d),o[u].c(),g(o[u],1),o[u].m(e,l))}for(ie(),u=n.length;u<o.length;u+=1)r(u);re()}a[6].length>0?s?(s.p(a,f),f&64&&g(s,1)):(s=zl(a),s.c(),g(s,1),s.m(e,null)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(a){if(!t){for(let f=0;f<n.length;f+=1)g(o[f]);g(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);v(s),t=!1},d(a){a&&m(e),Be(o,a),s&&s.d(),i[21](null)}}}function Ml(i){let e,l;return e=new qs({props:{visibleFields:i[1],row:i[23],mediaFields:i[5]}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.visibleFields=t[1]),n&64&&(o.row=t[23]),n&32&&(o.mediaFields=t[5]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function zl(i){let e,l;return e=new fs({props:{threshold:100}}),e.$on("loadMore",i[20]),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Zs(i){let e,l,t,n,o,r,s;e=new Ps({props:{totalNumRows:i[7],manifest:i[12].data}});const a=[Qs,Ws,Ys,Us,js],f=[];function u(c,h){var _,p,w,S;return c[4].isError?0:(_=c[2])!=null&&_.isError?1:(p=c[4])!=null&&p.isFetching||c[13].isFetching||(w=c[2])!=null&&w.isFetching||c[3].isFetching?2:c[1].length===0?3:(S=c[4])!=null&&S.isSuccess&&c[6]&&c[6].length===0?4:-1}~(t=u(i))&&(n=f[t]=a[t](i));let d=i[6]&&i[1].length>0&&i[13].isSuccess&&i[5]!=null&&Fl(i);return{c(){P(e.$$.fragment),l=U(),n&&n.c(),o=U(),d&&d.c(),r=ae()},l(c){L(e.$$.fragment,c),l=Y(c),n&&n.l(c),o=Y(c),d&&d.l(c),r=ae()},m(c,h){B(e,c,h),I(c,l,h),~t&&f[t].m(c,h),I(c,o,h),d&&d.m(c,h),I(c,r,h),s=!0},p(c,[h]){const _={};h&128&&(_.totalNumRows=c[7]),h&4096&&(_.manifest=c[12].data),e.$set(_);let p=t;t=u(c),t===p?~t&&f[t].p(c,h):(n&&(ie(),v(f[p],1,1,()=>{f[p]=null}),re()),~t?(n=f[t],n?n.p(c,h):(n=f[t]=a[t](c),n.c()),g(n,1),n.m(o.parentNode,o)):n=null),c[6]&&c[1].length>0&&c[13].isSuccess&&c[5]!=null?d?(d.p(c,h),h&8290&&g(d,1)):(d=Fl(c),d.c(),g(d,1),d.m(r.parentNode,r)):d&&(ie(),v(d,1,1,()=>{d=null}),re())},i(c){s||(g(e.$$.fragment,c),g(n),g(d),s=!0)},o(c){v(e.$$.fragment,c),v(n),v(d),s=!1},d(c){R(e,c),c&&m(l),~t&&f[t].d(c),c&&m(o),d&&d.d(c),c&&m(r)}}}function Ks(i,e,l){let t,n,o,r,s,a,f,u,d,c,h,_,p=ee,w=()=>(p(),p=ze(r,q=>l(3,_=q)),r),S,k,T=ee,z=()=>(T(),T=ze(a,q=>l(4,k=q)),a),V,A,F=ee,j=()=>(F(),F=ze(t,q=>l(12,A=q)),t),X,N=ee,H=()=>(N(),N=ze(n,q=>l(13,X=q)),n);i.$$.on_destroy.push(()=>p()),i.$$.on_destroy.push(()=>T()),i.$$.on_destroy.push(()=>F()),i.$$.on_destroy.push(()=>N());const ne=qe();be(i,ne,q=>l(19,V=q));const K=xe();be(i,K,q=>l(18,S=q));let W=null;const M=cr(W),C=()=>k==null?void 0:k.fetchNextPage();function x(q){He[q?"unshift":"push"](()=>{W=q,l(0,W)})}return i.$$.update=()=>{var q,G,_e,he,de,Ee;i.$$.dirty&524288&&j(l(11,t=Ii(V.namespace,V.datasetName))),i.$$.dirty&524288&&H(l(10,n=Nt(V.namespace,V.datasetName))),i.$$.dirty&524288&&l(17,o=Di(V)),i.$$.dirty&524288&&w(l(9,r=_t(V.namespace,V.datasetName))),i.$$.dirty&262144&&l(2,s=S.selectRowsSchema),i.$$.dirty&655364&&z(l(8,a=Ti(V.namespace,V.datasetName,o||{},s!=null&&s.isSuccess?s.data.schema:void 0))),i.$$.dirty&16&&l(7,f=(q=k.data)==null?void 0:q.pages[0].total_num_rows),i.$$.dirty&16&&l(6,u=(G=k.data)==null?void 0:G.pages.flatMap(ue=>ue.rows)),i.$$.dirty&262144&&l(1,d=(S.visibleFields||[]).sort((ue,te)=>Me(ue.path)>Me(te.path)?1:-1)),i.$$.dirty&262146&&l(16,c=((he=(_e=S.selectRowsSchema)==null?void 0:_e.data)==null?void 0:he.schema)!=null?tr((Ee=(de=S.selectRowsSchema)==null?void 0:de.data)==null?void 0:Ee.schema,d):null),i.$$.dirty&65544&&l(5,h=_.data?lr(c,_.data):[]),i.$$.dirty&1&&M.set(W)},ai(nr,M),[W,d,s,_,k,h,u,f,a,r,n,t,A,X,ne,K,c,o,S,V,C,x]}class Gs extends $e{constructor(e){super(),Se(this,e,Ks,Zs,ve,{})}}function Al(i){const e=i[3].find(function(...o){return i[38](i[48],...o)});i[49]=e;const l=i[49]!=null&&typeof i[49].id=="object"&&i[49].id.type==="field"&&i[49].id.isSignal;i[50]=l;const t=i[49]!=null&&typeof i[49].id=="object"&&i[49].id.type==="concept";i[51]=t}function Pl(i){const e=i[5].find(function(...t){return i[37](i[49],...t)});i[52]=e}function Bl(i){let e,l=i[52].text+"",t,n,o,r,s=i[52].embeddings.length>0&&Rl(i);return{c(){e=E("div"),t=Q(l),n=U(),s&&s.c(),o=ae(),this.h()},l(a){e=y(a,"DIV",{class:!0});var f=$(e);t=Z(f,l),f.forEach(m),n=Y(a),s&&s.l(a),o=ae(),this.h()},h(){D(e,"class","w-full flex-grow truncate")},m(a,f){I(a,e,f),b(e,t),I(a,n,f),s&&s.m(a,f),I(a,o,f),r=!0},p(a,f){(!r||f[0]&32|f[1]&262144)&&l!==(l=a[52].text+"")&&oe(t,l),a[52].embeddings.length>0?s?(s.p(a,f),f[0]&32|f[1]&262144&&g(s,1)):(s=Rl(a),s.c(),g(s,1),s.m(o.parentNode,o)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(a){r||(g(s),r=!0)},o(a){v(s),r=!1},d(a){a&&m(e),a&&m(n),s&&s.d(a),a&&m(o)}}}function Rl(i){let e,l,t,n,o,r;return l=new Xe({props:{$$slots:{default:[Js]},$$scope:{ctx:i}}}),{c(){e=E("div"),P(l.$$.fragment)},l(s){e=y(s,"DIV",{});var a=$(e);L(l.$$.fragment,a),a.forEach(m)},m(s,a){I(s,e,a),B(l,e,null),n=!0,o||(r=Ve(t=Ne.call(null,e,{text:`Computed embeddings: ${i[52].embeddings.join(", ")}`})),o=!0)},p(s,a){i=s;const f={};a[1]&4194304&&(f.$$scope={dirty:a,ctx:i}),l.$set(f),t&&Le(t.update)&&a[0]&32|a[1]&262144&&t.update.call(null,{text:`Computed embeddings: ${i[52].embeddings.join(", ")}`})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),R(l),o=!1,r()}}}function Js(i){let e,l;return e=new or({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Xs(i){Pl(i);let e,l,t=i[52]&&Bl(i);return{c(){e=E("div"),t&&t.c(),this.h()},l(n){e=y(n,"DIV",{class:!0});var o=$(e);t&&t.l(o),o.forEach(m),this.h()},h(){D(e,"class","flex h-full w-full items-center justify-between gap-x-1")},m(n,o){I(n,e,o),t&&t.m(e,null),l=!0},p(n,o){Pl(n),n[52]?t?(t.p(n,o),o[0]&32|o[1]&262144&&g(t,1)):(t=Bl(n),t.c(),g(t,1),t.m(e,null)):t&&(ie(),v(t,1,1,()=>{t=null}),re())},i(n){l||(g(t),l=!0)},o(n){v(t),l=!1},d(n){n&&m(e),t&&t.d()}}}function xs(i){let e,l,t=i[49].text+"",n,o,r=i[49].description&&Hl(i);return{c(){e=E("div"),l=E("div"),n=Q(t),o=U(),r&&r.c(),this.h()},l(s){e=y(s,"DIV",{class:!0});var a=$(e);l=y(a,"DIV",{});var f=$(l);n=Z(f,t),f.forEach(m),o=Y(a),r&&r.l(a),a.forEach(m),this.h()},h(){D(e,"class","flex justify-between gap-x-8"),fe(e,"isSignal",i[50]),fe(e,"isConcept",i[51])},m(s,a){I(s,e,a),b(e,l),b(l,n),b(e,o),r&&r.m(e,null)},p(s,a){a[0]&8|a[1]&131072&&t!==(t=s[49].text+"")&&oe(n,t),s[49].description?r?r.p(s,a):(r=Hl(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null),a[0]&8|a[1]&131072&&fe(e,"isSignal",s[50]),a[0]&8|a[1]&131072&&fe(e,"isConcept",s[51])},i:ee,o:ee,d(s){s&&m(e),r&&r.d()}}}function ea(i){let e,l,t,n,o,r;return l=new Xe({props:{$$slots:{default:[ra]},$$scope:{ctx:i}}}),{c(){e=E("div"),P(l.$$.fragment),t=U(),n=E("div"),o=Q("Compute embeddings to enable concept search."),this.h()},l(s){e=y(s,"DIV",{class:!0});var a=$(e);L(l.$$.fragment,a),t=Y(a),n=y(a,"DIV",{class:!0});var f=$(n);o=Z(f,"Compute embeddings to enable concept search."),f.forEach(m),a.forEach(m),this.h()},h(){D(n,"class","ml-2"),D(e,"class","new-concept flex items-center")},m(s,a){I(s,e,a),B(l,e,null),b(e,t),b(e,n),b(n,o),r=!0},p(s,a){const f={};a[1]&4194304&&(f.$$scope={dirty:a,ctx:s}),l.$set(f)},i(s){r||(g(l.$$.fragment,s),r=!0)},o(s){v(l.$$.fragment,s),r=!1},d(s){s&&m(e),R(l)}}}function ta(i){let e,l,t,n,o,r,s;return l=new Xe({props:{$$slots:{default:[sa]},$$scope:{ctx:i}}}),{c(){e=E("div"),P(l.$$.fragment),t=U(),n=E("div"),o=Q(`Semantic search:
              `),r=Q(i[1]),this.h()},l(a){e=y(a,"DIV",{class:!0});var f=$(e);L(l.$$.fragment,f),t=Y(f),n=y(f,"DIV",{class:!0});var u=$(n);o=Z(u,`Semantic search:
              `),r=Z(u,i[1]),u.forEach(m),f.forEach(m),this.h()},h(){D(n,"class","ml-2"),D(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){I(a,e,f),B(l,e,null),b(e,t),b(e,n),b(n,o),b(n,r),s=!0},p(a,f){const u={};f[1]&4194304&&(u.$$scope={dirty:f,ctx:a}),l.$set(u),(!s||f[0]&2)&&oe(r,a[1])},i(a){s||(g(l.$$.fragment,a),s=!0)},o(a){v(l.$$.fragment,a),s=!1},d(a){a&&m(e),R(l)}}}function la(i){let e,l,t,n,o,r,s;return l=new Xe({props:{$$slots:{default:[aa]},$$scope:{ctx:i}}}),{c(){e=E("div"),P(l.$$.fragment),t=U(),n=E("div"),o=Q(`Keyword search:
              `),r=Q(i[1]),this.h()},l(a){e=y(a,"DIV",{class:!0});var f=$(e);L(l.$$.fragment,f),t=Y(f),n=y(f,"DIV",{class:!0});var u=$(n);o=Z(u,`Keyword search:
              `),r=Z(u,i[1]),u.forEach(m),f.forEach(m),this.h()},h(){D(n,"class","ml-2"),D(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){I(a,e,f),B(l,e,null),b(e,t),b(e,n),b(n,o),b(n,r),s=!0},p(a,f){const u={};f[1]&4194304&&(u.$$scope={dirty:f,ctx:a}),l.$set(u),(!s||f[0]&2)&&oe(r,a[1])},i(a){s||(g(l.$$.fragment,a),s=!0)},o(a){v(l.$$.fragment,a),s=!1},d(a){a&&m(e),R(l)}}}function na(i){let e,l,t,n,o,r=i[1]!=""?":":"",s,a,f,u;return l=new Xe({props:{$$slots:{default:[oa]},$$scope:{ctx:i}}}),{c(){e=E("div"),P(l.$$.fragment),t=U(),n=E("div"),o=Q("New concept"),s=Q(r),a=U(),f=Q(i[1]),this.h()},l(d){e=y(d,"DIV",{class:!0});var c=$(e);L(l.$$.fragment,c),t=Y(c),n=y(c,"DIV",{class:!0});var h=$(n);o=Z(h,"New concept"),s=Z(h,r),a=Y(h),f=Z(h,i[1]),h.forEach(m),c.forEach(m),this.h()},h(){D(n,"class","ml-2"),D(e,"class","new-concept flex flex-row items-center justify-items-center")},m(d,c){I(d,e,c),B(l,e,null),b(e,t),b(e,n),b(n,o),b(n,s),b(n,a),b(n,f),u=!0},p(d,c){const h={};c[1]&4194304&&(h.$$scope={dirty:c,ctx:d}),l.$set(h),(!u||c[0]&2)&&r!==(r=d[1]!=""?":":"")&&oe(s,r),(!u||c[0]&2)&&oe(f,d[1])},i(d){u||(g(l.$$.fragment,d),u=!0)},o(d){v(l.$$.fragment,d),u=!1},d(d){d&&m(e),R(l)}}}function ia(i){let e;return{c(){e=E("div")},l(l){e=y(l,"DIV",{}),$(e).forEach(m)},m(l,t){I(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&m(e)}}}function Hl(i){let e,l=i[49].description+"",t;return{c(){e=E("div"),t=Q(l),this.h()},l(n){e=y(n,"DIV",{class:!0});var o=$(e);t=Z(o,l),o.forEach(m),this.h()},h(){D(e,"class","truncate text-xs text-gray-500")},m(n,o){I(n,e,o),b(e,t)},p(n,o){o[0]&8|o[1]&131072&&l!==(l=n[49].description+"")&&oe(t,l)},d(n){n&&m(e)}}}function ra(i){let e,l;return e=new Yn({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function sa(i){let e,l;return e=new Kn({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function aa(i){let e,l;return e=new Kn({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function oa(i){let e,l;return e=new Br({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function fa(i){Al(i);let e,l,t,n;const o=[ia,na,la,ta,ea,xs],r=[];function s(a,f){return a[49]==null?0:a[49].id==="new-concept"?1:a[49].id==="keyword-search"?2:a[49].id==="semantic-search"?3:a[49].id==="compute-embedding"&&a[2]&&a[0]?4:5}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ae()},l(a){l.l(a),t=ae()},m(a,f){r[e].m(a,f),I(a,t,f),n=!0},p(a,f){Al(a);let u=e;e=s(a),e===u?r[e].p(a,f):(ie(),v(r[u],1,1,()=>{r[u]=null}),re(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),g(l,1),l.m(t.parentNode,t))},i(a){n||(g(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&m(t)}}}function ua(i){var S;let e,l,t,n,o,r,s,a,f,u,d,c,h,_;n=new Yr({props:{class:"ml-2 mr-px",size:16}}),s=new zr({props:{size:"xl",class:"w-48",disabled:i[0]==null,selectedId:i[0]?Me(i[0]):(S=i[5][0])==null?void 0:S.id,items:i[5],$$slots:{default:[Xs,({item:k})=>({49:k}),({item:k})=>[0,k?262144:0]]},$$scope:{ctx:i}}}),s.$on("select",i[16]);function p(k){i[40](k)}let w={size:"xl",class:"w-full",items:i[3],shouldFilterItem:ca,placeholder:i[6],$$slots:{default:[fa,({item:k})=>({48:k}),({item:k})=>[0,k?131072:0]]},$$scope:{ctx:i}};return i[1]!==void 0&&(w.value=i[1]),u=new $r({props:w}),i[39](u),He.push(()=>Ge(u,"value",p)),u.$on("select",i[15]),{c(){e=E("div"),l=E("div"),t=E("div"),P(n.$$.fragment),o=U(),r=E("div"),P(s.$$.fragment),a=U(),f=E("div"),P(u.$$.fragment),this.h()},l(k){e=y(k,"DIV",{class:!0});var T=$(e);l=y(T,"DIV",{class:!0});var z=$(l);t=y(z,"DIV",{class:!0});var V=$(t);L(n.$$.fragment,V),V.forEach(m),o=Y(z),r=y(z,"DIV",{class:!0});var A=$(r);L(s.$$.fragment,A),A.forEach(m),a=Y(z),f=y(z,"DIV",{class:!0});var F=$(f);L(u.$$.fragment,F),F.forEach(m),z.forEach(m),T.forEach(m),this.h()},h(){D(t,"class","search-icon flex items-center svelte-mzi0ww"),D(r,"class","embedding-dropdown rounded border-r border-gray-200"),D(f,"class","search-container w-full flex-grow"),D(l,"class","flex w-full rounded border border-gray-200"),D(e,"class","flex h-full w-full flex-grow items-center")},m(k,T){I(k,e,T),b(e,l),b(l,t),B(n,t,null),b(l,o),b(l,r),B(s,r,null),b(l,a),b(l,f),B(u,f,null),c=!0,h||(_=Ve(Ne.call(null,t,{text:"Select the field to search over."})),h=!0)},p(k,T){var A;const z={};T[0]&1&&(z.disabled=k[0]==null),T[0]&33&&(z.selectedId=k[0]?Me(k[0]):(A=k[5][0])==null?void 0:A.id),T[0]&32&&(z.items=k[5]),T[0]&32|T[1]&4456448&&(z.$$scope={dirty:T,ctx:k}),s.$set(z);const V={};T[0]&8&&(V.items=k[3]),T[0]&64&&(V.placeholder=k[6]),T[0]&15|T[1]&4325376&&(V.$$scope={dirty:T,ctx:k}),!d&&T[0]&2&&(d=!0,V.value=k[1],Je(()=>d=!1)),u.$set(V)},i(k){c||(g(n.$$.fragment,k),g(s.$$.fragment,k),g(u.$$.fragment,k),c=!0)},o(k){v(n.$$.fragment,k),v(s.$$.fragment,k),v(u.$$.fragment,k),c=!1},d(k){k&&m(e),R(n),R(s),i[39](null),R(u),h=!1,_()}}}const ca=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-concept"||i.id==="compute-embedding";function da(i,e,l){let t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,T,z,V,A,F,j,X,N=ee,H=()=>(N(),N=ze(t,ce=>l(35,X=ce)),t),ne;i.$$.on_destroy.push(()=>N());const K=qe();be(i,K,ce=>l(36,ne=ce));const W=xe();be(i,W,ce=>l(30,T=ce));const M=Zn();be(i,M,ce=>l(34,j=ce));let C;function x(ce,De,Ze,Ye){if(Ze==null||De==null||ce==null)return[];const lt=Ze?rt(Ze):[],Pe=[];for(const Ce of lt){if(Ce.dtype==null||Ce.dtype==="embedding"||Ce.dtype==="binary"||!Ni(Ce.path,ce))continue;const Re=Ci(Ce);if((Re==null?void 0:Re.signal_name)==="concept_score"||(Ye==null?void 0:Ye.some(li=>li.name===(Re==null?void 0:Re.signal_name))))continue;const Pt=jn(Ce.path),Bt=dt(Ce.path.slice(ce.length));if(Bn(Ce.dtype)){Pe.push({id:{type:"field",path:Ce.path,sort:"DESC",isSignal:Re!=null},text:Bt,description:`Sort descending by ${Pt}`});continue}if(Ce.dtype==="string"||Ce.dtype==="string_span"){if(Re==null)continue;Pe.push({id:{type:"field",path:Ce.path,op:"exists",isSignal:Re!=null},text:Bt,description:`Find documents with ${Pt}`});continue}}return Pe}const q=An();be(i,q,ce=>l(43,z=ce));const G=Pn();be(i,G,ce=>l(33,F=ce));const _e=(ce,De)=>`${Me(ce||"")}_${De}`;let he={};const de=Vi();be(i,de,ce=>l(32,A=ce));const Ee=Ct();be(i,Ee,ce=>l(31,V=ce));let ue=[],te="",O;function se(){f!=null&&(l(17,he[_e(C,f)]=!0,he),z.mutate([n,o,{leaf_path:Dt(C||[]),signal:{signal_name:f}}]))}let J;const le=(ce,De)=>{C==null||f==null||(K.addSearch({path:C,type:"concept",concept_namespace:ce,concept_name:De,embedding:f}),J.clear())},me=ce=>{if(C!=null){if(ce.detail.selectedId==="new-concept"){te===O.id&&l(1,te="");const De=te.split("/",2);let Ze="",Ye="";De.length===2?[Ze,Ye]=De:[Ye]=De,nt({command:it.CreateConcept,namespace:Ze,conceptName:Ye,dataset:{namespace:n,name:o},path:C,onCreate:lt=>le(lt.detail.namespace,lt.detail.name)})}else if(ce.detail.selectedId==="keyword-search"){if(te=="")return;K.addSearch({path:C,type:"keyword",query:te})}else if(ce.detail.selectedId=="semantic-search"){if(te==""||f==null)return;K.addSearch({path:C,type:"semantic",query:te,embedding:f})}else if(ce.detail.selectedId=="compute-embedding")se();else if(ce.detail.selectedId.type==="concept")le(ce.detail.selectedId.namespace,ce.detail.selectedId.name);else if(ce.detail.selectedId.type==="field"){const De=ce.detail.selectedId;if(De.sort!=null)K.setSortBy(De.path),K.setSortOrder(De.sort);else if(De.op!=null)K.addFilter({path:De.path,op:De.op});else throw new Error(`Unknown search type ${ce.detail.selectedId}`)}else throw new Error(`Unknown search type ${ce.detail.selectedId}`);J.clear()}},je=ce=>{l(0,C=ce.detail.selectedItem.path)};let et=[];const ge=(ce,De)=>De===ce,Ue=(ce,De)=>De.id===ce.id;function Qe(ce){He[ce?"unshift":"push"](()=>{J=ce,l(4,J)})}function ti(ce){te=ce,l(1,te)}return i.$$.update=()=>{var ce,De,Ze,Ye,lt;i.$$.dirty[1]&32&&H(l(7,t=_t(ne.namespace,ne.datasetName))),i.$$.dirty[1]&32&&(n=ne.namespace),i.$$.dirty[1]&32&&(o=ne.datasetName),i.$$.dirty[1]&16&&l(19,r=(Ze=(De=(ce=X.data)==null?void 0:ce.ui)==null?void 0:De.media_paths)==null?void 0:Ze.map(Pe=>Array.isArray(Pe)?Pe:[Pe])),i.$$.dirty[0]&1074266113&&C==null&&r!=null&&l(0,C=ir(T,r)),i.$$.dirty[0]&1|i.$$.dirty[1]&32&&l(20,s=Mt(ne,C)),i.$$.dirty[0]&1073741825|i.$$.dirty[1]&4&&l(22,a=x(C,T.stats,T.schema,F.data)),i.$$.dirty[0]&1073741825|i.$$.dirty[1]&28&&l(2,f=rr(X.data,j,T,C,(F.data||[]).map(Pe=>Pe.name))),i.$$.dirty[0]&1073741825&&l(29,u=St(T,C)),i.$$.dirty[0]&536870916&&l(24,d=u!=null&&!!u.includes(f||"")),i.$$.dirty[0]&16908293&&l(27,c=!d&&he[_e(C,f)]),i.$$.dirty[0]&16777216&&l(6,h=d?"Search by keyword, field or concept.":"Search by keyword or field. Compute embedding to enable concept search."),i.$$.dirty[1]&1&&l(28,_=(lt=(Ye=V.data)==null?void 0:Ye.user)==null?void 0:lt.id),i.$$.dirty[0]&285212672|i.$$.dirty[1]&2&&l(21,p=d?sr(A.data||[],_):[]),i.$$.dirty[0]&2&&l(18,O={id:"new-concept",text:te}),i.$$.dirty[0]&2&&l(26,w={id:"keyword-search",text:te}),i.$$.dirty[0]&2&&l(25,S={id:"semantic-search",text:te}),i.$$.dirty[0]&134217728&&l(23,k={id:"compute-embedding",text:"Compute embedding",disabled:c}),i.$$.dirty[0]&133431302|i.$$.dirty[1]&3&&l(3,ue=A!=null&&A.data?[...te!=""?[w]:[],...te!=""&&f&&d?[S]:[],...d?[O]:[k],...a,...p.flatMap(Pe=>Pe.concepts.map(Ce=>({id:{namespace:Ce.namespace,name:Ce.name,type:"concept"},text:ar(Ce.namespace,Ce.name,V.data),description:Ce.description,disabled:s.some(Re=>Re.type==="concept"&&Re.concept_namespace===Ce.namespace&&Re.concept_name===Ce.name)})))]:[]),i.$$.dirty[0]&1074266112&&l(5,et=(r||[]).map(Pe=>({id:Me(Pe),text:dt(Pe),path:Pe,embeddings:St(T,Pe)})))},[C,te,f,ue,J,et,h,t,K,W,M,q,G,de,Ee,me,je,he,O,r,s,p,a,k,d,S,w,c,_,u,T,V,A,F,j,X,ne,ge,Ue,Qe,ti]}class ma extends $e{constructor(e){super(),Se(this,e,da,ua,ve,{},null,[-1,-1])}}function Ol(i){let e,l;return e=new gi({props:{light:!0,flipped:!0,$$slots:{default:[ha]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n&536871167&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ll(i){let e,l;return e=new ft({props:{text:"Sort by"}}),e.$on("click",i[19]),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ql(i){let e,l;return e=new ft({props:{text:"Filter"}}),e.$on("click",i[20]),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function jl(i){let e,l,t,n,o,r;return l=new ft({props:{disabled:!i[7],text:"Compute embedding"}}),l.$on("click",i[21]),{c(){e=E("div"),P(l.$$.fragment),this.h()},l(s){e=y(s,"DIV",{class:!0});var a=$(e);L(l.$$.fragment,a),a.forEach(m),this.h()},h(){D(e,"class","w-full")},m(s,a){I(s,e,a),B(l,e,null),n=!0,o||(r=Ve(t=Ne.call(null,e,{text:i[7]?"":"User does not have access to compute embeddings over this dataset."})),o=!0)},p(s,a){const f={};a&128&&(f.disabled=!s[7]),l.$set(f),t&&Le(t.update)&&a&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute embeddings over this dataset."})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),R(l),o=!1,r()}}}function Ul(i){let e,l;return e=new ft({props:{text:"Preview signal"}}),e.$on("click",i[22]),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Yl(i){let e,l,t,n,o,r;return l=new ft({props:{text:"Compute signal",disabled:!i[7]}}),l.$on("click",i[23]),{c(){e=E("div"),P(l.$$.fragment),this.h()},l(s){e=y(s,"DIV",{class:!0});var a=$(e);L(l.$$.fragment,a),a.forEach(m),this.h()},h(){D(e,"class","w-full")},m(s,a){I(s,e,a),B(l,e,null),n=!0,o||(r=Ve(t=Ne.call(null,e,{text:i[7]?"":"User does not have access to compute signals over this dataset."})),o=!0)},p(s,a){const f={};a&128&&(f.disabled=!s[7]),l.$set(f),t&&Le(t.update)&&a&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute signals over this dataset."})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),R(l),o=!1,r()}}}function Wl(i){let e,l,t,n,o,r;return l=new ft({props:{disabled:!i[6],text:"Delete signal"}}),l.$on("click",i[24]),{c(){e=E("div"),P(l.$$.fragment),this.h()},l(s){e=y(s,"DIV",{class:!0});var a=$(e);L(l.$$.fragment,a),a.forEach(m),this.h()},h(){D(e,"class","w-full")},m(s,a){I(s,e,a),B(l,e,null),n=!0,o||(r=Ve(t=Ne.call(null,e,{text:i[6]?"":"User does not have access to delete signals for this dataset."})),o=!0)},p(s,a){const f={};a&64&&(f.disabled=!s[6]),l.$set(f),t&&Le(t.update)&&a&64&&t.update.call(null,{text:s[6]?"":"User does not have access to delete signals for this dataset."})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),R(l),o=!1,r()}}}function ha(i){let e=bt(i[0]),l,t=$t(i[0]),n,o,r,s,a,f,u=e&&Ll(i),d=t&&ql(i),c=!i[2]&&jl(i),h=!i[2]&&Ul(i),_=!i[2]&&Yl(i),p=i[1]&&Wl(i);return{c(){u&&u.c(),l=U(),d&&d.c(),n=U(),c&&c.c(),o=U(),h&&h.c(),r=U(),_&&_.c(),s=U(),p&&p.c(),a=ae()},l(w){u&&u.l(w),l=Y(w),d&&d.l(w),n=Y(w),c&&c.l(w),o=Y(w),h&&h.l(w),r=Y(w),_&&_.l(w),s=Y(w),p&&p.l(w),a=ae()},m(w,S){u&&u.m(w,S),I(w,l,S),d&&d.m(w,S),I(w,n,S),c&&c.m(w,S),I(w,o,S),h&&h.m(w,S),I(w,r,S),_&&_.m(w,S),I(w,s,S),p&&p.m(w,S),I(w,a,S),f=!0},p(w,S){S&1&&(e=bt(w[0])),e?u?(u.p(w,S),S&1&&g(u,1)):(u=Ll(w),u.c(),g(u,1),u.m(l.parentNode,l)):u&&(ie(),v(u,1,1,()=>{u=null}),re()),S&1&&(t=$t(w[0])),t?d?(d.p(w,S),S&1&&g(d,1)):(d=ql(w),d.c(),g(d,1),d.m(n.parentNode,n)):d&&(ie(),v(d,1,1,()=>{d=null}),re()),w[2]?c&&(ie(),v(c,1,1,()=>{c=null}),re()):c?(c.p(w,S),S&4&&g(c,1)):(c=jl(w),c.c(),g(c,1),c.m(o.parentNode,o)),w[2]?h&&(ie(),v(h,1,1,()=>{h=null}),re()):h?(h.p(w,S),S&4&&g(h,1)):(h=Ul(w),h.c(),g(h,1),h.m(r.parentNode,r)),w[2]?_&&(ie(),v(_,1,1,()=>{_=null}),re()):_?(_.p(w,S),S&4&&g(_,1)):(_=Yl(w),_.c(),g(_,1),_.m(s.parentNode,s)),w[1]?p?(p.p(w,S),S&2&&g(p,1)):(p=Wl(w),p.c(),g(p,1),p.m(a.parentNode,a)):p&&(ie(),v(p,1,1,()=>{p=null}),re())},i(w){f||(g(u),g(d),g(c),g(h),g(_),g(p),f=!0)},o(w){v(u),v(d),v(c),v(h),v(_),v(p),f=!1},d(w){u&&u.d(w),w&&m(l),d&&d.d(w),w&&m(n),c&&c.d(w),w&&m(o),h&&h.d(w),w&&m(r),_&&_.d(w),w&&m(s),p&&p.d(w),w&&m(a)}}}function _a(i){let e,l,t,n=Me(i[0].path)+"",o,r,s,a,f;return{c(){e=E("p"),l=Q("Confirm deleting "),t=E("code"),o=Q(n),r=Q(" ?"),s=U(),a=E("p"),f=Q("This is a permanent action and cannot be undone."),this.h()},l(u){e=y(u,"P",{class:!0});var d=$(e);l=Z(d,"Confirm deleting "),t=y(d,"CODE",{});var c=$(t);o=Z(c,n),c.forEach(m),r=Z(d," ?"),d.forEach(m),s=Y(u),a=y(u,"P",{class:!0});var h=$(a);f=Z(h,"This is a permanent action and cannot be undone."),h.forEach(m),this.h()},h(){D(e,"class","!text-lg"),D(a,"class","mt-2")},m(u,d){I(u,e,d),b(e,l),b(e,t),b(t,o),b(e,r),I(u,s,d),I(u,a,d),b(a,f)},p(u,d){d&1&&n!==(n=Me(u[0].path)+"")&&oe(o,n)},d(u){u&&m(e),u&&m(s),u&&m(a)}}}function ga(i){let e,l,t,n,o=i[8]&&Ol(i);function r(a){i[25](a)}let s={danger:!0,modalHeading:"Delete signal",primaryButtonText:"Delete",primaryButtonIcon:i[9].isLoading?Ot:void 0,secondaryButtonText:"Cancel",$$slots:{default:[_a]},$$scope:{ctx:i}};return i[3]!==void 0&&(s.open=i[3]),l=new zt({props:s}),He.push(()=>Ge(l,"open",r)),l.$on("click:button--secondary",i[26]),l.$on("open",i[27]),l.$on("close",i[28]),l.$on("submit",i[14]),{c(){o&&o.c(),e=U(),P(l.$$.fragment)},l(a){o&&o.l(a),e=Y(a),L(l.$$.fragment,a)},m(a,f){o&&o.m(a,f),I(a,e,f),B(l,a,f),n=!0},p(a,[f]){a[8]?o?(o.p(a,f),f&256&&g(o,1)):(o=Ol(a),o.c(),g(o,1),o.m(e.parentNode,e)):o&&(ie(),v(o,1,1,()=>{o=null}),re());const u={};f&512&&(u.primaryButtonIcon=a[9].isLoading?Ot:void 0),f&536870913&&(u.$$scope={dirty:f,ctx:a}),!t&&f&8&&(t=!0,u.open=a[3],Je(()=>t=!1)),l.$set(u)},i(a){n||(g(o),g(l.$$.fragment,a),n=!0)},o(a){v(o),v(l.$$.fragment,a),n=!1},d(a){o&&o.d(a),a&&m(e),R(l,a)}}}function pa(i,e,l){let t,n,o,r,s,a,f,u,d,c,h,_,{field:p}=e,w=!1;const S=qe();be(i,S,C=>l(18,_=C));const k=xe();be(i,k,C=>l(17,h=C));const T=Fi();be(i,T,C=>l(9,d=C));const z=Ct();be(i,z,C=>l(16,c=C));function V(){d.mutate([t,n,{signal_path:p.path}],{onSuccess:()=>{l(3,w=!1),S.deleteSignal(p.path)}})}const A=()=>S.addSortBy(p.path),F=()=>nt({command:it.EditFilter,namespace:t,datasetName:n,path:p.path}),j=()=>nt({command:it.ComputeEmbedding,namespace:t,datasetName:n,path:p==null?void 0:p.path}),X=()=>nt({command:it.PreviewConcept,namespace:t,datasetName:n,path:p==null?void 0:p.path}),N=()=>nt({command:it.ComputeSignal,namespace:t,datasetName:n,path:p==null?void 0:p.path}),H=()=>l(3,w=!0);function ne(C){w=C,l(3,w)}const K=()=>l(3,w=!1);function W(C){gt.call(this,i,C)}function M(C){gt.call(this,i,C)}return i.$$set=C=>{"field"in C&&l(0,p=C.field)},i.$$.update=()=>{var C,x,q;i.$$.dirty&262144&&l(5,t=_.namespace),i.$$.dirty&262144&&l(4,n=_.datasetName),i.$$.dirty&1&&l(2,o=at(p)),i.$$.dirty&1&&l(1,r=Ft(p)),i.$$.dirty&131073&&l(15,s=Un(((C=h.selectRowsSchema)==null?void 0:C.data)||null,p.path)),i.$$.dirty&32775&&l(8,a=(bt(p)||$t(p)||!o||r)&&!s),i.$$.dirty&65536&&l(7,f=(x=c.data)==null?void 0:x.access.dataset.compute_signals),i.$$.dirty&65536&&l(6,u=(q=c.data)==null?void 0:q.access.dataset.delete_signals)},[p,r,o,w,n,t,u,f,a,d,S,k,T,z,V,s,c,h,_,A,F,j,X,N,H,ne,K,W,M]}class ba extends $e{constructor(e){super(),Se(this,e,pa,ga,ve,{field:0})}}function Ql(i,e,l){const t=i.slice();t[7]=e[l][0],t[8]=e[l][1];const n=t[2](t[7]);t[9]=n;const o=`${t[8]/t[1]*100}%`;t[10]=o;const r=ye(t[8]);return t[11]=r,t}function Zl(i){let e,l,t=i[9]+"",n,o,r,s,a,f=i[11]+"",u,d,c,h,_;function p(){return i[6](i[7])}return{c(){e=E("button"),l=E("div"),n=Q(t),r=U(),s=E("div"),a=E("div"),u=Q(f),c=U(),this.h()},l(w){e=y(w,"BUTTON",{class:!0});var S=$(e);l=y(S,"DIV",{title:!0,class:!0});var k=$(l);n=Z(k,t),k.forEach(m),r=Y(S),s=y(S,"DIV",{class:!0});var T=$(s);a=y(T,"DIV",{title:!0,class:!0});var z=$(a);u=Z(z,f),z.forEach(m),T.forEach(m),c=Y(S),S.forEach(m),this.h()},h(){D(l,"title",o=i[9]),D(l,"class","w-48 flex-none truncate px-2"),D(a,"title",d=i[11]),D(a,"class","histogram-bar my-px bg-indigo-200 pl-2 text-xs leading-5"),ct(a,"width",i[10]),D(s,"class","w-36 border-l border-gray-300 pl-2"),D(e,"class","flex items-center p-0 text-left text-xs text-black hover:bg-gray-200")},m(w,S){I(w,e,S),b(e,l),b(l,n),b(e,r),b(e,s),b(s,a),b(a,u),b(e,c),h||(_=Ae(e,"click",p),h=!0)},p(w,S){i=w,S&1&&t!==(t=i[9]+"")&&oe(n,t),S&1&&o!==(o=i[9])&&D(l,"title",o),S&1&&f!==(f=i[11]+"")&&oe(u,f),S&1&&d!==(d=i[11])&&D(a,"title",d),S&3&&ct(a,"width",i[10])},d(w){w&&m(e),h=!1,_()}}}function va(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=Zl(Ql(i,l,n));return{c(){e=E("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=y(n,"DIV",{class:!0});var o=$(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(m),this.h()},h(){D(e,"class","histogram")},m(n,o){I(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,[o]){if(o&15){l=n[0];let r;for(r=0;r<l.length;r+=1){const s=Ql(n,l,r);t[r]?t[r].p(s,o):(t[r]=Zl(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:ee,o:ee,d(n){n&&m(e),Be(t,n)}}}function wa(i,e,l){let t,{field:n}=e,{counts:o}=e,{bins:r}=e;function s(u){if(u==null)return ye(u);if(r==null||n.bins!=null)return ye(u);const[d,c]=r[u.toString()];return d==null?`< ${ye(c)}`:c==null?`≥ ${ye(d)}`:`${ye(d)} .. ${ye(c)}`}const a=ht(),f=u=>a("row-click",{value:u});return i.$$set=u=>{"field"in u&&l(4,n=u.field),"counts"in u&&l(0,o=u.counts),"bins"in u&&l(5,r=u.bins)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=Math.max(...o.map(([u,d])=>d)))},[o,t,s,a,n,r,f]}class ka extends $e{constructor(e){super(),Se(this,e,wa,va,ve,{field:4,counts:0,bins:5})}}function $a(i){let e,l,t,n,o,r,s,a,f,u,d,c=ye(i[4].total_count)+"",h,_,p,w,S,k,T,z,V,A,F,j,X=ye(i[4].approx_count_distinct)+"",N,H,ne,K,W,M;r=new mt({props:{class:"inline"}}),k=new mt({props:{class:"inline"}});let C=i[4].avg_text_length&&Kl(i),x=i[4].min_val&&i[4].max_val&&Gl(i);return{c(){e=E("table"),l=E("tbody"),t=E("tr"),n=E("td"),o=E("span"),P(r.$$.fragment),s=U(),a=E("span"),f=Q("Total count"),u=U(),d=E("td"),h=Q(c),_=U(),p=E("tr"),w=E("td"),S=E("span"),P(k.$$.fragment),T=U(),z=E("span"),V=Q("Unique values"),A=U(),F=E("td"),j=Q("~"),N=Q(X),H=U(),C&&C.c(),ne=U(),x&&x.c(),this.h()},l(q){e=y(q,"TABLE",{class:!0});var G=$(e);l=y(G,"TBODY",{});var _e=$(l);t=y(_e,"TR",{});var he=$(t);n=y(he,"TD",{class:!0});var de=$(n);o=y(de,"SPAN",{});var Ee=$(o);L(r.$$.fragment,Ee),Ee.forEach(m),s=Y(de),a=y(de,"SPAN",{});var ue=$(a);f=Z(ue,"Total count"),ue.forEach(m),de.forEach(m),u=Y(he),d=y(he,"TD",{class:!0});var te=$(d);h=Z(te,c),te.forEach(m),he.forEach(m),_=Y(_e),p=y(_e,"TR",{});var O=$(p);w=y(O,"TD",{class:!0});var se=$(w);S=y(se,"SPAN",{});var J=$(S);L(k.$$.fragment,J),J.forEach(m),T=Y(se),z=y(se,"SPAN",{});var le=$(z);V=Z(le,"Unique values"),le.forEach(m),se.forEach(m),A=Y(O),F=y(O,"TD",{class:!0});var me=$(F);j=Z(me,"~"),N=Z(me,X),me.forEach(m),O.forEach(m),H=Y(_e),C&&C.l(_e),ne=Y(_e),x&&x.l(_e),_e.forEach(m),G.forEach(m),this.h()},h(){D(n,"class","svelte-1tctrjz"),D(d,"class","svelte-1tctrjz"),D(w,"class","svelte-1tctrjz"),D(F,"class","svelte-1tctrjz"),D(e,"class","stats-table w-full svelte-1tctrjz")},m(q,G){I(q,e,G),b(e,l),b(l,t),b(t,n),b(n,o),B(r,o,null),b(n,s),b(n,a),b(a,f),b(t,u),b(t,d),b(d,h),b(l,_),b(l,p),b(p,w),b(w,S),B(k,S,null),b(w,T),b(w,z),b(z,V),b(p,A),b(p,F),b(F,j),b(F,N),b(l,H),C&&C.m(l,null),b(l,ne),x&&x.m(l,null),K=!0,W||(M=[Ve(Ne.call(null,o,{text:"Total number of rows where the value is defined."})),Ve(Ne.call(null,S,{text:"An approximation of the total number of unique values."}))],W=!0)},p(q,G){(!K||G&16)&&c!==(c=ye(q[4].total_count)+"")&&oe(h,c),(!K||G&16)&&X!==(X=ye(q[4].approx_count_distinct)+"")&&oe(N,X),q[4].avg_text_length?C?(C.p(q,G),G&16&&g(C,1)):(C=Kl(q),C.c(),g(C,1),C.m(l,ne)):C&&(ie(),v(C,1,1,()=>{C=null}),re()),q[4].min_val&&q[4].max_val?x?(x.p(q,G),G&16&&g(x,1)):(x=Gl(q),x.c(),g(x,1),x.m(l,null)):x&&(ie(),v(x,1,1,()=>{x=null}),re())},i(q){K||(g(r.$$.fragment,q),g(k.$$.fragment,q),g(C),g(x),K=!0)},o(q){v(r.$$.fragment,q),v(k.$$.fragment,q),v(C),v(x),K=!1},d(q){q&&m(e),R(r),R(k),C&&C.d(),x&&x.d(),W=!1,tt(M)}}}function Sa(i){let e,l;return e=new We({props:{paragraph:!0,width:"50%"}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ea(i){let e,l,t=i[2].error.message+"",n;return{c(){e=E("p"),l=Q("Error: "),n=Q(t)},l(o){e=y(o,"P",{});var r=$(e);l=Z(r,"Error: "),n=Z(r,t),r.forEach(m)},m(o,r){I(o,e,r),b(e,l),b(e,n)},p(o,r){r&4&&t!==(t=o[2].error.message+"")&&oe(n,t)},i:ee,o:ee,d(o){o&&m(e)}}}function Kl(i){let e,l,t,n,o,r,s,a,f,u=ye(i[4].avg_text_length)+"",d,c,h,_;return n=new mt({props:{class:"inline"}}),{c(){e=E("tr"),l=E("td"),t=E("span"),P(n.$$.fragment),o=U(),r=E("span"),s=Q("Average text length"),a=U(),f=E("td"),d=Q(u),this.h()},l(p){e=y(p,"TR",{});var w=$(e);l=y(w,"TD",{class:!0});var S=$(l);t=y(S,"SPAN",{});var k=$(t);L(n.$$.fragment,k),k.forEach(m),o=Y(S),r=y(S,"SPAN",{});var T=$(r);s=Z(T,"Average text length"),T.forEach(m),S.forEach(m),a=Y(w),f=y(w,"TD",{class:!0});var z=$(f);d=Z(z,u),z.forEach(m),w.forEach(m),this.h()},h(){D(l,"class","svelte-1tctrjz"),D(f,"class","svelte-1tctrjz")},m(p,w){I(p,e,w),b(e,l),b(l,t),B(n,t,null),b(l,o),b(l,r),b(r,s),b(e,a),b(e,f),b(f,d),c=!0,h||(_=Ve(Ne.call(null,t,{text:"The average length of the text in characters."})),h=!0)},p(p,w){(!c||w&16)&&u!==(u=ye(p[4].avg_text_length)+"")&&oe(d,u)},i(p){c||(g(n.$$.fragment,p),c=!0)},o(p){v(n.$$.fragment,p),c=!1},d(p){p&&m(e),R(n),h=!1,_()}}}function Gl(i){let e,l,t,n,o,r,s,a,f,u=ye(i[4].min_val)+"",d,c,h=ye(i[4].max_val)+"",_,p,w,S;return n=new mt({props:{class:"inline"}}),{c(){e=E("tr"),l=E("td"),t=E("span"),P(n.$$.fragment),o=U(),r=E("span"),s=Q("Range"),a=U(),f=E("td"),d=Q(u),c=Q(" .. "),_=Q(h),this.h()},l(k){e=y(k,"TR",{});var T=$(e);l=y(T,"TD",{class:!0});var z=$(l);t=y(z,"SPAN",{});var V=$(t);L(n.$$.fragment,V),V.forEach(m),o=Y(z),r=y(z,"SPAN",{});var A=$(r);s=Z(A,"Range"),A.forEach(m),z.forEach(m),a=Y(T),f=y(T,"TD",{class:!0});var F=$(f);d=Z(F,u),c=Z(F," .. "),_=Z(F,h),F.forEach(m),T.forEach(m),this.h()},h(){D(l,"class","svelte-1tctrjz"),D(f,"class","svelte-1tctrjz")},m(k,T){I(k,e,T),b(e,l),b(l,t),B(n,t,null),b(l,o),b(l,r),b(r,s),b(e,a),b(e,f),b(f,d),b(f,c),b(f,_),p=!0,w||(S=Ve(Ne.call(null,t,{text:"The minimum and maximum value across the dataset"})),w=!0)},p(k,T){(!p||T&16)&&u!==(u=ye(k[4].min_val)+"")&&oe(d,u),(!p||T&16)&&h!==(h=ye(k[4].max_val)+"")&&oe(_,h)},i(k){p||(g(n.$$.fragment,k),p=!0)},o(k){v(n.$$.fragment,k),p=!1},d(k){k&&m(e),R(n),w=!1,S()}}}function ya(i){let e,l,t;return l=new ka({props:{counts:i[5],bins:i[3],field:i[0]}}),l.$on("row-click",i[13]),{c(){e=E("div"),P(l.$$.fragment),this.h()},l(n){e=y(n,"DIV",{class:!0});var o=$(e);L(l.$$.fragment,o),o.forEach(m),this.h()},h(){D(e,"class","mt-4")},m(n,o){I(n,e,o),B(l,e,null),t=!0},p(n,o){const r={};o&32&&(r.counts=n[5]),o&8&&(r.bins=n[3]),o&1&&(r.field=n[0]),l.$set(r)},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&m(e),R(l)}}}function Ia(i){let e,l;return e=new We({props:{paragraph:!0,width:"50%"}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Da(i){let e,l,t=i[1].error.message+"",n;return{c(){e=E("p"),l=Q("Error: "),n=Q(t)},l(o){e=y(o,"P",{});var r=$(e);l=Z(r,"Error: "),n=Z(r,t),r.forEach(m)},m(o,r){I(o,e,r),b(e,l),b(e,n)},p(o,r){r&2&&t!==(t=o[1].error.message+"")&&oe(n,t)},i:ee,o:ee,d(o){o&&m(e)}}}function Ta(i){let e,l,t,n,o,r,s;const a=[Ea,Sa,$a],f=[];function u(_,p){return _[2].error?0:_[4]==null?1:2}l=u(i),t=f[l]=a[l](i);const d=[Da,Ia,ya],c=[];function h(_,p){return _[1].error?0:_[5]==null?1:_[5].length>0?2:-1}return~(o=h(i))&&(r=c[o]=d[o](i)),{c(){e=E("div"),t.c(),n=U(),r&&r.c(),this.h()},l(_){e=y(_,"DIV",{class:!0});var p=$(e);t.l(p),n=Y(p),r&&r.l(p),p.forEach(m),this.h()},h(){D(e,"class","p-4")},m(_,p){I(_,e,p),f[l].m(e,null),b(e,n),~o&&c[o].m(e,null),s=!0},p(_,[p]){let w=l;l=u(_),l===w?f[l].p(_,p):(ie(),v(f[w],1,1,()=>{f[w]=null}),re(),t=f[l],t?t.p(_,p):(t=f[l]=a[l](_),t.c()),g(t,1),t.m(e,n));let S=o;o=h(_),o===S?~o&&c[o].p(_,p):(r&&(ie(),v(c[S],1,1,()=>{c[S]=null}),re()),~o?(r=c[o],r?r.p(_,p):(r=c[o]=d[o](_),r.c()),g(r,1),r.m(e,null)):r=null)},i(_){s||(g(t),g(r),s=!0)},o(_){v(t),v(r),s=!1},d(_){_&&m(e),f[l].d(),~o&&c[o].d()}}}function Va(i,e,l){let t,n,o,r,s,a=ee,f=()=>(a(),a=ze(n,V=>l(1,s=V)),n),u,d=ee,c=()=>(d(),d=ze(t,V=>l(2,u=V)),t),h;i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>d());let{field:_}=e;const p=qe();be(i,p,V=>l(12,h=V));let w,S,k=null;function T(V){if(V==null)return;if(k!=null){const[F,j]=k[V.toString()];if(F!=null){const X={path:_.path,op:"greater_equal",value:F};p.addFilter(X)}if(j!=null){const X={path:_.path,op:"less",value:j};p.addFilter(X)}return}const A={path:_.path,op:"equals",value:V};p.addFilter(A)}const z=V=>T(V.detail.value);return i.$$set=V=>{"field"in V&&l(0,_=V.field)},i.$$.update=()=>{var V;if(i.$$.dirty&4097&&c(l(7,t=Mi(h.namespace,h.datasetName,{leaf_path:_.path}))),i.$$.dirty&1&&l(10,w=Bn(_.dtype)&&!_.categorical?"value":"count"),i.$$.dirty&1024&&l(11,S=w==="value"?"ASC":"DESC"),i.$$.dirty&7169&&f(l(6,n=zi(h.namespace,h.datasetName,{leaf_path:_.path,filters:h.query.filters,sort_by:w,sort_order:S}))),i.$$.dirty&2&&l(5,o=s.data!=null?s.data.counts:null),i.$$.dirty&4&&l(4,r=u.data!=null?u.data:null),i.$$.dirty&2)if(((V=s.data)==null?void 0:V.bins)!=null){l(3,k={});for(const[A,F,j]of Object.values(s.data.bins))l(3,k[A]=[F,j],k)}else l(3,k=null)},[_,s,u,k,r,o,n,t,p,T,w,S,h,z]}class Na extends $e{constructor(e){super(),Se(this,e,Va,Ta,ve,{field:0})}}function Jl(i,e,l){const t=i.slice();return t[38]=e[l],t}function Xl(i,e,l){const t=i.slice();return t[41]=e[l],t}function xl(i,e,l){const t=i.slice();return t[44]=e[l],t}function en(i,e,l){const t=i.slice();return t[47]=e[l],t}function Ca(i){let e,l="{}",t;return{c(){e=E("span"),t=Q(l),this.h()},l(n){e=y(n,"SPAN",{class:!0});var o=$(e);t=Z(o,l),o.forEach(m),this.h()},h(){D(e,"class","font-mono")},m(n,o){I(n,e,o),b(e,t)},p:ee,i:ee,o:ee,d(n){n&&m(e)}}}function Fa(i){let e,l,t,n;var o=ot[i[1].repeated_field.dtype];function r(s){return{props:{title:s[1].dtype}}}return o&&(l=st(o,r(i))),{c(){e=E("div"),l&&P(l.$$.fragment),t=Q("[]"),this.h()},l(s){e=y(s,"DIV",{class:!0});var a=$(e);l&&L(l.$$.fragment,a),t=Z(a,"[]"),a.forEach(m),this.h()},h(){D(e,"class","flex")},m(s,a){I(s,e,a),l&&B(l,e,null),b(e,t),n=!0},p(s,a){const f={};if(a[0]&2&&(f.title=s[1].dtype),a[0]&2&&o!==(o=ot[s[1].repeated_field.dtype])){if(l){ie();const u=l;v(u.$$.fragment,1,0,()=>{R(u,1)}),re()}o?(l=st(o,r(s)),P(l.$$.fragment),g(l.$$.fragment,1),B(l,e,t)):l=null}else o&&l.$set(f)},i(s){n||(l&&g(l.$$.fragment,s),n=!0)},o(s){l&&v(l.$$.fragment,s),n=!1},d(s){s&&m(e),l&&R(l)}}}function Ma(i){let e,l,t;var n=ot[i[1].dtype];function o(r){return{props:{title:r[1].dtype}}}return n&&(e=st(n,o(i))),{c(){e&&P(e.$$.fragment),l=ae()},l(r){e&&L(e.$$.fragment,r),l=ae()},m(r,s){e&&B(e,r,s),I(r,l,s),t=!0},p(r,s){const a={};if(s[0]&2&&(a.title=r[1].dtype),s[0]&2&&n!==(n=ot[r[1].dtype])){if(e){ie();const f=e;v(f.$$.fragment,1,0,()=>{R(f,1)}),re()}n?(e=st(n,o(r)),P(e.$$.fragment),g(e.$$.fragment,1),B(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&g(e.$$.fragment,r),t=!0)},o(r){e&&v(e.$$.fragment,r),t=!1},d(r){r&&m(l),e&&R(e,r)}}}function tn(i){let e,l;return e=new At({props:{interactive:!0,type:"green",$$slots:{default:[Pa]},$$scope:{ctx:i}}}),e.$on("click",i[32]),e.$on("remove",i[33]),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n[0]&16384|n[1]&524288&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function za(i){let e,l;return e=new Jn({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Aa(i){let e,l;return e=new Gn({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Pa(i){let e,l,t,n,o,r,s,a;const f=[Aa,za],u=[];function d(c,h){return c[14]=="ASC"?0:1}return r=d(i),s=u[r]=f[r](i),{c(){e=E("div"),l=E("div"),t=Q("Sorted"),n=U(),o=E("span"),s.c(),this.h()},l(c){e=y(c,"DIV",{class:!0});var h=$(e);l=y(h,"DIV",{class:!0});var _=$(l);t=Z(_,"Sorted"),_.forEach(m),n=Y(h),o=y(h,"SPAN",{});var p=$(o);s.l(p),p.forEach(m),h.forEach(m),this.h()},h(){D(l,"class","mr-1"),D(e,"class","flex flex-row")},m(c,h){I(c,e,h),b(e,l),b(l,t),b(e,n),b(e,o),u[r].m(o,null),a=!0},p(c,h){let _=r;r=d(c),r!==_&&(ie(),v(u[_],1,1,()=>{u[_]=null}),re(),s=u[r],s||(s=u[r]=f[r](c),s.c()),g(s,1),s.m(o,null))},i(c){a||(g(s),a=!0)},o(c){v(s),a=!1},d(c){c&&m(e),u[r].d()}}}function ln(i){let e,l,t=i[7],n=[];for(let r=0;r<t.length;r+=1)n[r]=nn(en(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[7];let a;for(a=0;a<t.length;a+=1){const f=en(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=nn(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Be(n,r),r&&m(e)}}}function nn(i){let e,l;return e=new Xn({props:{filter:i[47],hidePath:!0}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.filter=t[47]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function rn(i){let e,l;return e=new xn({props:{search:i[44]}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n[0]&4096&&(o.search=t[44]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function sn(i){var t;let e,l;return e=new Wn({props:{embedding:(t=i[41].signal)==null?void 0:t.signal_name}}),{c(){P(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){B(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&65536&&(r.embedding=(s=n[41].signal)==null?void 0:s.signal_name),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){v(e.$$.fragment,n),l=!1},d(n){R(e,n)}}}function an(i){let e,l,t,n,o,r,s;return l=new Xe({props:{type:"cyan",icon:Yn}}),l.$on("click",i[34]),n=new pr({props:{isPreview:!0}}),n.$on("click",i[35]),{c(){e=E("div"),P(l.$$.fragment),t=U(),P(n.$$.fragment),this.h()},l(a){e=y(a,"DIV",{class:!0});var f=$(e);L(l.$$.fragment,f),f.forEach(m),t=Y(a),L(n.$$.fragment,a),this.h()},h(){D(e,"class","compute-signal-preview pointer-events-auto")},m(a,f){I(a,e,f),B(l,e,null),I(a,t,f),B(n,a,f),o=!0,r||(s=Ve(Ne.call(null,e,{text:`Compute signal over the column and save the result.

This may be expensive.`})),r=!0)},p:ee,i(a){o||(g(l.$$.fragment,a),g(n.$$.fragment,a),o=!0)},o(a){v(l.$$.fragment,a),v(n.$$.fragment,a),o=!1},d(a){a&&m(e),R(l),a&&m(t),R(n,a),r=!1,s()}}}function on(i){let e,l,t,n,o,r,s;return t=new _r({}),{c(){e=E("button"),l=E("div"),P(t.$$.fragment),this.h()},l(a){e=y(a,"BUTTON",{});var f=$(e);l=y(f,"DIV",{class:!0});var u=$(l);L(t.$$.fragment,u),u.forEach(m),f.forEach(m),this.h()},h(){D(l,"class","transition"),fe(l,"rotate-180",i[20]),fe(e,"bg-slate-300",i[20])},m(a,f){I(a,e,f),b(e,l),B(t,l,null),o=!0,r||(s=[Ve(n=Ne.call(null,e,{text:i[20]?"Close statistics":"See statistics"})),Ae(e,"click",i[36])],r=!0)},p(a,f){(!o||f[0]&1048576)&&fe(l,"rotate-180",a[20]),n&&Le(n.update)&&f[0]&1048576&&n.update.call(null,{text:a[20]?"Close statistics":"See statistics"}),(!o||f[0]&1048576)&&fe(e,"bg-slate-300",a[20])},i(a){o||(g(t.$$.fragment,a),o=!0)},o(a){v(t.$$.fragment,a),o=!1},d(a){a&&m(e),R(t),r=!1,tt(s)}}}function fn(i){let e,l,t,n;return l=new Na({props:{field:i[1]}}),{c(){e=E("div"),P(l.$$.fragment),this.h()},l(o){e=y(o,"DIV",{class:!0});var r=$(e);L(l.$$.fragment,r),r.forEach(m),this.h()},h(){D(e,"class","px-2")},m(o,r){I(o,e,r),B(l,e,null),n=!0},p(o,r){const s={};r[0]&2&&(s.field=o[1]),l.$set(s)},i(o){n||(g(l.$$.fragment,o),o&&It(()=>{n&&(t||(t=pt(e,vt,{},!0)),t.run(1))}),n=!0)},o(o){v(l.$$.fragment,o),o&&(t||(t=pt(e,vt,{},!1)),t.run(0)),n=!1},d(o){o&&m(e),R(l),o&&t&&t.end()}}}function un(i){let e,l,t=i[18],n=[];for(let r=0;r<t.length;r+=1)n[r]=cn(Jl(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s),l=!0},p(r,s){if(s[0]&262415){t=r[18];let a;for(a=0;a<t.length;a+=1){const f=Jl(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=cn(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Be(n,r),r&&m(e)}}}function cn(i){let e,l;return e=new ei({props:{schema:i[0],field:i[38],indent:i[3]+1,sourceField:i[8]&&at(i[38])?i[1]:i[2]}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&262144&&(o.field=t[38]),n[0]&8&&(o.indent=t[3]+1),n[0]&262406&&(o.sourceField=t[8]&&at(t[38])?t[1]:t[2]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ba(i){let e,l,t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,T,z,V,A,F,j,X,N,H,ne;n=new Rn({props:{labelText:"Show",hideLabel:!0,checked:i[17]}}),n.$on("change",i[30]);const K=[Ma,Fa,Ca],W=[];function M(J,le){return J[1].dtype?0:J[1].repeated_field&&J[1].repeated_field.dtype?1:2}s=M(i),a=W[s]=K[s](i);let C=i[15]&&tn(i),x=i[13]&&ln(i),q=i[12],G=[];for(let J=0;J<q.length;J+=1)G[J]=rn(xl(i,q,J));const _e=J=>v(G[J],1,1,()=>{G[J]=null});let he=i[16],de=[];for(let J=0;J<he.length;J+=1)de[J]=sn(Xl(i,he,J));const Ee=J=>v(de[J],1,1,()=>{de[J]=null});let ue=i[4]&&i[21]&&an(i),te=i[10]&&on(i);V=new ba({props:{field:i[1]}});let O=i[20]&&fn(i),se=i[18].length&&un(i);return{c(){e=E("div"),l=E("div"),t=E("div"),P(n.$$.fragment),o=U(),r=E("div"),a.c(),u=U(),d=E("button"),c=Q(i[19]),_=U(),C&&C.c(),p=U(),x&&x.c(),w=U();for(let J=0;J<G.length;J+=1)G[J].c();S=U();for(let J=0;J<de.length;J+=1)de[J].c();k=U(),ue&&ue.c(),T=U(),te&&te.c(),z=U(),P(V.$$.fragment),A=U(),O&&O.c(),F=U(),j=E("div"),se&&se.c(),this.h()},l(J){e=y(J,"DIV",{class:!0});var le=$(e);l=y(le,"DIV",{class:!0});var me=$(l);t=y(me,"DIV",{});var je=$(t);L(n.$$.fragment,je),je.forEach(m),o=Y(me),r=y(me,"DIV",{class:!0});var et=$(r);a.l(et),et.forEach(m),u=Y(me),d=y(me,"BUTTON",{class:!0});var ge=$(d);c=Z(ge,i[19]),ge.forEach(m),_=Y(me),C&&C.l(me),p=Y(me),x&&x.l(me),w=Y(me);for(let Qe=0;Qe<G.length;Qe+=1)G[Qe].l(me);S=Y(me);for(let Qe=0;Qe<de.length;Qe+=1)de[Qe].l(me);k=Y(me),ue&&ue.l(me),T=Y(me),te&&te.l(me),z=Y(me),L(V.$$.fragment,me),me.forEach(m),A=Y(le),O&&O.l(le),F=Y(le),j=y(le,"DIV",{});var Ue=$(j);se&&se.l(Ue),Ue.forEach(m),le.forEach(m),this.h()},h(){ct(t,"margin-left",i[3]*1.5+"rem"),D(r,"class","rounded-md bg-blue-200 p-0.5"),fe(r,"bg-blue-200",i[5]),D(d,"class","ml-2 grow cursor-pointer truncate whitespace-nowrap text-left text-gray-900"),d.disabled=h=!i[10],fe(d,"cursor-default",!i[10]),D(l,"class","flex w-full flex-row items-center gap-x-2 border-gray-300 px-4 hover:bg-gray-100"),fe(l,"bg-blue-50",i[5]),fe(l,"bg-emerald-100",i[4]),fe(l,"hover:bg-blue-100",i[5]),D(e,"class","border-gray-300"),fe(e,"border-b",!i[5])},m(J,le){I(J,e,le),b(e,l),b(l,t),B(n,t,null),b(l,o),b(l,r),W[s].m(r,null),b(l,u),b(l,d),b(d,c),b(l,_),C&&C.m(l,null),b(l,p),x&&x.m(l,null),b(l,w);for(let me=0;me<G.length;me+=1)G[me]&&G[me].m(l,null);b(l,S);for(let me=0;me<de.length;me+=1)de[me]&&de[me].m(l,null);b(l,k),ue&&ue.m(l,null),b(l,T),te&&te.m(l,null),b(l,z),B(V,l,null),b(e,A),O&&O.m(e,null),b(e,F),b(e,j),se&&se.m(j,null),N=!0,H||(ne=[Ve(f=Ne.call(null,r,{text:i[11]})),Ae(d,"click",i[31])],H=!0)},p(J,le){const me={};le[0]&131072&&(me.checked=J[17]),n.$set(me),le[0]&8&&ct(t,"margin-left",J[3]*1.5+"rem");let je=s;if(s=M(J),s===je?W[s].p(J,le):(ie(),v(W[je],1,1,()=>{W[je]=null}),re(),a=W[s],a?a.p(J,le):(a=W[s]=K[s](J),a.c()),g(a,1),a.m(r,null)),f&&Le(f.update)&&le[0]&2048&&f.update.call(null,{text:J[11]}),(!N||le[0]&32)&&fe(r,"bg-blue-200",J[5]),(!N||le[0]&524288)&&oe(c,J[19]),(!N||le[0]&1024&&h!==(h=!J[10]))&&(d.disabled=h),(!N||le[0]&1024)&&fe(d,"cursor-default",!J[10]),J[15]?C?(C.p(J,le),le[0]&32768&&g(C,1)):(C=tn(J),C.c(),g(C,1),C.m(l,p)):C&&(ie(),v(C,1,1,()=>{C=null}),re()),J[13]?x?(x.p(J,le),le[0]&8192&&g(x,1)):(x=ln(J),x.c(),g(x,1),x.m(l,w)):x&&(ie(),v(x,1,1,()=>{x=null}),re()),le[0]&4096){q=J[12];let ge;for(ge=0;ge<q.length;ge+=1){const Ue=xl(J,q,ge);G[ge]?(G[ge].p(Ue,le),g(G[ge],1)):(G[ge]=rn(Ue),G[ge].c(),g(G[ge],1),G[ge].m(l,S))}for(ie(),ge=q.length;ge<G.length;ge+=1)_e(ge);re()}if(le[0]&65536){he=J[16];let ge;for(ge=0;ge<he.length;ge+=1){const Ue=Xl(J,he,ge);de[ge]?(de[ge].p(Ue,le),g(de[ge],1)):(de[ge]=sn(Ue),de[ge].c(),g(de[ge],1),de[ge].m(l,k))}for(ie(),ge=he.length;ge<de.length;ge+=1)Ee(ge);re()}J[4]&&J[21]?ue?(ue.p(J,le),le[0]&2097168&&g(ue,1)):(ue=an(J),ue.c(),g(ue,1),ue.m(l,T)):ue&&(ie(),v(ue,1,1,()=>{ue=null}),re()),J[10]?te?(te.p(J,le),le[0]&1024&&g(te,1)):(te=on(J),te.c(),g(te,1),te.m(l,z)):te&&(ie(),v(te,1,1,()=>{te=null}),re());const et={};le[0]&2&&(et.field=J[1]),V.$set(et),(!N||le[0]&32)&&fe(l,"bg-blue-50",J[5]),(!N||le[0]&16)&&fe(l,"bg-emerald-100",J[4]),(!N||le[0]&32)&&fe(l,"hover:bg-blue-100",J[5]),J[20]?O?(O.p(J,le),le[0]&1048576&&g(O,1)):(O=fn(J),O.c(),g(O,1),O.m(e,F)):O&&(ie(),v(O,1,1,()=>{O=null}),re()),J[18].length?se?(se.p(J,le),le[0]&262144&&g(se,1)):(se=un(J),se.c(),g(se,1),se.m(j,null)):se&&(ie(),v(se,1,1,()=>{se=null}),re()),(!N||le[0]&32)&&fe(e,"border-b",!J[5])},i(J){if(!N){g(n.$$.fragment,J),g(a),g(C),g(x);for(let le=0;le<q.length;le+=1)g(G[le]);for(let le=0;le<he.length;le+=1)g(de[le]);g(ue),g(te),g(V.$$.fragment,J),g(O),g(se),J&&It(()=>{N&&(X||(X=pt(j,vt,{},!0)),X.run(1))}),N=!0}},o(J){v(n.$$.fragment,J),v(a),v(C),v(x),G=G.filter(Boolean);for(let le=0;le<G.length;le+=1)v(G[le]);de=de.filter(Boolean);for(let le=0;le<de.length;le+=1)v(de[le]);v(ue),v(te),v(V.$$.fragment,J),v(O),v(se),J&&(X||(X=pt(j,vt,{},!1)),X.run(0)),N=!1},d(J){J&&m(e),R(n),W[s].d(),C&&C.d(),x&&x.d(),Be(G,J),Be(de,J),ue&&ue.d(),te&&te.d(),R(V),O&&O.d(),se&&se.d(),J&&X&&X.end(),H=!1,tt(ne)}}}function Ra(i,e,l){let t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,T,z,V,A,F,j,X,{schema:N}=e,{field:H}=e,{sourceField:ne=void 0}=e,{indent:K=0}=e;const W=An();be(i,W,te=>l(22,X=te));const M=qe();be(i,M,te=>l(9,F=te));const C=xe();be(i,C,te=>l(29,j=te));function x(te){return te!=null&&te.repeated_field?x(te.repeated_field):te!=null&&te.fields?[...Object.values(te.fields).filter(O=>O.path.at(-1)!==Ai)].filter(O=>{var se,J,le,me;return!(O.dtype==="embedding"||O.signal!=null&&rt(O).some(je=>je.dtype==="embedding")||((se=O.signal)==null?void 0:se.signal_name)==="sentences"||((J=O.signal)==null?void 0:J.signal_name)==="substring_search"||((le=O.signal)==null?void 0:le.signal_name)==="semantic_similarity"||((me=O.signal)==null?void 0:me.signal_name)==="concept_labels")}):[]}const q=()=>{d?(M.removeSelectedColumn(r),H.repeated_field!=null&&M.removeSelectedColumn([...r,ut])):(H.signal!=null&&rt(H).forEach(O=>{M.addSelectedColumn(O.path)}),M.addSelectedColumn(r),H.repeated_field!=null&&M.addSelectedColumn([...r,ut]))},G=()=>{A&&(s?M.removeExpandedColumn(r):M.addExpandedColumn(r))},_e=()=>_==="ASC"?kt(M,F.query.sort_order="DESC",F):kt(M,F.query.sort_order="ASC",F),he=()=>M.removeSortBy(r),de=()=>H.signal&&S&&ne&&X.mutate([F.namespace,F.datasetName,{leaf_path:ne.path,signal:H.signal}]),Ee=()=>{var te;return H.signal&&S&&nt({command:it.EditPreviewConcept,namespace:F.namespace,datasetName:F.datasetName,path:ne==null?void 0:ne.path,signalName:(te=H.signal)==null?void 0:te.signal_name,value:H.signal})},ue=()=>{s?M.removeExpandedColumn(r):M.addExpandedColumn(r)};return i.$$set=te=>{"schema"in te&&l(0,N=te.schema),"field"in te&&l(1,H=te.field),"sourceField"in te&&l(2,ne=te.sourceField),"indent"in te&&l(3,K=te.indent)},i.$$.update=()=>{var te,O,se,J;i.$$.dirty[0]&2&&l(5,t=at(H)),i.$$.dirty[0]&2&&l(21,n=Ft(H)),i.$$.dirty[0]&32&&l(8,o=!t),i.$$.dirty[0]&2&&l(6,r=H.path),i.$$.dirty[0]&576&&l(20,s=F.expandedColumns[Me(r)]||!1),i.$$.dirty[0]&64&&l(28,a=r.at(-1)===ut),i.$$.dirty[0]&268435520&&l(19,f=a?r.at(-2):r.at(-1)),i.$$.dirty[0]&2&&l(18,u=x(H)),i.$$.dirty[0]&536870976&&l(17,d=(te=j.visibleFields)==null?void 0:te.some(le=>Ke(le.path,r))),i.$$.dirty[0]&258&&l(16,c=o?rt(H).filter(le=>le.signal!=null&&rt(le).some(me=>me.dtype==="embedding")):[]),i.$$.dirty[0]&576&&l(15,h=(O=F.query.sort_by)==null?void 0:O.some(le=>Ke(le,r))),i.$$.dirty[0]&512&&l(14,_=F.query.sort_order),i.$$.dirty[0]&576&&l(7,p=((se=F.query.filters)==null?void 0:se.filter(le=>Ke(le.path,r)))||[]),i.$$.dirty[0]&128&&l(13,w=p.length>0),i.$$.dirty[0]&536870976&&l(4,S=Un(((J=j.selectRowsSchema)==null?void 0:J.data)||null,r)),i.$$.dirty[0]&576&&l(12,k=Mt(F,r)),i.$$.dirty[0]&32&&l(26,T=t?". Generated by a signal":""),i.$$.dirty[0]&2&&l(27,z=H.dtype??(H.repeated_field&&H.repeated_field.dtype?`${H.repeated_field.dtype}[]`:"object")),i.$$.dirty[0]&201326592&&l(11,V=`${z}${T}`),i.$$.dirty[0]&18&&l(10,A=bt(H)&&!S)},[N,H,ne,K,S,t,r,p,o,F,A,V,k,w,_,h,c,d,u,f,s,n,X,W,M,C,T,z,a,j,q,G,_e,he,de,Ee,ue]}class ei extends $e{constructor(e){super(),Se(this,e,Ra,Ba,ve,{schema:0,field:1,sourceField:2,indent:3},null,[-1,-1])}}function dn(i,e,l){const t=i.slice();return t[3]=e[l],t}function Ha(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=s=>s[3];for(let s=0;s<o.length;s+=1){let a=dn(i,o,s),f=r(a);l.set(f,e[s]=mn(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=ae()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=ae()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);I(s,t,a),n=!0},p(s,a){a&1&&(o=Object.keys(s[0].data.schema.fields),ie(),e=Et(e,a,r,1,s,o,l,t.parentNode,yt,mn,t,dn),re())},i(s){if(!n){for(let a=0;a<o.length;a+=1)g(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)v(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&m(t)}}}function Oa(i){let e,l;return e=new We({props:{paragraph:!0,lines:3}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function mn(i,e){let l,t,n;return t=new ei({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=ae(),P(t.$$.fragment),this.h()},l(o){l=ae(),L(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){I(o,l,r),B(t,o,r),n=!0},p(o,r){e=o;const s={};r&1&&(s.schema=e[0].data.schema),r&1&&(s.field=e[0].data.schema.fields[e[3]]),t.$set(s)},i(o){n||(g(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&m(l),R(t,o)}}}function La(i){let e,l,t,n;const o=[Oa,Ha],r=[];function s(a,f){var u,d;return(u=a[0])!=null&&u.isLoading?0:(d=a[0])!=null&&d.isSuccess&&a[0].data.schema.fields!=null?1:-1}return~(l=s(i))&&(t=r[l]=o[l](i)),{c(){e=E("div"),t&&t.c(),this.h()},l(a){e=y(a,"DIV",{class:!0});var f=$(e);t&&t.l(f),f.forEach(m),this.h()},h(){D(e,"class","schema flex h-full flex-col overflow-y-auto")},m(a,f){I(a,e,f),~l&&r[l].m(e,null),n=!0},p(a,[f]){let u=l;l=s(a),l===u?~l&&r[l].p(a,f):(t&&(ie(),v(r[u],1,1,()=>{r[u]=null}),re()),~l?(t=r[l],t?t.p(a,f):(t=r[l]=o[l](a),t.c()),g(t,1),t.m(e,null)):t=null)},i(a){n||(g(t),n=!0)},o(a){v(t),n=!1},d(a){a&&m(e),~l&&r[l].d()}}}function qa(i,e,l){let t,n;const o=xe();return be(i,o,r=>l(2,n=r)),i.$$.update=()=>{i.$$.dirty&4&&l(0,t=n.selectRowsSchema)},[t,o,n]}class ja extends $e{constructor(e){super(),Se(this,e,qa,La,ve,{})}}function hn(i,e,l){const t=i.slice();return t[5]=e[l],t}function Ua(i){let e,l="{}",t;return{c(){e=E("span"),t=Q(l),this.h()},l(n){e=y(n,"SPAN",{class:!0});var o=$(e);t=Z(o,l),o.forEach(m),this.h()},h(){D(e,"class","font-mono")},m(n,o){I(n,e,o),b(e,t)},p:ee,i:ee,o:ee,d(n){n&&m(e)}}}function Ya(i){let e,l,t;var n=ot[i[5].dtype];function o(r){return{props:{title:r[5].dtype}}}return n&&(e=st(n,o(i))),{c(){e&&P(e.$$.fragment),l=ae()},l(r){e&&L(e.$$.fragment,r),l=ae()},m(r,s){e&&B(e,r,s),I(r,l,s),t=!0},p(r,s){const a={};if(s&2&&(a.title=r[5].dtype),s&2&&n!==(n=ot[r[5].dtype])){if(e){ie();const f=e;v(f.$$.fragment,1,0,()=>{R(f,1)}),re()}n?(e=st(n,o(r)),P(e.$$.fragment),g(e.$$.fragment,1),B(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&g(e.$$.fragment,r),t=!0)},o(r){e&&v(e.$$.fragment,r),t=!1},d(r){r&&m(l),e&&R(e,r)}}}function _n(i){let e;return{c(){e=Q("[]")},l(l){e=Z(l,"[]")},m(l,t){I(l,e,t)},d(l){l&&m(e)}}}function gn(i){let e,l,t,n,o,r,s,a,f,u=i[5].path.indexOf(ut)>=0,d,c,h=Me(i[5].path)+"",_,p,w;function S(...F){return i[3](i[5],...F)}function k(...F){return i[4](i[5],...F)}t=new Rn({props:{labelText:"Download",hideLabel:!0,checked:i[0].find(S)!=null}}),t.$on("change",k);const T=[Ya,Ua],z=[];function V(F,j){return F[5].dtype?0:1}s=V(i),a=z[s]=T[s](i);let A=u&&_n();return{c(){e=E("div"),l=E("div"),P(t.$$.fragment),n=U(),o=E("div"),r=E("div"),a.c(),f=U(),A&&A.c(),d=U(),c=E("div"),_=Q(h),p=U(),this.h()},l(F){e=y(F,"DIV",{class:!0});var j=$(e);l=y(j,"DIV",{class:!0});var X=$(l);L(t.$$.fragment,X),X.forEach(m),n=Y(j),o=y(j,"DIV",{class:!0});var N=$(o);r=y(N,"DIV",{class:!0});var H=$(r);a.l(H),f=Y(H),A&&A.l(H),H.forEach(m),N.forEach(m),d=Y(j),c=y(j,"DIV",{class:!0});var ne=$(c);_=Z(ne,h),ne.forEach(m),p=Y(j),j.forEach(m),this.h()},h(){D(l,"class","mr-2"),D(r,"class","inline-flex items-center rounded-md bg-blue-200 p-0.5"),D(o,"class","flex w-10"),D(c,"class","flex-grow"),D(e,"class","flex items-center")},m(F,j){I(F,e,j),b(e,l),B(t,l,null),b(e,n),b(e,o),b(o,r),z[s].m(r,null),b(r,f),A&&A.m(r,null),b(e,d),b(e,c),b(c,_),b(e,p),w=!0},p(F,j){i=F;const X={};j&3&&(X.checked=i[0].find(S)!=null),t.$set(X);let N=s;s=V(i),s===N?z[s].p(i,j):(ie(),v(z[N],1,1,()=>{z[N]=null}),re(),a=z[s],a?a.p(i,j):(a=z[s]=T[s](i),a.c()),g(a,1),a.m(r,f)),j&2&&(u=i[5].path.indexOf(ut)>=0),u?A||(A=_n(),A.c(),A.m(r,null)):A&&(A.d(1),A=null),(!w||j&2)&&h!==(h=Me(i[5].path)+"")&&oe(_,h)},i(F){w||(g(t.$$.fragment,F),g(a),w=!0)},o(F){v(t.$$.fragment,F),v(a),w=!1},d(F){F&&m(e),R(t),z[s].d(),A&&A.d()}}}function Wa(i){let e,l,t=i[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=gn(hn(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s),l=!0},p(r,[s]){if(s&7){t=r[1];let a;for(a=0;a<t.length;a+=1){const f=hn(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=gn(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Be(n,r),r&&m(e)}}}function Qa(i,e,l){let{fields:t}=e,{checkedFields:n}=e;function o(a,f){f.target.checked?(n.push(a),l(0,n)):l(0,n=n.filter(d=>!Ke(d.path,a.path)))}const r=(a,f)=>Ke(f.path,a.path),s=(a,f)=>o(a,f);return i.$$set=a=>{"fields"in a&&l(1,t=a.fields),"checkedFields"in a&&l(0,n=a.checkedFields)},[n,t,o,r,s]}class wt extends $e{constructor(e){super(),Se(this,e,Qa,Wa,ve,{fields:1,checkedFields:0})}}function pn(i,e,l){const t=i.slice();return t[29]=e[l],t}function Za(i){let e,l,t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,T,z,V,A,F,j,X,N,H,ne;function K(M){i[23](M)}let W={invalid:i[8]!=i[9]};return i[8]!==void 0&&(W.value=i[8]),T=new Oi({props:W}),He.push(()=>Ge(T,"value",K)),j=new mr({}),{c(){e=E("div"),l=E("section"),t=E("div"),n=Q("Delete this dataset"),o=U(),r=E("div"),s=E("p"),a=Q("This action cannot be undone."),f=U(),u=E("p"),d=Q(`This will permanently delete the
                  `),c=E("span"),h=Q(i[9]),_=Q(` dataset and all its files. Please type
                  `),p=E("span"),w=Q(i[9]),S=Q(" to confirm."),k=U(),P(T.$$.fragment),V=U(),A=E("button"),F=Q(`I understand, delete this dataset
                `),P(j.$$.fragment),this.h()},l(M){e=y(M,"DIV",{class:!0});var C=$(e);l=y(C,"SECTION",{class:!0});var x=$(l);t=y(x,"DIV",{class:!0});var q=$(t);n=Z(q,"Delete this dataset"),q.forEach(m),o=Y(x),r=y(x,"DIV",{class:!0});var G=$(r);s=y(G,"P",{class:!0});var _e=$(s);a=Z(_e,"This action cannot be undone."),_e.forEach(m),f=Y(G),u=y(G,"P",{});var he=$(u);d=Z(he,`This will permanently delete the
                  `),c=y(he,"SPAN",{class:!0});var de=$(c);h=Z(de,i[9]),de.forEach(m),_=Z(he,` dataset and all its files. Please type
                  `),p=y(he,"SPAN",{class:!0});var Ee=$(p);w=Z(Ee,i[9]),Ee.forEach(m),S=Z(he," to confirm."),he.forEach(m),G.forEach(m),k=Y(x),L(T.$$.fragment,x),V=Y(x),A=y(x,"BUTTON",{class:!0});var ue=$(A);F=Z(ue,`I understand, delete this dataset
                `),L(j.$$.fragment,ue),ue.forEach(m),x.forEach(m),C.forEach(m),this.h()},h(){D(t,"class","text-lg text-gray-700"),D(s,"class","mb-2"),D(c,"class","font-bold"),D(p,"class","font-bold"),D(r,"class","mb-4 text-sm text-gray-500"),D(A,"class","flex cursor-pointer flex-row justify-between p-4 text-left hover:bg-gray-200"),A.disabled=X=i[8]!=i[9],fe(A,"cursor-not-allowed",i[8]!=i[9]),D(l,"class","flex flex-col gap-y-1"),D(e,"class","flex flex-col gap-y-6")},m(M,C){I(M,e,C),b(e,l),b(l,t),b(t,n),b(l,o),b(l,r),b(r,s),b(s,a),b(r,f),b(r,u),b(u,d),b(u,c),b(c,h),b(u,_),b(u,p),b(p,w),b(u,S),b(l,k),B(T,l,null),b(l,V),b(l,A),b(A,F),B(j,A,null),N=!0,H||(ne=Ae(A,"click",i[24]),H=!0)},p(M,C){(!N||C[0]&512)&&oe(h,M[9]),(!N||C[0]&512)&&oe(w,M[9]);const x={};C[0]&768&&(x.invalid=M[8]!=M[9]),!z&&C[0]&256&&(z=!0,x.value=M[8],Je(()=>z=!1)),T.$set(x),(!N||C[0]&768&&X!==(X=M[8]!=M[9]))&&(A.disabled=X),(!N||C[0]&768)&&fe(A,"cursor-not-allowed",M[8]!=M[9])},i(M){N||(g(T.$$.fragment,M),g(j.$$.fragment,M),N=!0)},o(M){v(T.$$.fragment,M),v(j.$$.fragment,M),N=!1},d(M){M&&m(e),R(T),R(j),H=!1,ne()}}}function Ka(i){let e,l,t,n;const o=[Ja,Ga],r=[];function s(a,f){return a[6].isFetching?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ae()},l(a){l.l(a),t=ae()},m(a,f){r[e].m(a,f),I(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(ie(),v(r[u],1,1,()=>{r[u]=null}),re(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),g(l,1),l.m(t.parentNode,t))},i(a){n||(g(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&m(t)}}}function Ga(i){let e,l,t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,T,z,V,A,F,j,X,N=i[3]!=null&&bn(i);const H=[xa,Xa],ne=[];function K(M,C){return M[11].isFetching?0:1}k=K(i),T=ne[k]=H[k](i);let W=i[3]!=null&&i[4]!=null&&wn(i);return{c(){e=E("div"),l=E("section"),t=E("div"),n=Q("Media fields"),o=U(),r=E("div"),s=Q("These fields will be presented differently from the rest of the metadata fields."),a=U(),N&&N.c(),f=U(),u=E("section"),d=E("div"),c=Q("Preferred embedding"),h=U(),_=E("div"),p=Q("This embedding will be used by default when indexing and querying the data."),w=U(),S=E("div"),T.c(),z=U(),V=E("section"),A=E("div"),F=Q("Render as markdown"),j=U(),W&&W.c(),this.h()},l(M){e=y(M,"DIV",{class:!0});var C=$(e);l=y(C,"SECTION",{class:!0});var x=$(l);t=y(x,"DIV",{class:!0});var q=$(t);n=Z(q,"Media fields"),q.forEach(m),o=Y(x),r=y(x,"DIV",{class:!0});var G=$(r);s=Z(G,"These fields will be presented differently from the rest of the metadata fields."),G.forEach(m),a=Y(x),N&&N.l(x),x.forEach(m),f=Y(C),u=y(C,"SECTION",{class:!0});var _e=$(u);d=y(_e,"DIV",{class:!0});var he=$(d);c=Z(he,"Preferred embedding"),he.forEach(m),h=Y(_e),_=y(_e,"DIV",{class:!0});var de=$(_);p=Z(de,"This embedding will be used by default when indexing and querying the data."),de.forEach(m),w=Y(_e),S=y(_e,"DIV",{class:!0});var Ee=$(S);T.l(Ee),Ee.forEach(m),_e.forEach(m),z=Y(C),V=y(C,"SECTION",{class:!0});var ue=$(V);A=y(ue,"DIV",{class:!0});var te=$(A);F=Z(te,"Render as markdown"),te.forEach(m),j=Y(ue),W&&W.l(ue),ue.forEach(m),C.forEach(m),this.h()},h(){D(t,"class","text-lg text-gray-700"),D(r,"class","text-sm text-gray-500"),D(l,"class","flex flex-col gap-y-1"),D(d,"class","text-lg text-gray-700"),D(_,"class","text-sm text-gray-500"),D(S,"class","w-60"),D(u,"class","flex flex-col gap-y-1"),D(A,"class","text-lg text-gray-700"),D(V,"class","flex flex-col gap-y-1"),D(e,"class","flex flex-col gap-y-6")},m(M,C){I(M,e,C),b(e,l),b(l,t),b(t,n),b(l,o),b(l,r),b(r,s),b(l,a),N&&N.m(l,null),b(e,f),b(e,u),b(u,d),b(d,c),b(u,h),b(u,_),b(_,p),b(u,w),b(u,S),ne[k].m(S,null),b(e,z),b(e,V),b(V,A),b(A,F),b(V,j),W&&W.m(V,null),X=!0},p(M,C){M[3]!=null?N?(N.p(M,C),C[0]&8&&g(N,1)):(N=bn(M),N.c(),g(N,1),N.m(l,null)):N&&(ie(),v(N,1,1,()=>{N=null}),re());let x=k;k=K(M),k===x?ne[k].p(M,C):(ie(),v(ne[x],1,1,()=>{ne[x]=null}),re(),T=ne[k],T?T.p(M,C):(T=ne[k]=H[k](M),T.c()),g(T,1),T.m(S,null)),M[3]!=null&&M[4]!=null?W?(W.p(M,C),C[0]&24&&g(W,1)):(W=wn(M),W.c(),g(W,1),W.m(V,null)):W&&(ie(),v(W,1,1,()=>{W=null}),re())},i(M){X||(g(N),g(T),g(W),X=!0)},o(M){v(N),v(T),v(W),X=!1},d(M){M&&m(e),N&&N.d(),ne[k].d(),W&&W.d()}}}function Ja(i){let e,l;return e=new We({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function bn(i){let e,l,t;function n(r){i[21](r)}let o={fields:i[5]};return i[3]!==void 0&&(o.checkedFields=i[3]),e=new wt({props:o}),He.push(()=>Ge(e,"checkedFields",n)),{c(){P(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,s){B(e,r,s),t=!0},p(r,s){const a={};s[0]&32&&(a.fields=r[5]),!l&&s[0]&8&&(l=!0,a.checkedFields=r[3],Je(()=>l=!1)),e.$set(a)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){R(e,r)}}}function Xa(i){var t;let e,l;return e=new Mn({props:{selected:(t=i[6].data)==null?void 0:t.preferred_embedding,$$slots:{default:[eo]},$$scope:{ctx:i}}}),e.$on("change",i[16]),{c(){P(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){B(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&64&&(r.selected=(s=n[6].data)==null?void 0:s.preferred_embedding),o[0]&2048|o[1]&2&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){v(e.$$.fragment,n),l=!1},d(n){R(e,n)}}}function xa(i){let e,l;return e=new Li({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function vn(i){let e,l;return e=new Vt({props:{value:i[29].name}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n[0]&2048&&(o.value=t[29].name),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function eo(i){let e,l,t,n;e=new Vt({props:{value:void 0,text:"None"}});let o=i[11].data||[],r=[];for(let a=0;a<o.length;a+=1)r[a]=vn(pn(i,o,a));const s=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){P(e.$$.fragment),l=U();for(let a=0;a<r.length;a+=1)r[a].c();t=ae()},l(a){L(e.$$.fragment,a),l=Y(a);for(let f=0;f<r.length;f+=1)r[f].l(a);t=ae()},m(a,f){B(e,a,f),I(a,l,f);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,f);I(a,t,f),n=!0},p(a,f){if(f[0]&2048){o=a[11].data||[];let u;for(u=0;u<o.length;u+=1){const d=pn(a,o,u);r[u]?(r[u].p(d,f),g(r[u],1)):(r[u]=vn(d),r[u].c(),g(r[u],1),r[u].m(t.parentNode,t))}for(ie(),u=o.length;u<r.length;u+=1)s(u);re()}},i(a){if(!n){g(e.$$.fragment,a);for(let f=0;f<o.length;f+=1)g(r[f]);n=!0}},o(a){v(e.$$.fragment,a),r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)v(r[f]);n=!1},d(a){R(e,a),a&&m(l),Be(r,a),a&&m(t)}}}function wn(i){let e,l,t;function n(r){i[22](r)}let o={fields:i[3]};return i[4]!==void 0&&(o.checkedFields=i[4]),e=new wt({props:o}),He.push(()=>Ge(e,"checkedFields",n)),{c(){P(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,s){B(e,r,s),t=!0},p(r,s){const a={};s[0]&8&&(a.fields=r[3]),!l&&s[0]&16&&(l=!0,a.checkedFields=r[4],Je(()=>l=!1)),e.$set(a)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){R(e,r)}}}function to(i){let e,l,t,n,o,r,s,a;t=new Hi({props:{items:[{title:"Fields",value:"fields"},{title:"Administration",value:"administration"}],item:i[7]}}),t.$on("select",i[20]);const f=[Ka,Za],u=[];function d(c,h){return c[7]==="fields"?0:c[7]==="administration"?1:-1}return~(r=d(i))&&(s=u[r]=f[r](i)),{c(){e=E("div"),l=E("div"),P(t.$$.fragment),n=U(),o=E("div"),s&&s.c(),this.h()},l(c){e=y(c,"DIV",{class:!0});var h=$(e);l=y(h,"DIV",{class:!0});var _=$(l);L(t.$$.fragment,_),_.forEach(m),n=Y(h),o=y(h,"DIV",{class:!0});var p=$(o);s&&s.l(p),p.forEach(m),h.forEach(m),this.h()},h(){D(l,"class","-ml-4 mr-4 w-96 grow-0"),D(o,"class","flex w-full flex-col gap-y-6 rounded border border-gray-300 bg-white p-4"),D(e,"class","flex flex-row")},m(c,h){I(c,e,h),b(e,l),B(t,l,null),b(e,n),b(e,o),~r&&u[r].m(o,null),a=!0},p(c,h){const _={};h[0]&128&&(_.item=c[7]),t.$set(_);let p=r;r=d(c),r===p?~r&&u[r].p(c,h):(s&&(ie(),v(u[p],1,1,()=>{u[p]=null}),re()),~r?(s=u[r],s?s.p(c,h):(s=u[r]=f[r](c),s.c()),g(s,1),s.m(o,null)):s=null)},i(c){a||(g(t.$$.fragment,c),g(s),a=!0)},o(c){v(t.$$.fragment,c),v(s),a=!1},d(c){c&&m(e),R(t),~r&&u[r].d()}}}function lo(i){let e,l,t,n,o,r;return e=new On({props:{label:"Changes",title:"Dataset settings"}}),t=new Ln({props:{hasForm:!0,$$slots:{default:[to]},$$scope:{ctx:i}}}),o=new qn({props:{primaryButtonText:"Save",secondaryButtonText:"Cancel"}}),o.$on("click:button--secondary",close),{c(){P(e.$$.fragment),l=U(),P(t.$$.fragment),n=U(),P(o.$$.fragment)},l(s){L(e.$$.fragment,s),l=Y(s),L(t.$$.fragment,s),n=Y(s),L(o.$$.fragment,s)},m(s,a){B(e,s,a),I(s,l,a),B(t,s,a),I(s,n,a),B(o,s,a),r=!0},p(s,a){const f={};a[0]&7166|a[1]&2&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){r||(g(e.$$.fragment,s),g(t.$$.fragment,s),g(o.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),v(o.$$.fragment,s),r=!1},d(s){R(e,s),s&&m(l),R(t,s),s&&m(n),R(o,s)}}}function no(i){let e,l;return e=new Hn({props:{open:i[0],$$slots:{default:[lo]},$$scope:{ctx:i}}}),e.$on("submit",i[17]),e.$on("close",i[25]),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.open=t[0]),n[0]&7166|n[1]&2&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function io(i,e,l){let t,n,o,r,s,a=ee,f=()=>(a(),a=ze(t,q=>l(6,s=q)),t),u,d,c;i.$$.on_destroy.push(()=>a());let{namespace:h}=e,{name:_}=e,{open:p=!1}=e,{schema:w}=e;const S=Zn();be(i,S,q=>l(28,u=q));const k=Pn();be(i,k,q=>l(11,d=q));const T=Pi();be(i,T,q=>l(27,r=q));let z="fields",V=null,A=null,F=u.embedding;function j(q){F=q.target.value,F===""&&(F=void 0)}function X(){if(V==null)return;const q={ui:{media_paths:V.map(G=>G.path),markdown_paths:A==null?void 0:A.map(G=>G.path)},preferred_embedding:F};r.mutate([h,_,q],{onSuccess:()=>{l(0,p=!1)}})}let N="";const H=Bi();be(i,H,q=>l(12,c=q));const ne=q=>l(7,z=q.detail);function K(q){V=q,l(3,V),l(6,s),l(5,o),l(19,w)}function W(q){A=q,l(4,A),l(6,s),l(5,o),l(19,w)}function M(q){N=q,l(8,N)}const C=()=>c.mutate([h,_],{onSuccess:()=>Fn("/")}),x=()=>l(0,p=!1);return i.$$set=q=>{"namespace"in q&&l(1,h=q.namespace),"name"in q&&l(2,_=q.name),"open"in q&&l(0,p=q.open),"schema"in q&&l(19,w=q.schema)},i.$$.update=()=>{var q,G,_e,he,de;if(i.$$.dirty[0]&6&&f(l(10,t=_t(h,_))),i.$$.dirty[0]&6&&l(9,n=ui(h,_)),i.$$.dirty[0]&524288&&l(5,o=Tt(w).filter(Ee=>Ee.dtype==="string"&&!Ke(Ee.path,[Ri])&&!at(Ee))),i.$$.dirty[0]&104&&V==null){const Ee=(_e=(G=(q=s.data)==null?void 0:q.ui)==null?void 0:G.media_paths)==null?void 0:_e.map(ue=>Array.isArray(ue)?ue:[ue]);Ee!=null&&l(3,V=o.filter(ue=>Ee.some(te=>Ke(ue.path,te))))}if(i.$$.dirty[0]&112&&A==null){const Ee=(de=(he=s.data)==null?void 0:he.ui)==null?void 0:de.markdown_paths;Ee!=null&&l(4,A=o.filter(ue=>Ee.some(te=>Ke(ue.path,te))))}},[p,h,_,V,A,o,s,z,N,n,t,d,c,S,k,T,j,X,H,w,ne,K,W,M,C,x]}class ro extends $e{constructor(e){super(),Se(this,e,io,no,ve,{namespace:1,name:2,open:0,schema:19},null,[-1,-1])}}function so(i){let e,l,t;function n(r){i[13](r)}let o={fields:i[6]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new wt({props:o}),He.push(()=>Ge(e,"checkedFields",n)),{c(){P(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,s){B(e,r,s),t=!0},p(r,s){const a={};s&64&&(a.fields=r[6]),!l&&s&2&&(l=!0,a.checkedFields=r[1],Je(()=>l=!1)),e.$set(a)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){R(e,r)}}}function ao(i){let e,l;return e=new We({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function kn(i){let e,l,t,n,o,r,s;const a=[fo,oo],f=[];function u(d,c){return d[5]==null?0:1}return o=u(i),r=f[o]=a[o](i),{c(){e=E("section"),l=E("h4"),t=Q("Select enriched fields"),n=U(),r.c(),this.h()},l(d){e=y(d,"SECTION",{});var c=$(e);l=y(c,"H4",{class:!0});var h=$(l);t=Z(h,"Select enriched fields"),h.forEach(m),n=Y(c),r.l(c),c.forEach(m),this.h()},h(){D(l,"class","svelte-1ge817j")},m(d,c){I(d,e,c),b(e,l),b(l,t),b(e,n),f[o].m(e,null),s=!0},p(d,c){let h=o;o=u(d),o===h?f[o].p(d,c):(ie(),v(f[h],1,1,()=>{f[h]=null}),re(),r=f[o],r?r.p(d,c):(r=f[o]=a[o](d),r.c()),g(r,1),r.m(e,null))},i(d){s||(g(r),s=!0)},o(d){v(r),s=!1},d(d){d&&m(e),f[o].d()}}}function oo(i){let e,l,t;function n(r){i[14](r)}let o={fields:i[5]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new wt({props:o}),He.push(()=>Ge(e,"checkedFields",n)),{c(){P(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,s){B(e,r,s),t=!0},p(r,s){const a={};s&32&&(a.fields=r[5]),!l&&s&4&&(l=!0,a.checkedFields=r[2],Je(()=>l=!1)),e.$set(a)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){R(e,r)}}}function fo(i){let e,l;return e=new We({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function $n(i){let e,l;return{c(){e=E("p"),l=Q("No fields selected. Please select at least one field to download."),this.h()},l(t){e=y(t,"P",{class:!0});var n=$(e);l=Z(n,"No fields selected. Please select at least one field to download."),n.forEach(m),this.h()},h(){D(e,"class","text-gray-600")},m(t,n){I(t,e,n),b(e,l)},d(t){t&&m(e)}}}function uo(i){let e,l;return e=new Qn({props:{value:JSON.stringify(i[7].data,null,2),readonly:!0,rows:30,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n&128&&(o.value=JSON.stringify(t[7].data,null,2)),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function co(i){let e,l;return e=new We({props:{paragraph:!0}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function mo(i){let e,l,t,n,o,r,s,a,f,u,d,c,h,_,p,w,S;const k=[ao,so],T=[];function z(N,H){return N[6]==null?0:1}o=z(i),r=T[o]=k[o](i);let V=(i[5]==null||i[5].length>0)&&kn(i),A=i[3].length===0&&$n();const F=[co,uo],j=[];function X(N,H){return N[7]&&N[7].isFetching?0:N[4]&&N[7]?1:-1}return~(p=X(i))&&(w=j[p]=F[p](i)),{c(){e=E("section"),l=E("h4"),t=Q("Select source fields"),n=U(),r.c(),s=U(),V&&V.c(),a=U(),f=E("section"),u=E("h4"),d=Q("Download preview"),c=U(),A&&A.c(),h=U(),_=E("div"),w&&w.c(),this.h()},l(N){e=y(N,"SECTION",{});var H=$(e);l=y(H,"H4",{class:!0});var ne=$(l);t=Z(ne,"Select source fields"),ne.forEach(m),n=Y(H),r.l(H),H.forEach(m),s=Y(N),V&&V.l(N),a=Y(N),f=y(N,"SECTION",{});var K=$(f);u=y(K,"H4",{class:!0});var W=$(u);d=Z(W,"Download preview"),W.forEach(m),c=Y(K),A&&A.l(K),h=Y(K),_=y(K,"DIV",{class:!0});var M=$(_);w&&w.l(M),M.forEach(m),K.forEach(m),this.h()},h(){D(l,"class","svelte-1ge817j"),D(u,"class","svelte-1ge817j"),D(_,"class","preview svelte-1ge817j")},m(N,H){I(N,e,H),b(e,l),b(l,t),b(e,n),T[o].m(e,null),I(N,s,H),V&&V.m(N,H),I(N,a,H),I(N,f,H),b(f,u),b(u,d),b(f,c),A&&A.m(f,null),b(f,h),b(f,_),~p&&j[p].m(_,null),S=!0},p(N,H){let ne=o;o=z(N),o===ne?T[o].p(N,H):(ie(),v(T[ne],1,1,()=>{T[ne]=null}),re(),r=T[o],r?r.p(N,H):(r=T[o]=k[o](N),r.c()),g(r,1),r.m(e,null)),N[5]==null||N[5].length>0?V?(V.p(N,H),H&32&&g(V,1)):(V=kn(N),V.c(),g(V,1),V.m(a.parentNode,a)):V&&(ie(),v(V,1,1,()=>{V=null}),re()),N[3].length===0?A||(A=$n(),A.c(),A.m(f,h)):A&&(A.d(1),A=null);let K=p;p=X(N),p===K?~p&&j[p].p(N,H):(w&&(ie(),v(j[K],1,1,()=>{j[K]=null}),re()),~p?(w=j[p],w?w.p(N,H):(w=j[p]=F[p](N),w.c()),g(w,1),w.m(_,null)):w=null)},i(N){S||(g(r),g(V),g(w),S=!0)},o(N){v(r),v(V),v(w),S=!1},d(N){N&&m(e),T[o].d(),N&&m(s),V&&V.d(N),N&&m(a),N&&m(f),A&&A.d(),~p&&j[p].d()}}}function ho(i){let e,l,t,n,o,r;return e=new On({props:{title:"Download data"}}),t=new Ln({props:{hasForm:!0,$$slots:{default:[mo]},$$scope:{ctx:i}}}),o=new qn({props:{primaryButtonText:"Download",primaryButtonDisabled:i[3].length===0,secondaryButtonText:"Cancel"}}),o.$on("click:button--secondary",i[10]),{c(){P(e.$$.fragment),l=U(),P(t.$$.fragment),n=U(),P(o.$$.fragment)},l(s){L(e.$$.fragment,s),l=Y(s),L(t.$$.fragment,s),n=Y(s),L(o.$$.fragment,s)},m(s,a){B(e,s,a),I(s,l,a),B(t,s,a),I(s,n,a),B(o,s,a),r=!0},p(s,a){const f={};a&262398&&(f.$$scope={dirty:a,ctx:s}),t.$set(f);const u={};a&8&&(u.primaryButtonDisabled=s[3].length===0),o.$set(u)},i(s){r||(g(e.$$.fragment,s),g(t.$$.fragment,s),g(o.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),v(o.$$.fragment,s),r=!1},d(s){R(e,s),s&&m(l),R(t,s),s&&m(n),R(o,s)}}}function _o(i){let e,l;return e=new Hn({props:{size:"lg",open:i[0],$$slots:{default:[ho]},$$scope:{ctx:i}}}),e.$on("submit",i[9]),e.$on("close",i[15]),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&262398&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function go(i,e,l){let t,n,o,r,s,a,f=ee,u=()=>(f(),f=ze(r,F=>l(7,a=F)),r);i.$$.on_destroy.push(()=>f());let{open:d=!1}=e,{schema:c}=e;const h=ht(),_=qe();be(i,_,F=>l(12,s=F));let p=[],w=[];function S(F){if(F==null)return{sourceFields:null,enrichedFields:null};const X=Tt(F).filter(H=>["embedding"].indexOf(H.dtype)===-1).filter(H=>!at(H)),N=rt(F).filter(H=>Ft(H)).filter(H=>!rt(H).some(ne=>ne.dtype==="embedding"));return{sourceFields:X,enrichedFields:N}}async function k(){const F=s.namespace,j=s.datasetName,X={combine_columns:!1,columns:o.map(ne=>ne.path)},N=`/api/v1/datasets/${F}/${j}/select_rows_download?url_safe_options=${encodeURIComponent(JSON.stringify(X))}`,H=document.createElement("a");H.download=`${F}_${j}.json`,H.href=N,document.body.appendChild(H),H.click(),H.remove()}function T(){l(0,d=!1),h("close")}function z(F){p=F,l(1,p)}function V(F){w=F,l(2,w)}const A=()=>l(0,d=!1);return i.$$set=F=>{"open"in F&&l(0,d=F.open),"schema"in F&&l(11,c=F.schema)},i.$$.update=()=>{i.$$.dirty&2048&&l(6,{sourceFields:t,enrichedFields:n}=S(c),t,(l(5,n),l(11,c))),i.$$.dirty&6&&l(3,o=[...p,...w]),i.$$.dirty&4104&&u(l(4,r=o.length>0?qi(s.namespace,s.datasetName,{columns:o.map(F=>F.path),limit:3,combine_columns:!1}):null))},[d,p,w,o,r,n,t,a,_,k,T,c,s,z,V,A]}class po extends $e{constructor(e){super(),Se(this,e,go,_o,ve,{open:0,schema:11})}}function Sn(i){let e,l,t,n,o,r;function s(d){i[23](d)}let a={schema:i[12].data,namespace:i[0],name:i[1]};i[4]!==void 0&&(a.open=i[4]),e=new ro({props:a}),He.push(()=>Ge(e,"open",s));function f(d){i[24](d)}let u={schema:i[12].data};return i[5]!==void 0&&(u.open=i[5]),n=new po({props:u}),He.push(()=>Ge(n,"open",f)),{c(){P(e.$$.fragment),t=U(),P(n.$$.fragment)},l(d){L(e.$$.fragment,d),t=Y(d),L(n.$$.fragment,d)},m(d,c){B(e,d,c),I(d,t,c),B(n,d,c),r=!0},p(d,c){const h={};c&4096&&(h.schema=d[12].data),c&1&&(h.namespace=d[0]),c&2&&(h.name=d[1]),!l&&c&16&&(l=!0,h.open=d[4],Je(()=>l=!1)),e.$set(h);const _={};c&4096&&(_.schema=d[12].data),!o&&c&32&&(o=!0,_.open=d[5],Je(()=>o=!1)),n.$set(_)},i(d){r||(g(e.$$.fragment,d),g(n.$$.fragment,d),r=!0)},o(d){v(e.$$.fragment,d),v(n.$$.fragment,d),r=!1},d(d){R(e,d),d&&m(t),R(n,d)}}}function En(i){let e,l;return e=new zt({props:{open:!0,modalHeading:"Dataset config",primaryButtonText:"Ok",secondaryButtonText:"Cancel",$$slots:{default:[wo]},$$scope:{ctx:i}}}),e.$on("click:button--secondary",i[25]),e.$on("close",i[26]),e.$on("submit",i[27]),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n&268443648&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function bo(i){let e,l;return e=new Qn({props:{value:`${i[13].data}`,readonly:!0,rows:15,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n&8192&&(o.value=`${t[13].data}`),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function vo(i){let e,l;return e=new We({}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function wo(i){let e,l,t,n,o,r,s,a,f,u;const d=[vo,bo],c=[];function h(_,p){var w,S;return(w=_[13])!=null&&w.isFetching?0:(S=_[13])!=null&&S.data?1:-1}return~(s=h(i))&&(a=c[s]=d[s](i)),{c(){e=E("div"),l=Q(`This dataset configuration represents the transformations that created the dataset,
        including signals, embeddings, and user settings. This can be used with lilac.load to
        generate the dataset with the same view as presented.`),t=U(),n=E("div"),o=Q("config.yml"),r=U(),a&&a.c(),f=ae(),this.h()},l(_){e=y(_,"DIV",{class:!0});var p=$(e);l=Z(p,`This dataset configuration represents the transformations that created the dataset,
        including signals, embeddings, and user settings. This can be used with lilac.load to
        generate the dataset with the same view as presented.`),p.forEach(m),t=Y(_),n=y(_,"DIV",{class:!0});var w=$(n);o=Z(w,"config.yml"),w.forEach(m),r=Y(_),a&&a.l(_),f=ae(),this.h()},h(){D(e,"class","mb-4 text-sm"),D(n,"class","font-mono text-xs")},m(_,p){I(_,e,p),b(e,l),I(_,t,p),I(_,n,p),b(n,o),I(_,r,p),~s&&c[s].m(_,p),I(_,f,p),u=!0},p(_,p){let w=s;s=h(_),s===w?~s&&c[s].p(_,p):(a&&(ie(),v(c[w],1,1,()=>{c[w]=null}),re()),~s?(a=c[s],a?a.p(_,p):(a=c[s]=d[s](_),a.c()),g(a,1),a.m(f.parentNode,f)):a=null)},i(_){u||(g(a),u=!0)},o(_){v(a),u=!1},d(_){_&&m(e),_&&m(t),_&&m(n),_&&m(r),~s&&c[s].d(_),_&&m(f)}}}function ko(i){let e,l,t,n,o,r,s,a,f,u,d;t=new ja({}),s=new Gs({});let c=i[12].data&&Sn(i),h=i[2]&&En(i);return{c(){e=E("div"),l=E("div"),P(t.$$.fragment),o=U(),r=E("div"),P(s.$$.fragment),a=U(),c&&c.c(),f=U(),h&&h.c(),u=ae(),this.h()},l(_){e=y(_,"DIV",{class:!0});var p=$(e);l=y(p,"DIV",{class:!0});var w=$(l);L(t.$$.fragment,w),w.forEach(m),o=Y(p),r=y(p,"DIV",{class:!0});var S=$(r);L(s.$$.fragment,S),S.forEach(m),p.forEach(m),a=Y(_),c&&c.l(_),f=Y(_),h&&h.l(_),u=ae(),this.h()},h(){D(l,"class",n=Ht(`schema-container relative h-full ${i[11]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1xlsh2v"),D(r,"class","h-full w-2/3 flex-grow"),D(e,"class","flex h-full w-full")},m(_,p){I(_,e,p),b(e,l),B(t,l,null),b(e,o),b(e,r),B(s,r,null),I(_,a,p),c&&c.m(_,p),I(_,f,p),h&&h.m(_,p),I(_,u,p),d=!0},p(_,p){(!d||p&2048&&n!==(n=Ht(`schema-container relative h-full ${_[11]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1xlsh2v"))&&D(l,"class",n),_[12].data?c?(c.p(_,p),p&4096&&g(c,1)):(c=Sn(_),c.c(),g(c,1),c.m(f.parentNode,f)):c&&(ie(),v(c,1,1,()=>{c=null}),re()),_[2]?h?(h.p(_,p),p&4&&g(h,1)):(h=En(_),h.c(),g(h,1),h.m(u.parentNode,u)):h&&(ie(),v(h,1,1,()=>{h=null}),re())},i(_){d||(g(t.$$.fragment,_),g(s.$$.fragment,_),g(c),g(h),d=!0)},o(_){v(t.$$.fragment,_),v(s.$$.fragment,_),v(c),v(h),d=!1},d(_){_&&m(e),R(t),R(s),_&&m(a),c&&c.d(_),_&&m(f),h&&h.d(_),_&&m(u)}}}function $o(i){let e,l,t=i[3].namespace+"",n,o,r=i[3].datasetName+"",s,a,f;return{c(){e=E("div"),l=E("a"),n=Q(t),o=Q("/"),s=Q(r),this.h()},l(u){e=y(u,"DIV",{class:!0});var d=$(e);l=y(d,"A",{class:!0,href:!0});var c=$(l);n=Z(c,t),o=Z(c,"/"),s=Z(c,r),c.forEach(m),d.forEach(m),this.h()},h(){D(l,"class","font-semibold text-black"),D(l,"href",i[8]),D(e,"class","dataset-name svelte-1xlsh2v")},m(u,d){I(u,e,d),b(e,l),b(l,n),b(l,o),b(l,s),a||(f=Ae(l,"click",i[21]),a=!0)},p(u,d){d&8&&t!==(t=u[3].namespace+"")&&oe(n,t),d&8&&r!==(r=u[3].datasetName+"")&&oe(s,r),d&256&&D(l,"href",u[8])},d(u){u&&m(e),a=!1,f()}}}function So(i){let e,l,t,n,o,r,s,a,f,u,d,c;return t=new ss({}),r=new Xe({props:{type:"outline",$$slots:{default:[$o]},$$scope:{ctx:i}}}),f=new mt({}),{c(){e=E("div"),l=E("button"),P(t.$$.fragment),o=U(),P(r.$$.fragment),s=U(),a=E("button"),P(f.$$.fragment),this.h()},l(h){e=y(h,"DIV",{slot:!0,class:!0});var _=$(e);l=y(_,"BUTTON",{class:!0});var p=$(l);L(t.$$.fragment,p),p.forEach(m),o=Y(_),L(r.$$.fragment,_),s=Y(_),a=y(_,"BUTTON",{});var w=$(a);L(f.$$.fragment,w),w.forEach(m),_.forEach(m),this.h()},h(){D(l,"class","mr-2"),fe(l,"bg-blue-100",!i[11]),fe(l,"outline-blue-400",!i[11]),fe(l,"outline",!i[11]),D(e,"slot","header-subtext"),D(e,"class","flex flex-row items-center gap-x-1")},m(h,_){I(h,e,_),b(e,l),B(t,l,null),b(e,o),B(r,e,null),b(e,s),b(e,a),B(f,a,null),u=!0,d||(c=[Ve(n=Ne.call(null,l,{text:i[11]?"Show Schema":"Hide Schema"})),Ae(l,"click",i[15]),Ae(l,"keypress",i[15]),Ae(a,"click",i[22]),Ve(Ne.call(null,a,{text:"Dataset information"}))],d=!0)},p(h,_){n&&Le(n.update)&&_&2048&&n.update.call(null,{text:h[11]?"Show Schema":"Hide Schema"}),(!u||_&2048)&&fe(l,"bg-blue-100",!h[11]),(!u||_&2048)&&fe(l,"outline-blue-400",!h[11]),(!u||_&2048)&&fe(l,"outline",!h[11]);const p={};_&268435720&&(p.$$scope={dirty:_,ctx:h}),r.$set(p)},i(h){u||(g(t.$$.fragment,h),g(r.$$.fragment,h),g(f.$$.fragment,h),u=!0)},o(h){v(t.$$.fragment,h),v(r.$$.fragment,h),v(f.$$.fragment,h),u=!1},d(h){h&&m(e),R(t),R(r),R(f),d=!1,tt(c)}}}function Eo(i){let e,l,t;return l=new ma({}),{c(){e=E("div"),P(l.$$.fragment),this.h()},l(n){e=y(n,"DIV",{slot:!0,class:!0});var o=$(e);L(l.$$.fragment,o),o.forEach(m),this.h()},h(){D(e,"slot","header-center"),D(e,"class","flex w-full items-center")},m(n,o){I(n,e,o),B(l,e,null),t=!0},p:ee,i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&m(e),R(l)}}}function yn(i){let e,l,t,n;return{c(){e=E("div"),l=Q("Copied!"),this.h()},l(o){e=y(o,"DIV",{class:!0});var r=$(e);l=Z(r,"Copied!"),r.forEach(m),this.h()},h(){D(e,"class","absolute right-12 z-50 mt-2 rounded border border-neutral-300 bg-neutral-50 px-4 py-1 text-xs")},m(o,r){I(o,e,r),b(e,l),n=!0},i(o){n||(t&&t.end(1),n=!0)},o(o){t=oi(e,fr,{}),n=!1},d(o){o&&m(e),o&&t&&t.end()}}}function yo(i){let e,l,t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,T,z=i[6]&&yn();return s=new Gr({}),u=new Or({}),_=new Sr({}),{c(){e=E("div"),l=E("div"),t=E("div"),n=E("div"),z&&z.c(),o=U(),r=E("button"),P(s.$$.fragment),a=U(),f=E("button"),P(u.$$.fragment),d=U(),c=E("div"),h=E("button"),P(_.$$.fragment),this.h()},l(V){e=y(V,"DIV",{slot:!0});var A=$(e);l=y(A,"DIV",{class:!0});var F=$(l);t=y(F,"DIV",{class:!0});var j=$(t);n=y(j,"DIV",{class:!0});var X=$(n);z&&z.l(X),o=Y(X),r=y(X,"BUTTON",{});var N=$(r);L(s.$$.fragment,N),N.forEach(m),X.forEach(m),a=Y(j),f=y(j,"BUTTON",{});var H=$(f);L(u.$$.fragment,H),H.forEach(m),d=Y(j),c=y(j,"DIV",{class:!0});var ne=$(c);h=y(ne,"BUTTON",{});var K=$(h);L(_.$$.fragment,K),K.forEach(m),ne.forEach(m),j.forEach(m),F.forEach(m),A.forEach(m),this.h()},h(){D(n,"class","relative"),h.disabled=p=!i[9],D(c,"class","mr-2"),fe(c,"opacity-40",!i[9]),D(t,"class","flex"),D(l,"class","flex h-full flex-col"),D(e,"slot","header-right")},m(V,A){I(V,e,A),b(e,l),b(l,t),b(t,n),z&&z.m(n,null),b(n,o),b(n,r),B(s,r,null),b(t,a),b(t,f),B(u,f,null),b(t,d),b(t,c),b(c,h),B(_,h,null),S=!0,k||(T=[Ve(Ne.call(null,r,{text:"Copy the URL"})),Ae(r,"click",i[18]),Ve(Ne.call(null,f,{text:"Download data"})),Ae(f,"click",i[19]),Ve(Ne.call(null,h,{text:"Dataset settings"})),Ae(h,"click",i[20]),Ve(w=Ne.call(null,c,{text:i[9]?"":"User does not have access to update settings of this dataset."}))],k=!0)},p(V,A){V[6]?z?A&64&&g(z,1):(z=yn(),z.c(),g(z,1),z.m(n,o)):z&&(ie(),v(z,1,1,()=>{z=null}),re()),(!S||A&512&&p!==(p=!V[9]))&&(h.disabled=p),w&&Le(w.update)&&A&512&&w.update.call(null,{text:V[9]?"":"User does not have access to update settings of this dataset."}),(!S||A&512)&&fe(c,"opacity-40",!V[9])},i(V){S||(g(z),g(s.$$.fragment,V),g(u.$$.fragment,V),g(_.$$.fragment,V),S=!0)},o(V){v(z),v(s.$$.fragment,V),v(u.$$.fragment,V),v(_.$$.fragment,V),S=!1},d(V){V&&m(e),z&&z.d(),R(s),R(u),R(_),k=!1,tt(T)}}}function Io(i){let e,l;return e=new pi({props:{$$slots:{"header-right":[yo],"header-center":[Eo],"header-subtext":[So],default:[ko]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,[n]){const o={};n&268450687&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Do(i,e,l){let t,n,o,r,s,a,f,u,d=ee,c=()=>(d(),d=ze(n,G=>l(12,u=G)),n),h,_=ee,p=()=>(_(),_=ze(s,G=>l(13,h=G)),s);i.$$.on_destroy.push(()=>d()),i.$$.on_destroy.push(()=>_());let{namespace:w}=e,{datasetName:S}=e;const k=qe();be(i,k,G=>l(3,f=G));function T(){kt(k,f.schemaCollapsed=!f.schemaCollapsed,f)}let z=!1,V=!1;const A=Ct();be(i,A,G=>l(17,a=G));let F=!1,j=!1;const X=()=>navigator.clipboard.writeText(location.href).then(()=>{l(6,F=!0),setTimeout(()=>l(6,F=!1),2e3)},()=>{throw Error("Error copying link to clipboard.")}),N=()=>l(5,V=!0),H=()=>l(4,z=!0),ne=()=>Fn(r),K=()=>l(2,j=!0);function W(G){z=G,l(4,z)}function M(G){V=G,l(5,V)}const C=()=>l(2,j=!1),x=()=>l(2,j=!1),q=()=>l(2,j=!1);return i.$$set=G=>{"namespace"in G&&l(0,w=G.namespace),"datasetName"in G&&l(1,S=G.datasetName)},i.$$.update=()=>{var G;i.$$.dirty&8&&l(11,t=f.schemaCollapsed),i.$$.dirty&8&&c(l(10,n=Nt(f.namespace,f.datasetName))),i.$$.dirty&131072&&l(9,o=(G=a.data)==null?void 0:G.access.dataset.update_settings),i.$$.dirty&3&&l(8,r=ci(w,S)),i.$$.dirty&7&&p(l(7,s=j?ji(w,S,"yaml"):null))},[w,S,j,f,z,V,F,s,r,o,n,t,u,h,k,T,A,a,X,N,H,ne,K,W,M,C,x,q]}class To extends $e{constructor(e){super(),Se(this,e,Do,Io,ve,{namespace:0,datasetName:1})}}function Vo(i){let e;return{c(){e=Q("Page not found! Please specify a dataset.")},l(l){e=Z(l,"Page not found! Please specify a dataset.")},m(l,t){I(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&m(e)}}}function No(i){let e=i[2],l,t,n=In(i);return{c(){n.c(),l=ae()},l(o){n.l(o),l=ae()},m(o,r){n.m(o,r),I(o,l,r),t=!0},p(o,r){r&4&&ve(e,e=o[2])?(ie(),v(n,1,1,ee),re(),n=In(o),n.c(),g(n,1),n.m(l.parentNode,l)):n.p(o,r)},i(o){t||(g(n),t=!0)},o(o){v(n),t=!1},d(o){o&&m(l),n.d(o)}}}function In(i){let e,l;return e=new To({props:{namespace:i[0],datasetName:i[1]}}),{c(){P(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.namespace=t[0]),n&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Co(i){let e,l,t,n;const o=[No,Vo],r=[];function s(a,f){return a[2]&&a[0]&&a[1]?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ae()},l(a){l.l(a),t=ae()},m(a,f){r[e].m(a,f),I(a,t,f),n=!0},p(a,[f]){let u=e;e=s(a),e===u?r[e].p(a,f):(ie(),v(r[u],1,1,()=>{r[u]=null}),re(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),g(l,1),l.m(t.parentNode,t))},i(a){n||(g(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&m(t)}}}function Fo(i,e,l){let t,n,o,r,s,a,f,u,d=ee,c=()=>(d(),d=ze(f,K=>l(10,u=K)),f),h,_=ee,p=()=>(_(),_=ze(t,K=>l(11,h=K)),t),w,S=ee,k=()=>(S(),S=ze(a,K=>l(12,w=K)),a),T,z=ee,V=()=>(z(),z=ze(r,K=>l(13,T=K)),r),A,F=ee,j=()=>(F(),F=ze(o,K=>l(14,A=K)),o),X;i.$$.on_destroy.push(()=>d()),i.$$.on_destroy.push(()=>_()),i.$$.on_destroy.push(()=>S()),i.$$.on_destroy.push(()=>z()),i.$$.on_destroy.push(()=>F());let N,H;const ne=di();return be(i,ne,K=>l(15,X=K)),i.$$.update=()=>{if(i.$$.dirty&32771&&X.page==="datasets")if(X.identifier==""||X.identifier==null)l(0,N=void 0),l(1,H=void 0);else{const[K,W]=X.identifier.split("/");(N!=K||H!=W)&&(l(0,N=K),l(1,H=W))}if(i.$$.dirty&3&&p(l(2,t=N&&H?Wi(N,H):null)),i.$$.dirty&7&&t!=null){const K=Xi(N,H);mi("datasets",`${N}/${H}`,t,ne,W=>_i(W,K),W=>hi(W,K))}if(i.$$.dirty&4&&t!=null&&Ui(t),i.$$.dirty&3&&l(8,n=N&&H?Qi(N,H):null),i.$$.dirty&256&&n!=null&&Yi(n),i.$$.dirty&3&&j(l(6,o=N&&H?_t(N,H):null)),i.$$.dirty&16640&&n&&A!=null&&A.data&&n.setSettings(A.data),i.$$.dirty&3&&V(l(5,r=N&&H?Nt(N,H):null)),i.$$.dirty&8448&&n&&T!=null&&T.data&&n.setSchema(T.data),i.$$.dirty&8192&&l(9,s=T!=null&&T.data?Zi("string",T.data):null),i.$$.dirty&515&&k(l(4,a=N&&H&&s?Ki(N,H,s.map(K=>K.path)):null)),i.$$.dirty&4352&&n&&w!=null&&w.data&&!w.isFetching&&n.setStats(w.data),i.$$.dirty&2051&&c(l(3,f=N&&H&&h?Gi(N,H,Ji(h)):null)),i.$$.dirty&1280&&n&&u!=null&&u.data&&n.setSelectRowsSchema(u),i.$$.dirty&3328&&n&&h&&u!=null&&u.data){const K=ur(h.selectedColumns||{},h.query,(u==null?void 0:u.data)||null);n.setVisibleFields(K)}},[N,H,t,f,a,r,o,ne,n,s,u,h,w,T,A,X]}class Qo extends $e{constructor(e){super(),Se(this,e,Fo,Co,ve,{})}}export{Qo as component};
