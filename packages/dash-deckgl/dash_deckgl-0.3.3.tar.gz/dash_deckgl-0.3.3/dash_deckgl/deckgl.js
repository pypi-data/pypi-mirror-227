"use strict";(self.webpackChunkdash_deckgl=self.webpackChunkdash_deckgl||[]).push([[707],{731:(e,r,t)=>{t.r(r),t.d(r,{default:()=>ee});var n={};t.r(n),t.d(n,{AGGREGATION_OPERATION:()=>p.AGGREGATION_OPERATION,AmbientLight:()=>p.AmbientLight,ArcLayer:()=>p.ArcLayer,AttributeManager:()=>p.AttributeManager,BitmapLayer:()=>p.BitmapLayer,Buffer:()=>m.Buffer,COORDINATE_SYSTEM:()=>p.COORDINATE_SYSTEM,CPUGridLayer:()=>p.CPUGridLayer,ColumnLayer:()=>p.ColumnLayer,CompositeLayer:()=>p.CompositeLayer,ConeGeometry:()=>m.ConeGeometry,ContourLayer:()=>p.ContourLayer,Controller:()=>p.Controller,CubeGeometry:()=>m.CubeGeometry,CylinderGeometry:()=>m.CylinderGeometry,Deck:()=>p.Deck,DeckRenderer:()=>p.DeckRenderer,DirectionalLight:()=>p.DirectionalLight,FEATURES:()=>m.FEATURES,FirstPersonController:()=>p.FirstPersonController,FirstPersonView:()=>p.FirstPersonView,FirstPersonViewport:()=>p.FirstPersonViewport,FlyToInterpolator:()=>p.FlyToInterpolator,Framebuffer:()=>m.Framebuffer,GPUGridLayer:()=>p.GPUGridLayer,GeoJsonLayer:()=>p.GeoJsonLayer,GeohashLayer:()=>p.GeohashLayer,Geometry:()=>m.Geometry,GoogleMapsOverlay:()=>p.GoogleMapsOverlay,GreatCircleLayer:()=>p.GreatCircleLayer,GridCellLayer:()=>p.GridCellLayer,GridLayer:()=>p.GridLayer,H3ClusterLayer:()=>p.H3ClusterLayer,H3HexagonLayer:()=>p.H3HexagonLayer,HeatmapLayer:()=>p.HeatmapLayer,HexagonLayer:()=>p.HexagonLayer,IcoSphereGeometry:()=>m.IcoSphereGeometry,IconLayer:()=>p.IconLayer,JSONConfiguration:()=>p.JSONConfiguration,JSONConverter:()=>p.JSONConverter,Layer:()=>p.Layer,LayerExtension:()=>p.LayerExtension,LayerManager:()=>p.LayerManager,LightingEffect:()=>p.LightingEffect,LineLayer:()=>p.LineLayer,LinearInterpolator:()=>p.LinearInterpolator,MVTLayer:()=>p.MVTLayer,MapController:()=>p.MapController,MapView:()=>p.MapView,Model:()=>m.Model,OPERATION:()=>p.OPERATION,OrbitController:()=>p.OrbitController,OrbitView:()=>p.OrbitView,OrbitViewport:()=>p.OrbitViewport,OrthographicController:()=>p.OrthographicController,OrthographicView:()=>p.OrthographicView,OrthographicViewport:()=>p.OrthographicViewport,PathLayer:()=>p.PathLayer,PlaneGeometry:()=>m.PlaneGeometry,PointCloudLayer:()=>p.PointCloudLayer,PointLight:()=>p.PointLight,PolygonLayer:()=>p.PolygonLayer,PostProcessEffect:()=>p.PostProcessEffect,Program:()=>m.Program,ProgramManager:()=>m.ProgramManager,QuadkeyLayer:()=>p.QuadkeyLayer,Renderbuffer:()=>m.Renderbuffer,S2Layer:()=>p.S2Layer,ScatterplotLayer:()=>p.ScatterplotLayer,ScenegraphLayer:()=>p.ScenegraphLayer,ScreenGridLayer:()=>p.ScreenGridLayer,SimpleMeshLayer:()=>p.SimpleMeshLayer,SolidPolygonLayer:()=>p.SolidPolygonLayer,SphereGeometry:()=>m.SphereGeometry,TRANSITION_EVENTS:()=>p.TRANSITION_EVENTS,TerrainLayer:()=>p.TerrainLayer,Tesselator:()=>p.Tesselator,TextLayer:()=>p.TextLayer,Texture2D:()=>m.Texture2D,Texture3D:()=>m.Texture3D,TextureCube:()=>m.TextureCube,Tile3DLayer:()=>p.Tile3DLayer,TileLayer:()=>p.TileLayer,Timeline:()=>m.Timeline,Transform:()=>m.Transform,TransformFeedback:()=>m.TransformFeedback,TransitionInterpolator:()=>p.TransitionInterpolator,Transport:()=>p.Transport,TripsLayer:()=>p.TripsLayer,TruncatedConeGeometry:()=>m.TruncatedConeGeometry,UNIT:()=>p.UNIT,VERSION:()=>p.VERSION,View:()=>p.View,Viewport:()=>p.Viewport,WebMercatorViewport:()=>p.WebMercatorViewport,_AggregationLayer:()=>p._AggregationLayer,_BinSorter:()=>p._BinSorter,_CPUAggregator:()=>p._CPUAggregator,_CameraLight:()=>p._CameraLight,_GPUGridAggregator:()=>p._GPUGridAggregator,_GeoCellLayer:()=>p._GeoCellLayer,_GlobeController:()=>p._GlobeController,_GlobeView:()=>p._GlobeView,_GlobeViewport:()=>p._GlobeViewport,_LayersPass:()=>p._LayersPass,_MultiIconLayer:()=>p._MultiIconLayer,_PickLayersPass:()=>p._PickLayersPass,_SunLight:()=>p._SunLight,_TextBackgroundLayer:()=>p._TextBackgroundLayer,_Tile2DHeader:()=>p._Tile2DHeader,_Tileset2D:()=>p._Tileset2D,_WMSLayer:()=>p._WMSLayer,_compareProps:()=>p._compareProps,_convertFunctions:()=>p._convertFunctions,_count:()=>p._count,_deepEqual:()=>p._deepEqual,_fillArray:()=>p._fillArray,_flatten:()=>p._flatten,_getURLFromTemplate:()=>p._getURLFromTemplate,_memoize:()=>p._memoize,_mergeShaders:()=>p._mergeShaders,_parseExpressionString:()=>p._parseExpressionString,_shallowEqualObjects:()=>p._shallowEqualObjects,assert:()=>p.assert,cloneTextureFrom:()=>m.cloneTextureFrom,copyToTexture:()=>m.copyToTexture,createIterable:()=>p.createIterable,cssToDeviceRatio:()=>m.cssToDeviceRatio,fetchFile:()=>d.fetchFile,fp64LowPart:()=>p.fp64LowPart,getParameters:()=>m.getParameters,gouraudLighting:()=>p.gouraudLighting,hasFeatures:()=>m.hasFeatures,instrumentGLContext:()=>m.instrumentGLContext,isWebGL2:()=>m.isWebGL2,load:()=>d.load,log:()=>p.log,parse:()=>d.parse,phongLighting:()=>p.phongLighting,picking:()=>p.picking,project:()=>p.project,project32:()=>p.project32,readPixelsToBuffer:()=>m.readPixelsToBuffer,registerLoaders:()=>d.registerLoaders,setParameters:()=>m.setParameters,shadow:()=>p.shadow,withParameters:()=>m.withParameters});var o=t(9356),a=t(9538),i=t(616),l=t.n(i),c=t(5898),u=t(5845),s=t(3549),y=t(8318),f={},p=t(4980),m=t(8339),d=t(4933);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function h(e,r,t){return(r=function(e){var r=function(e,r){if("object"!==g(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===g(r)?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function v(e,r){if(e){if("string"==typeof e)return L(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(e,r):void 0}}function L(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var S=function(e){return e.charAt(0)===e.charAt(0).toUpperCase()},w=function(e){return e.charAt(0)===e.charAt(0).toLowerCase()&&"_"!==e.charAt(0)},O=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},o=function(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=v(e))){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw a}}}}(Object.keys(r).filter(t));try{for(o.s();!(e=o.n()).done;){var a=e.value;n[a]=r[a]}}catch(e){o.e(e)}finally{o.f()}return n},T={classes:O(n,S),enumerations:{COORDINATE_SYSTEM:u.COORDINATE_SYSTEM,GL:s.Z}},P=(0,i.createContext)(),A=function(e){var r,t,n=e.configuration,o=e.customLibraries,a=e.children,c=(r=(0,i.useState)(new y.Z({configuration:T})),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(r,t)||v(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=c[1],p=function(e){if(e){var r=new y.Z(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(Object(t),!0).forEach((function(r){h(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},u));r.mergeConfiguration(e),r.convertedJson=null,s(r)}};(0,i.useEffect)((function(){p(n)}),[n]);var m=function(e,r){var t={classes:O(r,S),functions:O(r,w)};p(t)};return(0,i.useEffect)((function(){if(o){var e={};o.forEach((function(r){var t=r.libraryName,n=r.resourceUri;if(e[t]=!1,t in window)return m(0,window[t]),void(e[t]=window[t]);Object.defineProperty(window,t,{set:function(r){m(0,r),e[t]=r},get:function(){return e[t]}}),function(e){if(!f[e]){var r=document.createElement("script");r.type="text/javascript",r.src=e,document.querySelector("head").appendChild(r),f[e]=new Promise((function(e){r.onload=e}))}f[e]}(n)}))}}),[o]),l().createElement(P.Provider,{value:u},a)};function C(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=E(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw a}}}}function E(e,r){if(e){if("string"==typeof e)return _(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_(e,r):void 0}}function _(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}t(3373);var j={fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',display:"flex",flex:"wrap",maxWidth:"500px",flexDirection:"column",zIndex:2};function G(e,r){var t,n,o,a=e,i="properties",l=C(function(e){if(Array.isArray(e))return _(e)}(o=new Set(e.match(/{[^}]*}/g).map((function(e){return e.replace(/[{}]/g,"")}))))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||E(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());try{for(l.s();!(n=l.n()).done;){var c=n.value;if(c.includes(".")){t=r;var u,s=C(c.split("."));try{for(s.s();!(u=s.n()).done;){var y=u.value;if(!t.hasOwnProperty(y)){t=void 0;break}t=t[y]}}catch(e){s.e(e)}finally{s.f()}}else t=r.hasOwnProperty(c)?r[c]:r[i]&&r[i].hasOwnProperty(c)?r[i][c]:void 0;a=a.replaceAll("{".concat(c,"}"),t)}}catch(e){l.e(e)}finally{l.f()}return a}new Set(["position","index"]);var x=t(5701),I=t.n(x),k=t(8236),D=t.n(k),V=t(6080),M=t.n(V),N=t(6850),R=t.n(N),F=t(7182),B=t.n(F),U=t(9213),H=t.n(U),Z=t(1198),z={};function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},J.apply(this,arguments)}function W(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?W(Object(t),!0).forEach((function(r){$(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function $(e,r,t){return(r=function(e){var r=function(e,r){if("object"!==q(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===q(r)?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Q(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return K(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?K(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}z.styleTagTransform=H(),z.setAttributes=R(),z.insert=M().bind(null,"head"),z.domAPI=D(),z.insertStyleElement=B(),I()(Z.Z,z),Z.Z&&Z.Z.locals&&Z.Z.locals;var X=function(e){var r,t,n,u,s=e.spec,y=e.tooltips,f=e.width,p=void 0===f?"100%":f,m=e.height,d=void 0===m?500:m,g=e.events,b=void 0===g?[]:g,h=e.description,v=e.overlay,L=e.mapbox_key,S=e.setProps,w=(e.lastevent,e.viewstate),O=e.landmask,T=Q((0,i.useState)({}),2),A=T[0],C=T[1],E=Q((0,i.useState)({}),2),_=E[0],x=E[1],I=Q((0,i.useState)(!1),2),k=(I[0],I[1],Q((0,i.useState)(!1),2)),D=(k[0],k[1],(0,i.useContext)(P)),V=Q((0,i.useState)(w),2),M=V[0],N=V[1],R=(r=M,500,n=(t=Q((0,i.useState)(r),2))[0],u=t[1],(0,i.useEffect)((function(){var e=setTimeout((function(){u(r)}),500);return function(){clearTimeout(e)}}),[r,500]),n),F=[];if(h)for(var B in h)if(["top-right","top-left","bottom-right","bottom-left"].includes(B)){var U=B.split("-");F.push({pos:U,content:h[B]})}var H=(0,i.useCallback)((function(e,r){b.includes(e)&&S({lastevent:Y(Y({layerId:r.layer.id},r.object),{},{coordinate:r.coordinate,eventType:e}),viewstate:R})}),[b,R]),Z={onClick:function(e){return H("click",e)},onHover:function(e){return H("hover",e)},onDragStart:function(e){return H("drag-start",e)},onDrag:function(e){return H("drag",e)},onDragEnd:function(e){return H("drag-end",e)}},z=function(e){return e?e.length?function(r){if(!r.picked)return null;var t=null;return e.map((function(e){if(e.layer&&r.layer.id!=e.layer)return null;t={style:e.style||j},e.html?t.html=G(e.html,r.object):t.text=G(e.text,r.object)})),t}:getTooltipDefault:null}(y),q=Y(Y({},Z),{},{getTooltip:z});(0,i.useEffect)((function(){!function(){var e,r;e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.2/mapbox-gl.css",(r=document.createElement("link")).type="text/css",r.rel="stylesheet",r.href=e,document.getElementsByTagName("head")[0].appendChild(r)}()}),[]),(0,i.useEffect)((function(){var e=D.convert(s);e.initialViewState&&(!M||e.initialViewState.longitude&&e.initialViewState.latitude)&&N(e.initialViewState),C(Y(Y({},A),e))}),[s,D]),(0,i.useEffect)((function(){var e=D.convert(v);x(Y(Y({},_),e))}),[v,D]),(0,i.useEffect)((function(){w&&Object.keys(w).length>0&&N(Y(Y({},M),w))}),[w]),(0,i.useEffect)((function(){S({viewstate:R})}),[R]);var W=(0,i.useCallback)((function(e){var r=e.viewState;N(r)}),[]);return l().createElement("div",{className:"deckgl-map",style:{height:d,width:p,position:"relative"}},l().createElement("div",{id:"deckgl-primary",style:{width:"100%",height:"100%"}},M&&l().createElement(a.Z,J({viewState:M,onViewStateChange:W},q,A,{getCursor:function(e){var r=e.isDragging,t=e.isHovering;return r?"grabbing":t?"pointer":"crosshair"}}),l().createElement(c.D5,{mapStyle:A.mapStyle||o.Z.POSITRON,mapboxAccessToken:L}),O&&O.map_style&&l().createElement(c.D5,{id:"landmask",mapStyle:O.map_style,mapboxAccessToken:L}))),v&&l().createElement("div",{id:"deckgl-overlay",style:{width:"100%",height:"100%",pointerEvents:"none"}},l().createElement(a.Z,J({viewState:M,contoller:!1},q,_,{style:Y(Y({},_.style),{},{zIndex:1,pointerEvents:"none"})}),l().createElement(c.D5,{mapStyle:_.mapStyle,mapboxAccessToken:L}))),F.map((function(e,r){var t;return l().createElement("div",{key:r,className:"description",style:(t={position:"absolute",zIndex:10},$(t,e.pos[0],10),$(t,e.pos[1],10),t),dangerouslySetInnerHTML:{__html:e.content}})})))};const ee=function(e){return l().createElement(A,{customLibraries:e.customLibraries,configuration:e.configuration},l().createElement(X,e))}},1198:(e,r,t)=>{t.d(r,{Z:()=>l});var n=t(1864),o=t.n(n),a=t(352),i=t.n(a)()(o());i.push([e.id,"#landmask {\n    z-index: 1 !important;\n    pointer-events: none;\n}\n.deck-tooltip {\n    z-index: 2 !important;\n}\n","",{version:3,sources:["webpack://./src/lib/components/style.css"],names:[],mappings:"AAAA;IACI,qBAAqB;IACrB,oBAAoB;AACxB;AACA;IACI,qBAAqB;AACzB",sourcesContent:["#landmask {\n    z-index: 1 !important;\n    pointer-events: none;\n}\n.deck-tooltip {\n    z-index: 2 !important;\n}\n"],sourceRoot:""}]);const l=i}}]);
//# sourceMappingURL=deckgl.js.map