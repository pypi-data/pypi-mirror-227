"use strict";(globalThis["webpackChunkqPhotobooth"]=globalThis["webpackChunkqPhotobooth"]||[]).push([[705],{4705:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var o=n(9835),s=n(1957);const i={id:"preview-stream",style:{"background-image":"url('/aquisition/stream.mjpg')"},class:"full-width column justify-center content-center"},r=["innerHTML"],a={class:"q-gutter-sm"},u=(0,o._)("div",null,[(0,o.Uk)("Take"),(0,o._)("br"),(0,o.Uk)("Picture!")],-1),c=(0,o._)("div",null,"Gallery",-1),l=(0,o._)("div",null,"Admin",-1);function d(e,t,n,d,m,h){const g=(0,o.up)("countdown-timer"),p=(0,o.up)("q-spinner-grid"),w=(0,o.up)("q-icon"),f=(0,o.up)("q-btn"),y=(0,o.up)("q-page-sticky"),_=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(_,{class:"q-pa-none column"},{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o.Wm)(g,{ref:"countdowntimer",duration:3,remainingSeconds:e.countdown,countdownOffset:.5},null,8,["remainingSeconds","countdownOffset"]),(0,o.wy)((0,o.Wm)(p,{size:"20em"},null,512),[[s.F8,e.showProcessing]]),(0,o.wy)((0,o._)("div",{style:{position:"absolute",width:"100%",height:"100%"},id:"frontpage_text",innerHTML:e.uiSettingsStore.uiSettings["FRONTPAGE_TEXT"]},null,8,r),[[s.F8,e.showFrontpage]]),(0,o.Wm)(y,{position:"bottom",offset:[0,25]},{default:(0,o.w5)((()=>[(0,o._)("div",a,[(0,o.Wm)(f,{color:"primary","no-caps":"",onClick:t[0]||(t[0]=t=>e.takePicture())},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{left:"",size:"5em",name:"photo_camera"}),u])),_:1}),(0,o.Wm)(f,{color:"primary","no-caps":"",to:"/gallery"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{left:"",size:"5em",name:"photo_library"}),c])),_:1}),e.uiSettingsStore.uiSettings.SHOW_ADMIN_LINK_ON_FRONTPAGE?((0,o.wg)(),(0,o.j4)(f,{key:0,color:"secondary","no-caps":"",to:"/admin"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{left:"",size:"5em",name:"admin_panel_settings"}),l])),_:1})):(0,o.kq)("",!0)])])),_:1})])])),_:1})}var m=n(1569),h=n(9302),g=n(7575),p=n(6694);const w={style:{width:"40%",height:"40%"}};function f(e,t,n,i,r,a){const u=(0,o.up)("q-circular-progress"),c=(0,o.up)("q-icon");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",w,[(0,o.wy)((0,o.Wm)(u,{"show-value":"",class:"text-light-blue",style:{width:"100%",height:"100%"},value:e.remainingSeconds,min:0,max:e.totalDuration,reverse:"",size:"150px",color:"light-blue"},null,8,["value","max"]),[[s.F8,e.showCountdown]]),(0,o.wy)((0,o.Wm)(c,{name:e.icon,size:"200px",style:{width:"100%",height:"100%"}},null,8,["name"]),[[s.F8,e.showMessage]])],512)),[[s.F8,e.showBox]])}const y=(0,o.aZ)({name:"CountdownTimer",data(){return{}},watch:{},computed:{totalDuration(){return+this.duration+ +this.countdownOffset},showBox(){return this.remainingSeconds>0},showCountdown(){return+this.remainingSeconds>=this.messageDuration},showMessage(){return!this.showCountdown}},methods:{},props:{remainingSeconds:{type:Number,required:!0},duration:{type:Number,required:!0},countdownOffset:{type:Number,default:0},message:{type:String,default:"Cheeeese :)"},messageDuration:{type:Number,default:.5},icon:{type:String,default:"ðŸ˜ƒ"}}});var _=n(1639),S=n(3302),b=n(2857),v=n(9984),k=n.n(v);const q=(0,_.Z)(y,[["render",f]]),P=q;k()(y,"components",{QCircularProgress:S.Z,QIcon:b.Z});const C=(0,o.aZ)({components:{CountdownTimer:P},setup(){(0,h.Z)();const e=(0,g.h)(),t=(0,p.R)();return{store:e,uiSettingsStore:t,remoteProcedureCall:m.remoteProcedureCall}},methods:{takePicture(){(0,m.remoteProcedureCall)("/processing/chose/1pic")}},computed:{showProcessing:{get(){return"postprocess_still"==this.store.statemachine.state}},countdown:{get(){return this.store.statemachine.countdown?this.store.statemachine.countdown:0}},showFrontpage:{get(){return"idle"==this.store.statemachine.state}},newItemReceived:{get(){return"idle"==this.store.statemachine.state}}}});var Z=n(9885),T=n(3040),W=n(2074),F=n(627),N=n(8879);const x=(0,_.Z)(C,[["render",d]]),O=x;k()(C,"components",{QPage:Z.Z,QSpinnerGrid:T.Z,QDialog:W.Z,QPageSticky:F.Z,QBtn:N.Z,QIcon:b.Z})}}]);