"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{51927:function(e,n,r){r.d(n,{b:function(){return p}});var t=r(73235),i=r(52322),o=r(2784),s=r(35505),u=r(2736),c=r(87323),l=r(92914),a=r(85737);function d(){var e=(0,t._)(["\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  flex-direction: column;\n  height: fit-content;\n"]);return d=function(){return e},e}function h(){var e=(0,t._)(["\n  box-shadow: inset 4px 0 ",";\n  color: ",";\n\n  a:link,\n  a:visited,\n  a:hover,\n  a:active {\n    color: ",";\n    text-decoration: underline;\n  }\n"]);return h=function(){return e},e}function f(){var e=(0,t._)(["\n  font-weight: 600;\n"]);return f=function(){return e},e}function m(){var e=(0,t._)(["\n  font-weight: 400;\n"]);return m=function(){return e},e}var p=function(e){var n=e.intent,r=e.title,t=e.description,s=e.onClose,d=o.useMemo(function(){switch(n){case"warning":return{backgroundColor:c.w.Yellow50,borderColor:c.w.Yellow500,icon:"warning",iconColor:c.w.Yellow500,textColor:c.w.Yellow700};case"error":return{backgroundColor:c.w.Red50,borderColor:c.w.Red500,icon:"error",iconColor:c.w.Red500,textColor:c.w.Red700};case"success":return{backgroundColor:c.w.Green50,borderColor:c.w.Green500,icon:"done",iconColor:c.w.Green500,textColor:c.w.Green700};default:return{backgroundColor:c.w.Blue50,borderColor:c.w.Blue500,icon:"info",iconColor:c.w.Blue500,textColor:c.w.Blue700}}},[n]),h=d.backgroundColor,f=d.borderColor,m=d.icon,p=d.iconColor,C=d.textColor;return(0,i.jsx)(g,{background:h,$borderColor:f,$textColor:C,padding:{horizontal:16,vertical:12},children:(0,i.jsxs)(u.x,{flex:{direction:"row",justifyContent:"space-between"},children:[(0,i.jsxs)(l.Z,{direction:"row",spacing:12,alignItems:"flex-start",children:[e.icon||(0,i.jsx)(a.JO,{name:m,color:p}),(0,i.jsxs)(l.Z,{direction:"column",spacing:8,children:[(0,i.jsx)(j,{children:r}),t?(0,i.jsx)(v,{children:t}):null]})]}),s?(0,i.jsx)(x,{onClick:s,children:(0,i.jsx)(a.JO,{name:"close",color:C})}):null]})})};p.defaultProps={intent:"info"};var x=s.ZP.button.withConfig({componentId:"sc-88ccfa38-0"})(d()),g=(0,s.ZP)(u.x).withConfig({componentId:"sc-88ccfa38-1"})(h(),function(e){return e.$borderColor},function(e){return e.$textColor},function(e){return e.$textColor}),j=s.ZP.div.withConfig({componentId:"sc-88ccfa38-2"})(f()),v=s.ZP.div.withConfig({componentId:"sc-88ccfa38-3"})(m())},26977:function(e,n,r){r.d(n,{Q1:function(){return b},Qf:function(){return T},zc:function(){return _}});var t=r(85333),i=r(6692),o=r(58467),s=r(73235),u=r(82550),c=r(52322),l=r(40794),a=r(60138),d=r(70399),h=r(87323),f=r(18149),m=r.n(f),p=r(2784),x=r(7267),g=r(35505),j=r(34503),v=r(16369),C=r(37842),w=r(47424);function k(){var e=(0,s._)(["\n  ","\n"]);return k=function(){return e},e}function y(){var e=(0,s._)(["\n  query RunTabsCountQuery($queuedFilter: RunsFilter!, $inProgressFilter: RunsFilter!) {\n    queuedCount: pipelineRunsOrError(filter: $queuedFilter) {\n      ... on Runs {\n        count\n      }\n    }\n    inProgressCount: pipelineRunsOrError(filter: $inProgressFilter) {\n      ... on Runs {\n        count\n      }\n    }\n  }\n"]);return y=function(){return e},e}var R=function(e){switch(e){case"all":return"Runs | All runs";case"failed":return"Runs | Failed";case"in-progress":return"Runs | In progress";case"queued":return"Runs | Queued";case"scheduled":return"Runs | Scheduled";default:return"Runs"}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,l.a)(S,{variables:{queuedFilter:(0,i._)((0,t._)({},e),{statuses:Array.from(C.sy)}),inProgressFilter:(0,i._)((0,t._)({},e),{statuses:Array.from(C.Ys)})}}),r=n.data,s=p.useMemo(function(){var e,n;return{queuedCount:(null==r?void 0:null===(e=r.queuedCount)||void 0===e?void 0:e.__typename)==="Runs"?r.queuedCount.count:null,inProgressCount:(null==r?void 0:null===(n=r.inProgressCount)||void 0===n?void 0:n.__typename)==="Runs"?r.inProgressCount.count:null}},[r]),a=s.queuedCount,h=s.inProgressCount,f=(0,o._)((0,w.oD)(),1)[0],m=T(f);(0,j.j)(R(m));var x=function(e){var n=f.filter(function(e){return"status"!==e.token}),r=e.map(function(e){return{token:"status",value:e}});return(0,w.it)((0,u._)(r).concat((0,u._)(n)))};return{tabs:(0,c.jsxs)(d.zH,{children:[(0,c.jsx)(b,{to:x([]),id:"all",$active:"all"===m,children:"All runs"}),(0,c.jsxs)(b,{to:x(Array.from(C.sy)),id:"queued",$active:"queued"===m,children:["Queued (",null!=a?a:"indeterminate",")"]}),(0,c.jsxs)(b,{to:x(Array.from(C.Ys)),id:"in-progress",$active:"in-progress"===m,children:["In progress (",null!=h?h:"indeterminate",")"]}),(0,c.jsx)(b,{to:x(Array.from(C.hd)),id:"failed",$active:"failed"===m,children:"Failed"}),(0,c.jsx)(b,{title:"Scheduled",to:"/runs/scheduled",id:"scheduled",$active:"scheduled"===m,children:"Scheduled"})]}),queryResult:n}},b=(0,g.ZP)(v.A).withConfig({componentId:"sc-8862b5f1-0"})(k(),function(e){return e.$active&&"\n    background: ".concat(h.w.Gray200,";\n  ")}),T=function(e){var n=(0,x.TH)().pathname;if("/runs/timeline"===n)return"timeline";if("/runs/scheduled"===n)return"scheduled";if("/overview/backfills"===n)return"backfills";var r=new Set(e.filter(function(e){return"status"===e.token}).map(function(e){return e.value}));return m()(C.sy,r)?"queued":m()(C.Ys,r)?"in-progress":m()(C.hd,r)?"failed":"all"},S=(0,a.Ps)(y())},36602:function(e,n,r){r.r(n),r.d(n,{ScheduledRunListRoot:function(){return ex},default:function(){return eg}});var t=r(73235),i=r(52322),o=r(40794),s=r(60138),u=r(98353),c=r(2736),l=r(51927),a=r(92914),d=r(47625),h=r(87323),f=r(2784),m=r(8848),p=r(87905),x=r(63757),g=r(48608),j=r(34503),v=r(7464),C=r(36057),w=r(81862),k=r(85333),y=r(6692),R=r(58467),_=r(82550),b=r(22970),T=r(3842),S=r(45),F=r(70399),q=r(85737),P=r(34706),N=r(91588),O=r(17577),E=r(55829),$=r(19369),z=r(13720),I=r(80572),A=r(19126),Z=r.n(A),J=r(47933),Y=r(35505),U=r(67953),G=r(14590),B=r(99339),H=r(7334),Q=r(24651),V=r(56918),K=r(40543),L=r(33667),D=r(30895),M=r(41060),W=r(30082);function X(){var e=(0,t._)(["\n  fragment ScheduleNextFiveTicksFragment on Schedule {\n    id\n    name\n    executionTimezone\n    mode\n    solidSelection\n    pipelineName\n    scheduleState {\n      id\n      status\n    }\n    futureTicks(limit: 5) {\n      results {\n        timestamp\n      }\n    }\n  }\n"]);return X=function(){return e},e}function ee(){var e=(0,t._)(["\n  fragment RepositoryForNextTicksFragment on Repository {\n    name\n    id\n    location {\n      id\n      name\n    }\n    schedules {\n      id\n      ...ScheduleNextFiveTicksFragment\n    }\n  }\n\n  ","\n"]);return ee=function(){return e},e}function en(){var e=(0,t._)(["\n  query ScheduleTickConfigQuery($scheduleSelector: ScheduleSelector!, $tickTimestamp: Int!) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on Schedule {\n        id\n        futureTick(tickTimestamp: $tickTimestamp) {\n          evaluationResult {\n            ...ScheduleFutureTickEvaluationResult\n          }\n        }\n      }\n    }\n  }\n\n  fragment ScheduleFutureTickEvaluationResult on TickEvaluation {\n    runRequests {\n      ...ScheduleFutureTickRunRequest\n    }\n    skipReason\n    error {\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment ScheduleFutureTickRunRequest on RunRequest {\n    runKey\n    runConfigYaml\n    tags {\n      key\n      value\n    }\n  }\n\n  ","\n"]);return en=function(){return e},e}function er(){var e=(0,t._)(["\n  font-size: 13px;\n"]);return er=function(){return e},e}function et(){var e=(0,t._)(["\n  background-color: #fdfcf2;\n  border: 1px solid ",";\n  border-radius: 3px;\n"]);return et=function(){return e},e}var ei=f.memo(function(e){var n=e.repos,r=[],t=!1,o=!1,s=(0,L.vl)().options;return(n.forEach(function(e){var n,i=e.schedules;o=o||i.length>0;var s={name:e.name,location:e.location.name},u=i.filter(function(e){return e.futureTicks.results.length&&e.scheduleState.status===H.ynu.RUNNING}),c=(n=Math).min.apply(n,(0,_._)(u.map(function(e){return e.futureTicks.results[e.futureTicks.results.length-1].timestamp})));u.forEach(function(e){e.futureTicks.results.forEach(function(n){n.timestamp<=c&&r.push({schedule:e,timestamp:n.timestamp,repoAddress:s})})}),t||(t=i.some(function(e){return!!e.mode}))}),r.sort(function(e,n){return e.timestamp-n.timestamp}),r.length)?(0,i.jsxs)(P.i,{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{style:{width:"260px"},children:"Timestamp"}),(0,i.jsx)("th",{style:{width:"30%"},children:"Schedule"}),(0,i.jsx)("th",{children:t?"Job / Pipeline":"Job"}),(0,i.jsx)("th",{children:"Metadata"})]})}),(0,i.jsx)("tbody",{children:r.map(function(e){var n=e.schedule,r=e.timestamp,t=e.repoAddress,o=(0,L.qz)(s,t);return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)(W.v,{timestamp:r,timezone:n.executionTimezone,timeFormat:{showSeconds:!1,showTimezone:!0}})}),(0,i.jsx)("td",{children:(0,i.jsx)(J.rU,{to:(0,M.$U)(t,"/schedules/".concat(n.name)),children:n.name})}),(0,i.jsx)("td",{children:(0,i.jsx)(Q.h,{pipelineName:n.pipelineName,pipelineHrefContext:t,isJob:!!o&&(0,L.E8)(o,n.pipelineName)})}),(0,i.jsx)("td",{children:(0,i.jsx)(eo,{repoAddress:t,schedule:n,tickTimestamp:r})})]},"".concat(n.id,":").concat(r))})})]}):(0,i.jsx)(c.x,{padding:{vertical:32},children:(0,i.jsx)(S.t,{icon:"error",title:"No scheduled ticks",description:o?(0,i.jsxs)(i.Fragment,{children:["There are no running schedules."," ",(0,i.jsx)(J.rU,{to:"/overview/schedules",children:"Start a schedule"})," to see scheduled ticks."]}):(0,i.jsx)(i.Fragment,{children:"There are no schedules in this workspace. Create a running schedule to view its scheduled ticks."}),action:o?null:(0,i.jsx)(F.fr,{icon:(0,i.jsx)(q.JO,{name:"open_in_new"}),href:"https://docs.dagster.io/concepts/partitions-schedules-sensors/schedules",children:"View documentation"})})})}),eo=f.memo(function(e){var n,r=e.repoAddress,t=e.schedule,o=e.tickTimestamp,s=(0,y._)((0,k._)({},(0,D.$)(r)),{scheduleName:t.name}),u=(0,R._)(f.useState(!1),2),c=u[0],l=u[1],a=(0,R._)((0,T.t)(ea,{variables:{scheduleSelector:s,tickTimestamp:o}}),2),d=a[0],h=a[1],m=h.called,p=h.loading,x=h.data,g=(null==x?void 0:null===(n=x.scheduleOrError)||void 0===n?void 0:n.__typename)==="Schedule"?x.scheduleOrError.futureTick.evaluationResult:null,j=m&&!p?(0,i.jsx)(es,{repoAddress:r,schedule:t,loading:p,onItemOpen:l,evaluationResult:g}):(0,i.jsx)(N.$,{purpose:"body-text"});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O.J,{content:(0,i.jsx)(E.v2,{children:j}),position:"bottom-right",onOpening:function(){m||d()},children:(0,i.jsx)(F.zx,{icon:(0,i.jsx)(q.JO,{name:"expand_more"})})}),(0,i.jsx)(eu,{repoAddress:r,isOpen:c,setOpen:l,schedule:t,tickTimestamp:o,evaluationResult:g})]})}),es=function(e){var n=e.repoAddress,r=e.schedule,t=e.evaluationResult,o=e.loading,s=e.onItemOpen;if(!t)return(0,i.jsx)(E.sN,{text:"Could not preview tick for this schedule"});if(t.skipReason)return(0,i.jsx)(E.sN,{text:"View skip reason...",onClick:function(){return s(!0)}});if(t.error)return(0,i.jsx)(E.sN,{text:"View error...",onClick:function(){return s(!0)}});if(!t.runRequests||!t.runRequests.length)return(0,i.jsx)(E.sN,{text:"No runs requested for this projected schedule tick"});if(1===t.runRequests.length){var u=t.runRequests[0],c=u?u.runConfigYaml:"";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E.sN,{text:o?"Loading Configuration...":"View Configuration...",icon:"open_in_new",onClick:function(){return s(!0)}}),(0,i.jsx)(K.U,{text:"Open in Launchpad...",icon:"edit",target:"_blank",to:(0,M.$U)(n,"/pipeline_or_job/".concat(r.pipelineName,"/playground/setup?").concat(Z().stringify({mode:r.mode,config:c,solidSelection:r.solidSelection})))})]})}return(0,i.jsx)(E.sN,{text:"View ".concat(t.runRequests.length," run requests..."),icon:"edit",target:"_blank",onClick:function(){return s(!0)}})},eu=function(e){var n,r=e.repoAddress,t=e.evaluationResult,o=e.schedule,s=e.tickTimestamp,u=e.setOpen,l=e.isOpen,m=(0,R._)(f.useState(t&&t.runRequests&&1===t.runRequests.length?t.runRequests[0]:null),2),p=m[0],x=m[1],g=(0,B.m)(),j=(0,L.Ux)(r),v=(0,L.E8)(j,o.pipelineName);f.useEffect(function(){t&&t.runRequests&&1===t.runRequests.length&&x(t.runRequests[0])},[t]);var C=function(){x(null),u(!1)};return t?p?n=(0,i.jsxs)(c.x,{flex:{direction:"column",gap:20},children:[(0,i.jsxs)(c.x,{flex:{direction:"column",gap:12},padding:{top:16,horizontal:24},children:[(0,i.jsx)($.pm,{children:"Tags"}),p.tags.length?(0,i.jsx)(V.Q,{tags:p.tags,mode:v?null:o.mode}):null]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.x,{border:{side:"bottom",width:1,color:h.w.KeylineGray},padding:{left:24,bottom:16},children:(0,i.jsx)($.pm,{children:"Config"})}),(0,i.jsx)(z.NU,{value:p.runConfigYaml,options:{lineNumbers:!0,mode:"yaml"}})]})]}):t.error?n=(0,i.jsx)(I.a7,{children:(0,i.jsx)(G.T9,{error:t.error})}):t.skipReason?n=(0,i.jsx)(I.a7,{children:(0,i.jsx)(eh,{children:t.skipReason})}):t.runRequests&&(n=(0,i.jsx)(I.a7,{children:(0,i.jsx)(ed,{children:(0,i.jsxs)(P.i,{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Run key"}),(0,i.jsx)("th",{children:"Config"}),(0,i.jsx)("th",{children:"Actions"})]})}),(0,i.jsx)("tbody",{children:t.runRequests.map(function(e,n){return e?(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.runKey||(0,i.jsx)("span",{children:"â€”"})}),(0,i.jsx)("td",{children:(0,i.jsx)(d.Z,{onClick:function(){return x(e)},underline:!1,children:(0,i.jsxs)(a.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,i.jsx)(q.JO,{name:"open_in_new",color:h.w.Gray400}),(0,i.jsx)("span",{children:"View config"})]})})}),(0,i.jsx)("td",{children:(0,i.jsx)(O.J,{content:(0,i.jsx)(E.v2,{children:(0,i.jsx)(K.U,{text:"Open in Launchpad...",icon:"edit",target:"_blank",to:(0,M.$U)(r,"/".concat(v?"jobs":"pipelines","/").concat(o.pipelineName,"/playground/setup?").concat(Z().stringify({mode:o.mode,config:e.runConfigYaml,solidSelection:o.solidSelection})))})}),position:"bottom",children:(0,i.jsx)(F.zx,{icon:(0,i.jsx)(q.JO,{name:"expand_more"})})})})]},n):null})})]})})})):n=null,(0,i.jsxs)(I.Vq,{onClose:function(){return C()},style:{width:"50vw"},title:(0,i.jsxs)(c.x,{flex:{direction:"row",gap:4},children:[(0,i.jsx)(W.v,{timestamp:s,timezone:o.executionTimezone}),(null==p?void 0:p.runKey)?(0,i.jsxs)("div",{children:[": ",null==p?void 0:p.runKey]}):null]}),isOpen:l,children:[n,(0,i.jsxs)(I.cN,{topBorder:!0,children:[p?(0,i.jsx)(F.zx,{autoFocus:!1,onClick:(0,w._)(function(){return(0,b.Jh)(this,function(e){switch(e.label){case 0:return g(p.runConfigYaml),[4,(0,U.B7)({intent:"success",icon:"copy_to_clipboard_done",message:"Copied!"})];case 1:return e.sent(),[2]}})}),children:"Copy config"}):null,(0,i.jsx)(F.zx,{intent:"primary",autoFocus:!0,onClick:function(){return C()},children:"OK"})]})]})},ec=(0,s.Ps)(X()),el=(0,s.Ps)(ee(),ec),ea=(0,s.Ps)(en(),p.B),ed=Y.ZP.div.withConfig({componentId:"sc-992e30a8-0"})(er()),eh=Y.ZP.div.withConfig({componentId:"sc-992e30a8-1"})(et(),h.w.Yellow500),ef=r(72171),em=r(26977);function ep(){var e=(0,t._)(["\n  query ScheduledRunsListQuery {\n    instance {\n      id\n      ...InstanceHealthFragment\n    }\n    repositoriesOrError {\n      ... on RepositoryConnection {\n        nodes {\n          id\n          ... on Repository {\n            id\n            ...RepositoryForNextTicksFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return ep=function(){return e},e}var ex=function(){(0,g.Px)(),(0,j.j)("Runs | Scheduled");var e=(0,o.a)(ej,{notifyOnNetworkStatusChange:!0}),n=(0,x.C4)(e,x.dT),r=(0,em.zc)(),t=r.tabs,s=r.queryResult,f=(0,x.C4)(s,x.dT),p=(0,x.V5)(f,n);return(0,i.jsxs)(u.T,{children:[(0,i.jsxs)(c.x,{flex:{direction:"row",gap:8,alignItems:"center",justifyContent:"space-between"},padding:{vertical:8,left:24,right:12},children:[t,(0,i.jsx)(x.xi,{refreshState:p})]}),(0,i.jsx)(ef.g,{queryResult:e,allowStaleData:!0,children:function(e){var n=e.repositoriesOrError,r=e.instance;if("PythonError"===n.__typename){var t=n.message;return(0,i.jsx)(l.b,{intent:"warning",title:(0,i.jsxs)(a.Z,{direction:"row",spacing:4,children:[(0,i.jsx)("div",{children:"Could not load scheduled ticks."}),(0,i.jsx)(d.Z,{color:h.w.Link,underline:"always",onClick:function(){(0,m._)({title:"Python error",body:t})},children:"View error"})]})})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C.K,{daemonHealth:r.daemonHealth,padding:{vertical:16,horizontal:24}}),(0,i.jsx)(ei,{repos:n.nodes})]})}})]})},eg=ex,ej=(0,s.Ps)(ep(),v.O,el,p.B)},36057:function(e,n,r){r.d(n,{K:function(){return l}});var t=r(85333),i=r(6692),o=r(2281),s=r(52322),u=r(2736),c=r(51927);r(2784);var l=function(e){var n=e.daemonHealth,r=(0,o._)(e,["daemonHealth"]),l=void 0;if(n){var a=n.allDaemonStatuses.filter(function(e){return"SCHEDULER"===e.daemonType});if(a.length>0){var d=a[0];l=d.required&&d.healthy}}return!1===l?(0,s.jsx)(u.x,(0,i._)((0,t._)({},r),{children:(0,s.jsx)(c.b,{intent:"warning",title:"The scheduler daemon is not running.",description:(0,s.jsxs)("div",{children:["See the"," ",(0,s.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})})):null}},30082:function(e,n,r){r.d(n,{v:function(){return x}});var t=r(58467),i=r(73235),o=r(52322),s=r(85737),u=r(87323),c=r(42971),l=r(2784),a=r(35505),d=r(89356),h=r(8437),f=r(7832);function m(){var e=(0,i._)(["\n  font-variant-numeric: tabular-nums;\n"]);return m=function(){return e},e}function p(){var e=(0,i._)(["\n  cursor: pointer;\n  position: relative;\n  top: 2px;\n  margin-left: 4px;\n"]);return p=function(){return e},e}var x=function(e){var n=e.timestamp,r=e.timezone,i=e.timeFormat,c=e.tooltipTimeFormat,a=l.useContext(d.JB),h=(0,t._)(a.timezone,1)[0],m=(0,t._)(a.hourCycle,1)[0],p=navigator.language,x=(0,f.j)({timestamp:{unix:n},locale:p,timezone:r||h,timeFormat:i,hourCycle:m});return(0,o.jsxs)("span",{children:[(0,o.jsx)(g,{style:{minWidth:0},title:x,children:x}),r&&r!==h?(0,o.jsx)(j,{placement:"top",content:(0,o.jsx)(g,{children:(0,f.j)({timestamp:{unix:n},locale:p,timezone:h,timeFormat:c})}),children:(0,o.jsx)(s.JO,{name:"schedule",color:u.w.Gray400,size:12})}):null]})};x.defaultProps={timeFormat:h._,tooltipTimeFormat:{showSeconds:!1,showTimezone:!0}};var g=a.ZP.span.withConfig({componentId:"sc-99dfeec2-0"})(m()),j=(0,a.ZP)(c.u).withConfig({componentId:"sc-99dfeec2-1"})(p())},72171:function(e,n,r){r.d(n,{T:function(){return d},g:function(){return a}});var t=r(58467),i=r(52322),o=r(2736),s=r(45),u=r(91588),c=r(2784),l=r(71212),a=function(e){var n=e.children,r=e.purpose,u=e.allowStaleData,a=e.renderError,h=e.queryResult,f=h.error,m=h.data,p=h.loading,x=(0,t._)(c.useState(!0),2),g=x[0],j=x[1],v=!m||p&&!(void 0!==u&&u)||0===Object.keys(m).length;if(c.useEffect(function(){var e;return v?e=setTimeout(function(){return j(!1)},500):j(!0),function(){e&&clearTimeout(e)}},[v]),f){if(a)return(0,i.jsx)(i.Fragment,{children:a(f)});var C=f.networkError;if(!C)return(0,i.jsx)(o.x,{padding:64,flex:{justifyContent:"center"},children:(0,i.jsx)(s.t,{icon:"error",title:"GraphQL Error - see console for details"})});if("statusCode"in C&&l.h.has(C.statusCode)){var w=C.statusCode;return(0,i.jsx)(o.x,{padding:64,flex:{justifyContent:"center"},children:(0,i.jsx)(s.t,{icon:"error",title:"Network error",description:(0,l.F)(w)})})}}return v?g?null:(0,i.jsx)(d,{purpose:r}):(0,i.jsx)(i.Fragment,{children:n(m)})},d=function(e){var n=e.purpose,r="page"===n;return(0,i.jsx)(o.x,{padding:64,flex:{grow:r?1:void 0,justifyContent:"center",alignItems:"center"},style:r?{height:"100%"}:void 0,children:(0,i.jsx)(u.$,{purpose:n})})};a.defaultProps={purpose:"page"}}}]);
//# sourceMappingURL=891.a7d1375dea2b4962.js.map