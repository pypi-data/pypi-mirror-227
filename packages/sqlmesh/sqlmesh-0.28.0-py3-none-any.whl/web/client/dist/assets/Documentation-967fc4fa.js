import{r as c,R as F,a9 as ae,aa as de,n as ne,D as _,y as z,ar as V,o as S,x as W,X as B,I as le,q as k,P as O,ap as q,an as xe,A as v,ao as D,J as w,aF as fe,j as n,d as $,az as pe,e as me,aG as be,ah as he,V as ge,ak as je}from"./index-5f361499.js";import{d as ve,f as we,M as ye,i as Ne,C as re}from"./context-43f037d0.js";import{s as Te}from"./popover-b68ce716.js";import{v as Y,M as Ie,P as Pe}from"./disclosure-3ee00e31.js";function Ee({onFocus:e}){let[t,r]=c.useState(!0);return t?F.createElement(ae,{as:"button",type:"button",features:de.Focusable,onFocus:s=>{s.preventDefault();let a,l=50;function i(){if(l--<=0){a&&cancelAnimationFrame(a);return}if(e()){r(!1),cancelAnimationFrame(a);return}a=requestAnimationFrame(i)}a=requestAnimationFrame(i)}}):null}const ie=c.createContext(null);function Se(){return{groups:new Map,get(e,t){var r;let s=this.groups.get(e);s||(s=new Map,this.groups.set(e,s));let a=(r=s.get(t))!=null?r:0;s.set(t,a+1);let l=Array.from(s.keys()).indexOf(t);function i(){let p=s.get(t);p>1?s.set(t,p-1):s.delete(t)}return[l,i]}}}function $e({children:e}){let t=c.useRef(Se());return c.createElement(ie.Provider,{value:t},e)}function oe(e){let t=c.useContext(ie);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let r=De(),[s,a]=t.current.get(e,r);return c.useEffect(()=>a,[]),s}function De(){var e,t,r;let s=(r=(t=(e=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?r:null;if(!s)return Symbol();let a=[],l=s;for(;l;)a.push(l.index),l=l.return;return"$."+a.join(".")}var Fe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Fe||{}),Ce=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Ce||{}),Re=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Re||{});let Ae={0(e,t){var r;let s=O(e.tabs,d=>d.current),a=O(e.panels,d=>d.current),l=s.filter(d=>{var N;return!((N=d.current)!=null&&N.hasAttribute("disabled"))}),i={...e,tabs:s,panels:a};if(t.index<0||t.index>s.length-1){let d=k(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>k(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});return l.length===0?i:{...i,selectedIndex:k(d,{0:()=>s.indexOf(l[0]),1:()=>s.indexOf(l[l.length-1])})}}let p=s.slice(0,t.index),m=[...s.slice(t.index),...p].find(d=>l.includes(d));if(!m)return i;let u=(r=s.indexOf(m))!=null?r:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...i,selectedIndex:u}},1(e,t){var r;if(e.tabs.includes(t.tab))return e;let s=e.tabs[e.selectedIndex],a=O([...e.tabs,t.tab],i=>i.current),l=(r=a.indexOf(s))!=null?r:e.selectedIndex;return l===-1&&(l=e.selectedIndex),{...e,tabs:a,selectedIndex:l}},2(e,t){return{...e,tabs:e.tabs.filter(r=>r!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:O([...e.panels,t.panel],r=>r.current)}},4(e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}}},J=c.createContext(null);J.displayName="TabsDataContext";function R(e){let t=c.useContext(J);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,R),r}return t}let K=c.createContext(null);K.displayName="TabsActionsContext";function Q(e){let t=c.useContext(K);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Q),r}return t}function Le(e,t){return k(t.type,Ae,e,t)}let Me=c.Fragment;function Oe(e,t){let{defaultIndex:r=0,vertical:s=!1,manual:a=!1,onChange:l,selectedIndex:i=null,...p}=e;const m=s?"vertical":"horizontal",u=a?"manual":"auto";let d=i!==null,N=z(t),[x,j]=c.useReducer(Le,{selectedIndex:i??r,tabs:[],panels:[]}),b=c.useMemo(()=>({selectedIndex:x.selectedIndex}),[x.selectedIndex]),A=V(l||(()=>{})),L=V(x.tabs),h=c.useMemo(()=>({orientation:m,activation:u,...x}),[m,u,x]),g=S(f=>(j({type:1,tab:f}),()=>j({type:2,tab:f}))),I=S(f=>(j({type:3,panel:f}),()=>j({type:4,panel:f}))),P=S(f=>{E.current!==f&&A.current(f),d||j({type:0,index:f})}),E=V(d?e.selectedIndex:x.selectedIndex),H=c.useMemo(()=>({registerTab:g,registerPanel:I,change:P}),[]);W(()=>{j({type:0,index:i??r})},[i]),W(()=>{if(E.current===void 0||x.tabs.length<=0)return;let f=O(x.tabs,T=>T.current);f.some((T,o)=>x.tabs[o]!==T)&&P(f.indexOf(x.tabs[E.current]))});let X={ref:N};return F.createElement($e,null,F.createElement(K.Provider,{value:H},F.createElement(J.Provider,{value:h},h.tabs.length<=0&&F.createElement(Ee,{onFocus:()=>{var f,T;for(let o of L.current)if(((f=o.current)==null?void 0:f.tabIndex)===0)return(T=o.current)==null||T.focus(),!0;return!1}}),B({ourProps:X,theirProps:p,slot:b,defaultTag:Me,name:"Tabs"}))))}let ke="div";function _e(e,t){let{orientation:r,selectedIndex:s}=R("Tab.List"),a=z(t);return B({ourProps:{ref:a,role:"tablist","aria-orientation":r},theirProps:e,slot:{selectedIndex:s},defaultTag:ke,name:"Tabs.List"})}let ze="button";function Be(e,t){var r,s;let a=le(),{id:l=`headlessui-tabs-tab-${a}`,...i}=e,{orientation:p,activation:m,selectedIndex:u,tabs:d,panels:N}=R("Tab"),x=Q("Tab"),j=R("Tab"),b=c.useRef(null),A=z(b,t);W(()=>x.registerTab(b),[x,b]);let L=oe("tabs"),h=d.indexOf(b);h===-1&&(h=L);let g=h===u,I=S(o=>{var y;let U=o();if(U===q.Success&&m==="auto"){let ue=(y=xe(b))==null?void 0:y.activeElement,te=j.tabs.findIndex(ce=>ce.current===ue);te!==-1&&x.change(te)}return U}),P=S(o=>{let y=d.map(U=>U.current).filter(Boolean);if(o.key===v.Space||o.key===v.Enter){o.preventDefault(),o.stopPropagation(),x.change(h);return}switch(o.key){case v.Home:case v.PageUp:return o.preventDefault(),o.stopPropagation(),I(()=>D(y,w.First));case v.End:case v.PageDown:return o.preventDefault(),o.stopPropagation(),I(()=>D(y,w.Last))}if(I(()=>k(p,{vertical(){return o.key===v.ArrowUp?D(y,w.Previous|w.WrapAround):o.key===v.ArrowDown?D(y,w.Next|w.WrapAround):q.Error},horizontal(){return o.key===v.ArrowLeft?D(y,w.Previous|w.WrapAround):o.key===v.ArrowRight?D(y,w.Next|w.WrapAround):q.Error}}))===q.Success)return o.preventDefault()}),E=c.useRef(!1),H=S(()=>{var o;E.current||(E.current=!0,(o=b.current)==null||o.focus(),x.change(h),fe(()=>{E.current=!1}))}),X=S(o=>{o.preventDefault()}),f=c.useMemo(()=>({selected:g}),[g]),T={ref:A,onKeyDown:P,onMouseDown:X,onClick:H,id:l,role:"tab",type:Te(e,b),"aria-controls":(s=(r=N[h])==null?void 0:r.current)==null?void 0:s.id,"aria-selected":g,tabIndex:g?0:-1};return B({ourProps:T,theirProps:i,slot:f,defaultTag:ze,name:"Tabs.Tab"})}let Ue="div";function qe(e,t){let{selectedIndex:r}=R("Tab.Panels"),s=z(t),a=c.useMemo(()=>({selectedIndex:r}),[r]);return B({ourProps:{ref:s},theirProps:e,slot:a,defaultTag:Ue,name:"Tabs.Panels"})}let Ge="div",We=ne.RenderStrategy|ne.Static;function He(e,t){var r,s,a,l;let i=le(),{id:p=`headlessui-tabs-panel-${i}`,tabIndex:m=0,...u}=e,{selectedIndex:d,tabs:N,panels:x}=R("Tab.Panel"),j=Q("Tab.Panel"),b=c.useRef(null),A=z(b,t);W(()=>j.registerPanel(b),[j,b]);let L=oe("panels"),h=x.indexOf(b);h===-1&&(h=L);let g=h===d,I=c.useMemo(()=>({selected:g}),[g]),P={ref:A,id:p,role:"tabpanel","aria-labelledby":(s=(r=N[h])==null?void 0:r.current)==null?void 0:s.id,tabIndex:g?m:-1};return!g&&((a=u.unmount)==null||a)&&!((l=u.static)!=null&&l)?F.createElement(ae,{as:"span",...P}):B({ourProps:P,theirProps:u,slot:I,defaultTag:Ge,features:We,visible:g,name:"Tabs.Panel"})}let Xe=_(Be),Ve=_(Oe),Ye=_(_e),Je=_(qe),Ke=_(He),C=Object.assign(Xe,{Group:Ve,List:Ye,Panels:Je,Panel:Ke});function Qe({list:e,children:t=[],className:r}){return n.jsxs(C.List,{className:"w-full whitespace-nowrap px-2 py-0.5 flex justify-between items-center bg-primary-10 dark:bg-secondary-10",children:[n.jsx("div",{className:$("flex w-full overflow-hidden overflow-x-auto py-1 hover:scrollbar scrollbar--horizontal",r),children:n.jsx("div",{className:"flex items-center bg-secondary-10 dark:bg-primary-10 cursor-pointer rounded-full p-1 overflow-hidden",children:e.map(s=>n.jsx(C,{className:({selected:a})=>$("text-xs px-2 py-0.5 mr-2 last:mr-0 rounded-full relative align-middle",a?"bg-secondary-500 text-secondary-100 cursor-default font-bold":"cursor-pointer font-medium text-secondary-400 dark:text-secondary-400"),children:s},s))})}),t]})}const Z=function({model:t,withModel:r=!0,withDescription:s=!0,withColumns:a=!0,withCode:l=!0,withQuery:i=!0}){const{handleClickModel:p}=ve(),m=we(t.path,u=>{p==null||p(u.name)});return n.jsxs(ee,{children:[r&&n.jsx(G,{headline:"Model",defaultOpen:!0,children:n.jsxs("ul",{className:"px-2 w-full",children:[n.jsx(M,{name:"Path",value:t.path.split("/").slice(0,-1).join("/")}),n.jsx(M,{name:"Name",value:t.name}),n.jsx(M,{name:"Dialect",value:t.dialect}),n.jsx(M,{name:"Type",value:t.type}),Object.entries(t.details??{}).map(([u,d])=>n.jsx(M,{name:u.replaceAll("_"," "),value:d,isCapitalize:!0},u))]})}),s&&n.jsx(G,{headline:"Description",defaultOpen:!0,children:t.description==null?"No description":t.description}),a&&n.jsx(G,{headline:"Columns",children:n.jsx(ye,{className:"max-h-[15rem]",nodeId:t.name,columns:t.columns,disabled:(t==null?void 0:t.type)==="python",withHandles:!1,withSource:!1,withDescription:!0,limit:10})}),(l||i)&&n.jsx(G,{headline:"SQL",children:n.jsx(Ne,{path:t.path,children:({file:u})=>n.jsxs(C.Group,{defaultIndex:i?1:0,children:[n.jsx(Qe,{list:[l&&"Source Code",i&&"Compiled Query"].filter(Boolean),className:"!justify-center"}),n.jsxs(C.Panels,{className:"h-full w-full overflow-hidden bg-neutral-10 mt-4 rounded-lg",children:[l&&n.jsx(C.Panel,{unmount:!1,className:$("flex flex-col w-full h-full relative px-2 overflow-hidden p-2","ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2"),children:n.jsx(re,{content:u.content,type:u.extension,extensions:m,className:"text-xs"})}),i&&n.jsx(C.Panel,{unmount:!1,className:"w-full h-full ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2 p-2",children:n.jsx(re,{type:pe.SQL,content:t.sql??"",extensions:m,className:"text-xs"})})]})]})})})]})};function Ze({headline:e}){return n.jsx("div",{className:"text-lg font-bold whitespace-nowrap w-full",id:e,children:n.jsx("h3",{className:"py-2",children:e})})}function et(){return n.jsx(ee,{className:"font-bold whitespace-nowrap w-full h-full",children:n.jsx("div",{className:"flex items-center justify-center w-full h-full",children:"Documentation Not Found"})})}function ee({children:e,className:t}){return n.jsx("div",{className:$("w-full h-full rounded-xl",t),children:n.jsx("div",{className:"w-full h-full py-4 rounded-xl",children:n.jsx("div",{className:"w-full h-full overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:e})})})}function G({children:e,className:t,headline:r,defaultOpen:s=!1}){return n.jsx("div",{className:"px-4",children:n.jsx(Y,{defaultOpen:s,children:({open:a})=>n.jsxs(n.Fragment,{children:[n.jsxs(Y.Button,{className:$("flex items-center justify-between rounded-lg text-left w-full bg-neutral-10 px-3 mb-2",t),children:[n.jsx(Ze,{headline:r}),n.jsx("div",{children:a?n.jsx(Ie,{className:"h-6 w-6 text-neutral-50"}):n.jsx(Pe,{className:"h-6 w-6 text-neutral-50"})})]}),n.jsx(Y.Panel,{className:"pb-2 overflow-hidden",children:n.jsx("div",{className:"px-4 mb-2 text-xs",children:e})})]})})})}function M({className:e,name:t,value:r,isHighlighted:s=!1,isCapitalize:a=!1,children:l}){return n.jsxs("li",{className:$("w-full border-b border-primary-10 py-1 mb-1",e),children:[me(r)?n.jsxs(n.Fragment,{children:[n.jsx("strong",{className:"mr-2 text-xs capitalize",children:t}),r.map((i,p)=>n.jsx("span",{className:"w-full items-center flex ml-2 mb-1",children:n.jsx("ul",{className:"w-full flex ml-3 whitespace-nowrap",children:Object.entries(i).map(([m,u])=>n.jsx("li",{className:"flex",children:n.jsxs("div",{className:"flex text-xs",children:[n.jsxs("strong",{className:"mr-2",children:[m,":"]}),n.jsx("p",{className:"text-xs rounded text-neutral-500 dark:text-neutral-400",children:se(u)}),n.jsx("span",{className:"px-2 text-neutral-20",children:"|"})]})},m))})},p))]}):n.jsxs("div",{className:"flex justify-between text-xs whitespace-nowrap",children:[n.jsx("strong",{className:$("mr-2",a&&"capitalize",s&&"text-brand-500"),children:t}),n.jsx("p",{className:"text-xs rounded text-neutral-500 dark:text-neutral-400",children:se(r)})]}),n.jsx("p",{className:"text-xs ",children:l})]})}Z.NotFound=et;Z.Container=ee;const at=Z;function se(e){const t=new Date(e),r=be(e)&&!isNaN(t.getTime()),s=typeof e=="boolean";return s&&he(e)?"True":s&&ge(e)?"False":r?je(t):String(e)}export{at as D,Qe as T,C as r};
