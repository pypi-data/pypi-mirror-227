"use strict";(self.webpackChunkdash_leaflet=self.webpackChunkdash_leaflet||[]).push([[618],{3855:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(8081),o=r.n(n),s=r(3645),i=r.n(s)()(o());i.push([t.id,'.marker-cluster-small {\n\tbackground-color: rgba(181, 226, 140, 0.6);\n\t}\n\n.marker-cluster-small div {\n\tbackground-color: rgba(110, 204, 57, 0.6);\n\t}\n\n.marker-cluster-medium {\n\tbackground-color: rgba(241, 211, 87, 0.6);\n\t}\n\n.marker-cluster-medium div {\n\tbackground-color: rgba(240, 194, 12, 0.6);\n\t}\n\n.marker-cluster-large {\n\tbackground-color: rgba(253, 156, 115, 0.6);\n\t}\n\n.marker-cluster-large div {\n\tbackground-color: rgba(241, 128, 23, 0.6);\n\t}\n\n\t/* IE 6-8 fallback colors */\n.leaflet-oldie .marker-cluster-small {\n\tbackground-color: rgb(181, 226, 140);\n\t}\n.leaflet-oldie .marker-cluster-small div {\n\tbackground-color: rgb(110, 204, 57);\n\t}\n\n.leaflet-oldie .marker-cluster-medium {\n\tbackground-color: rgb(241, 211, 87);\n\t}\n\n.leaflet-oldie .marker-cluster-medium div {\n\tbackground-color: rgb(240, 194, 12);\n\t}\n\n.leaflet-oldie .marker-cluster-large {\n\tbackground-color: rgb(253, 156, 115);\n\t}\n\n.leaflet-oldie .marker-cluster-large div {\n\tbackground-color: rgb(241, 128, 23);\n}\n\n.marker-cluster {\n\tbackground-clip: padding-box;\n\tborder-radius: 20px;\n\t}\n\n.marker-cluster div {\n\twidth: 30px;\n\theight: 30px;\n\tmargin-left: 5px;\n\tmargin-top: 5px;\n\n\ttext-align: center;\n\tborder-radius: 15px;\n\tfont: 12px "Helvetica Neue", Arial, Helvetica, sans-serif;\n\t}\n\n.marker-cluster span {\n\tline-height: 30px;\n}\n\n.leaflet-cluster-anim .leaflet-marker-icon, .leaflet-cluster-anim .leaflet-marker-shadow {\n\t-webkit-transition: -webkit-transform 0.3s ease-out, opacity 0.3s ease-in;\n\t-moz-transition: -moz-transform 0.3s ease-out, opacity 0.3s ease-in;\n\t-o-transition: -o-transform 0.3s ease-out, opacity 0.3s ease-in;\n\ttransition: transform 0.3s ease-out, opacity 0.3s ease-in;\n}\n\n.leaflet-cluster-spider-leg {\n\t/* stroke-dashoffset (duration and function) should match with leaflet-marker-icon transform in order to track it exactly */\n\t-webkit-transition: -webkit-stroke-dashoffset 0.3s ease-out, -webkit-stroke-opacity 0.3s ease-in;\n\t-moz-transition: -moz-stroke-dashoffset 0.3s ease-out, -moz-stroke-opacity 0.3s ease-in;\n\t-o-transition: -o-stroke-dashoffset 0.3s ease-out, -o-stroke-opacity 0.3s ease-in;\n\ttransition: stroke-dashoffset 0.3s ease-out, stroke-opacity 0.3s ease-in;\n}',""]);const a=i},7145:(t,e)=>{function r(t){return"object"!=typeof t||"toString"in t?t:Object.prototype.toString.call(t).slice(8,-1)}Object.defineProperty(e,"__esModule",{value:!0});var n="object"==typeof process&&!0;function o(t,e){if(!t){if(n)throw new Error("Invariant failed");throw new Error(e())}}e.invariant=o;var s=Object.prototype.hasOwnProperty,i=Array.prototype.splice,a=Object.prototype.toString;function u(t){return a.call(t).slice(8,-1)}var c=Object.assign||function(t,e){return l(e).forEach((function(r){s.call(e,r)&&(t[r]=e[r])})),t},l="function"==typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)};function p(t){return Array.isArray(t)?c(t.constructor(t.length),t):"Map"===u(t)?new Map(t):"Set"===u(t)?new Set(t):t&&"object"==typeof t?c(Object.create(Object.getPrototypeOf(t)),t):t}var f=function(){function t(){this.commands=c({},h),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(t,e){return t===e},this.update.newContext=function(){return(new t).update}}return Object.defineProperty(t.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(t){this.update.isEquals=t},enumerable:!0,configurable:!0}),t.prototype.extend=function(t,e){this.commands[t]=e},t.prototype.update=function(t,e){var r=this,n="function"==typeof e?{$apply:e}:e;Array.isArray(t)&&Array.isArray(n)||o(!Array.isArray(n),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),o("object"==typeof n&&null!==n,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(r.commands).join(", ")+"."}));var i=t;return l(n).forEach((function(e){if(s.call(r.commands,e)){var o=t===i;i=r.commands[e](n[e],i,n,t),o&&r.isEquals(i,t)&&(i=t)}else{var a="Map"===u(t)?r.update(t.get(e),n[e]):r.update(t[e],n[e]),c="Map"===u(i)?i.get(e):i[e];r.isEquals(a,c)&&(void 0!==a||s.call(t,e))||(i===t&&(i=p(t)),"Map"===u(i)?i.set(e,a):i[e]=a)}})),i},t}();e.Context=f;var h={$push:function(t,e,r){return m(e,r,"$push"),t.length?e.concat(t):e},$unshift:function(t,e,r){return m(e,r,"$unshift"),t.length?t.concat(e):e},$splice:function(t,e,n,s){return function(t,e){o(Array.isArray(t),(function(){return"Expected $splice target to be an array; got "+r(t)})),g(e.$splice)}(e,n),t.forEach((function(t){g(t),e===s&&t.length&&(e=p(s)),i.apply(e,t)})),e},$set:function(t,e,r){return function(t){o(1===Object.keys(t).length,(function(){return"Cannot have more than one key in an object with $set"}))}(r),t},$toggle:function(t,e){y(t,"$toggle");var r=t.length?p(e):e;return t.forEach((function(t){r[t]=!e[t]})),r},$unset:function(t,e,r,n){return y(t,"$unset"),t.forEach((function(t){Object.hasOwnProperty.call(e,t)&&(e===n&&(e=p(n)),delete e[t])})),e},$add:function(t,e,r,n){return v(e,"$add"),y(t,"$add"),"Map"===u(e)?t.forEach((function(t){var r=t[0],o=t[1];e===n&&e.get(r)!==o&&(e=p(n)),e.set(r,o)})):t.forEach((function(t){e!==n||e.has(t)||(e=p(n)),e.add(t)})),e},$remove:function(t,e,r,n){return v(e,"$remove"),y(t,"$remove"),t.forEach((function(t){e===n&&e.has(t)&&(e=p(n)),e.delete(t)})),e},$merge:function(t,e,n,s){var i,a;return i=e,o((a=t)&&"object"==typeof a,(function(){return"update(): $merge expects a spec of type 'object'; got "+r(a)})),o(i&&"object"==typeof i,(function(){return"update(): $merge expects a target of type 'object'; got "+r(i)})),l(t).forEach((function(r){t[r]!==e[r]&&(e===s&&(e=p(s)),e[r]=t[r])})),e},$apply:function(t,e){var n;return o("function"==typeof(n=t),(function(){return"update(): expected spec of $apply to be a function; got "+r(n)+"."})),t(e)}},d=new f;function m(t,e,n){o(Array.isArray(t),(function(){return"update(): expected target of "+r(n)+" to be an array; got "+r(t)+"."})),y(e[n],n)}function y(t,e){o(Array.isArray(t),(function(){return"update(): expected spec of "+r(e)+" to be an array; got "+r(t)+". Did you forget to wrap your parameter in an array?"}))}function g(t){o(Array.isArray(t),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+r(t)+". Did you forget to wrap your parameters in an array?"}))}function v(t,e){var n=u(t);o("Map"===n||"Set"===n,(function(){return"update(): "+r(e)+" expects a target of type Set or Map; got "+r(n)}))}e.isEquals=d.update.isEquals,e.extend=d.extend,e.default=d.update,e.default.default=t.exports=c(e.default,e)},5973:(t,e,r)=>{r.r(e),r.d(e,{default:()=>m});var n=r(3379),o=r.n(n),s=r(7795),i=r.n(s),a=r(3565),u=r.n(a),c=r(9216),l=r.n(c),p=r(4589),f=r.n(p),h=r(3855),d={};d.styleTagTransform=f(),d.setAttributes=u(),d.insert=function(t){var e=document.querySelector("head"),r=window._lastElementInsertedByStyleLoader;r?r.nextSibling?e.insertBefore(t,r.nextSibling):e.appendChild(t):e.insertBefore(t,e.firstChild),window._lastElementInsertedByStyleLoader=t},d.domAPI=i(),d.insertStyleElement=l(),o()(h.Z,d);const m=h.Z&&h.Z.locals?h.Z.locals:void 0},1930:(t,e,r)=>{r.r(e),r.d(e,{default:()=>G});var n=r(7582),o=r(5812),s=r.n(o),i=r(5243),a=r(9153),u=r(7999),c=r(1410),l=r(9534),p=r(1802),f=r(3655),h=r(620);const d=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class m{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[e,r]=new Uint8Array(t,0,2);if(219!==e)throw new Error("Data does not appear to be in a KDBush format.");const n=r>>4;if(1!==n)throw new Error(`Got v${n} data when expected v1.`);const o=d[15&r];if(!o)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(t,2,1),[i]=new Uint32Array(t,4,1);return new m(i,s,o,t)}constructor(t,e=64,r=Float64Array,n){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+e,2),65535),this.ArrayType=r,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const o=d.indexOf(this.ArrayType),s=2*t*this.ArrayType.BYTES_PER_ELEMENT,i=t*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-i%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${r}.`);n&&n instanceof ArrayBuffer?(this.data=n,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+i+a,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+s+i+a),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+i+a,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+o]),new Uint16Array(this.data,2,1)[0]=e,new Uint32Array(this.data,4,1)[0]=t)}add(t,e){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=t,this.coords[this._pos++]=e,r}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return y(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,e,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:s,nodeSize:i}=this,a=[0,o.length-1,0],u=[];for(;a.length;){const c=a.pop()||0,l=a.pop()||0,p=a.pop()||0;if(l-p<=i){for(let i=p;i<=l;i++){const a=s[2*i],c=s[2*i+1];a>=t&&a<=r&&c>=e&&c<=n&&u.push(o[i])}continue}const f=p+l>>1,h=s[2*f],d=s[2*f+1];h>=t&&h<=r&&d>=e&&d<=n&&u.push(o[f]),(0===c?t<=h:e<=d)&&(a.push(p),a.push(f-1),a.push(1-c)),(0===c?r>=h:n>=d)&&(a.push(f+1),a.push(l),a.push(1-c))}return u}within(t,e,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:n,coords:o,nodeSize:s}=this,i=[0,n.length-1,0],a=[],u=r*r;for(;i.length;){const c=i.pop()||0,l=i.pop()||0,p=i.pop()||0;if(l-p<=s){for(let r=p;r<=l;r++)w(o[2*r],o[2*r+1],t,e)<=u&&a.push(n[r]);continue}const f=p+l>>1,h=o[2*f],d=o[2*f+1];w(h,d,t,e)<=u&&a.push(n[f]),(0===c?t-r<=h:e-r<=d)&&(i.push(p),i.push(f-1),i.push(1-c)),(0===c?t+r>=h:e+r>=d)&&(i.push(f+1),i.push(l),i.push(1-c))}return a}}function y(t,e,r,n,o,s){if(o-n<=r)return;const i=n+o>>1;g(t,e,i,n,o,s),y(t,e,r,n,i-1,1-s),y(t,e,r,i+1,o,1-s)}function g(t,e,r,n,o,s){for(;o>n;){if(o-n>600){const i=o-n+1,a=r-n+1,u=Math.log(i),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(i-c)/i)*(a-i/2<0?-1:1);g(t,e,r,Math.max(n,Math.floor(r-a*c/i+l)),Math.min(o,Math.floor(r+(i-a)*c/i+l)),s)}const i=e[2*r+s];let a=n,u=o;for(v(t,e,n,r),e[2*o+s]>i&&v(t,e,n,o);a<u;){for(v(t,e,a,u),a++,u--;e[2*a+s]<i;)a++;for(;e[2*u+s]>i;)u--}e[2*n+s]===i?v(t,e,n,u):(u++,v(t,e,u,o)),u<=r&&(n=u+1),r<=u&&(o=u-1)}}function v(t,e,r,n){b(t,r,n),b(e,2*r,2*n),b(e,2*r+1,2*n+1)}function b(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function w(t,e,r,n){const o=t-r,s=e-n;return o*o+s*s}const k={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},x=Math.fround||(_=new Float32Array(1),t=>(_[0]=+t,_[0]));var _;const E=3,A=5,M=6;class O{constructor(t){this.options=Object.assign(Object.create(k),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:e,minZoom:r,maxZoom:n}=this.options;e&&console.time("total time");const o=`prepare ${t.length} points`;e&&console.time(o),this.points=t;const s=[];for(let e=0;e<t.length;e++){const r=t[e];if(!r.geometry)continue;const[n,o]=r.geometry.coordinates,i=x(j(n)),a=x(S(o));s.push(i,a,1/0,e,-1,1),this.options.reduce&&s.push(0)}let i=this.trees[n+1]=this._createTree(s);e&&console.timeEnd(o);for(let t=n;t>=r;t--){const r=+Date.now();i=this.trees[t]=this._createTree(this._cluster(i,t)),e&&console.log("z%d: %d clusters in %dms",t,i.numItems,+Date.now()-r)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let r=((t[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,t[1]));let o=180===t[2]?180:((t[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,o=180;else if(r>o){const t=this.getClusters([r,n,180,s],e),i=this.getClusters([-180,n,o,s],e);return t.concat(i)}const i=this.trees[this._limitZoom(e)],a=i.range(j(r),S(s),j(o),S(n)),u=i.data,c=[];for(const t of a){const e=this.stride*t;c.push(u[e+A]>1?T(u,e,this.clusterProps):this.points[u[e+E]])}return c}getChildren(t){const e=this._getOriginId(t),r=this._getOriginZoom(t),n="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(n);const s=o.data;if(e*this.stride>=s.length)throw new Error(n);const i=this.options.radius/(this.options.extent*Math.pow(2,r-1)),a=s[e*this.stride],u=s[e*this.stride+1],c=o.within(a,u,i),l=[];for(const e of c){const r=e*this.stride;s[r+4]===t&&l.push(s[r+A]>1?T(s,r,this.clusterProps):this.points[s[r+E]])}if(0===l.length)throw new Error(n);return l}getLeaves(t,e,r){e=e||10,r=r||0;const n=[];return this._appendLeaves(n,t,e,r,0),n}getTile(t,e,r){const n=this.trees[this._limitZoom(t)],o=Math.pow(2,t),{extent:s,radius:i}=this.options,a=i/s,u=(r-a)/o,c=(r+1+a)/o,l={features:[]};return this._addTileFeatures(n.range((e-a)/o,u,(e+1+a)/o,c),n.data,e,r,o,l),0===e&&this._addTileFeatures(n.range(1-a/o,u,1,c),n.data,o,r,o,l),e===o-1&&this._addTileFeatures(n.range(0,u,a/o,c),n.data,-1,r,o,l),l.features.length?l:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const r=this.getChildren(t);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e}_appendLeaves(t,e,r,n,o){const s=this.getChildren(e);for(const e of s){const s=e.properties;if(s&&s.cluster?o+s.point_count<=n?o+=s.point_count:o=this._appendLeaves(t,s.cluster_id,r,n,o):o<n?o++:t.push(e),t.length===r)break}return o}_createTree(t){const e=new m(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<t.length;r+=this.stride)e.add(t[r],t[r+1]);return e.finish(),e.data=t,e}_addTileFeatures(t,e,r,n,o,s){for(const i of t){const t=i*this.stride,a=e[t+A]>1;let u,c,l;if(a)u=$(e,t,this.clusterProps),c=e[t],l=e[t+1];else{const r=this.points[e[t+E]];u=r.properties;const[n,o]=r.geometry.coordinates;c=j(n),l=S(o)}const p={type:1,geometry:[[Math.round(this.options.extent*(c*o-r)),Math.round(this.options.extent*(l*o-n))]],tags:u};let f;f=a||this.options.generateId?e[t+E]:this.points[e[t+E]].id,void 0!==f&&(p.id=f),s.features.push(p)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,e){const{radius:r,extent:n,reduce:o,minPoints:s}=this.options,i=r/(n*Math.pow(2,e)),a=t.data,u=[],c=this.stride;for(let r=0;r<a.length;r+=c){if(a[r+2]<=e)continue;a[r+2]=e;const n=a[r],l=a[r+1],p=t.within(a[r],a[r+1],i),f=a[r+A];let h=f;for(const t of p){const r=t*c;a[r+2]>e&&(h+=a[r+A])}if(h>f&&h>=s){let t,s=n*f,i=l*f,d=-1;const m=((r/c|0)<<5)+(e+1)+this.points.length;for(const n of p){const u=n*c;if(a[u+2]<=e)continue;a[u+2]=e;const l=a[u+A];s+=a[u]*l,i+=a[u+1]*l,a[u+4]=m,o&&(t||(t=this._map(a,r,!0),d=this.clusterProps.length,this.clusterProps.push(t)),o(t,this._map(a,u)))}a[r+4]=m,u.push(s/h,i/h,1/0,m,-1,h),o&&u.push(d)}else{for(let t=0;t<c;t++)u.push(a[r+t]);if(h>1)for(const t of p){const r=t*c;if(!(a[r+2]<=e)){a[r+2]=e;for(let t=0;t<c;t++)u.push(a[r+t])}}}}return u}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e,r){if(t[e+A]>1){const n=this.clusterProps[t[e+M]];return r?Object.assign({},n):n}const n=this.points[t[e+E]].properties,o=this.options.map(n);return r&&o===n?Object.assign({},o):o}}function T(t,e,r){return{type:"Feature",id:t[e+E],properties:$(t,e,r),geometry:{type:"Point",coordinates:[(n=t[e],360*(n-.5)),I(t[e+1])]}};var n}function $(t,e,r){const n=t[e+A],o=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?Math.round(n/100)/10+"k":n,s=t[e+M],i=-1===s?{}:Object.assign({},r[s]);return Object.assign(i,{cluster:!0,cluster_id:t[e+E],point_count:n,point_count_abbreviated:o})}function j(t){return t/360+.5}function S(t){const e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function I(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}var P=r(7145),Z=r.n(P),C=r(605),B=r(5226);r(5973);var L=["pointToLayer","style","onEachFeature","filter","coordsToLatLng"],z=L.concat(["markersInheritOptions"]);function F(t,e,r){var o=(0,n.pi)({map:e},t),s=t.clusterToLayer?(0,B.S4)(t.clusterToLayer,o):void 0,a=(0,B.is)(C.ei.apply(void 0,(0,n.ev)([t],z,!1)),L,o),u=a.pointToLayer;return a.onEachFeature||(a.onEachFeature=function(t,e){t.properties&&(t.properties.popup&&e.bindPopup(t.properties.popup),t.properties.tooltip&&e.bindTooltip(t.properties.tooltip))}),t.cluster?(a.pointToLayer=function(t,e){return t.properties.cluster?s?s(t,e,r.current):function(t,e,r){var n=[{minCount:0,className:"marker-cluster marker-cluster-small"},{minCount:100,className:"marker-cluster marker-cluster-medium"},{minCount:1e3,className:"marker-cluster marker-cluster-large"}],o=t.properties.point_count,s="";for(var a in n)o>n[a].minCount&&(s=n[a].className);var u=i.divIcon({html:"<div><span>"+t.properties.point_count_abbreviated+"</span></div>",className:s,iconSize:i.point(40,40)});return i.marker(e,{icon:u})}(t,e):u?u(t,e):D(0,e,a)},a.style||(a.style={weight:1.5,color:"#222",opacity:.5})):a.pointToLayer=function(t,e){return u?u(t,e):D(0,e,a)},a}function U(t,e,r){if(!r||!("maxZoom"in r)){var n=e._layersMaxZoom;n&&(r?r.maxZoom=n:r={maxZoom:n})}var o=new O(r);return o.load(t.features),o}function N(t,e,r,n,o){var s=r.getBounds(),a=[s.getWest(),s.getSouth(),s.getEast(),s.getNorth()],u=r.getZoom(),c=null;try{c=n.getClusters(a,u)}catch(t){return}e.spiderfyOnMaxZoom&&o.current&&(o.current.zoom&&o.current.zoom!==u?o.current=null:(c=function(t,e,r,n){var o=1,s=2*Math.PI,a=25,u=0,c=28,l=11,p=5;function f(r){var n,f,h,d=r.geometry.coordinates,m=t.latLngToLayerPoint([d[1],d[0]]),y=e.getLeaves(r.properties.cluster_id,1e3,0);y.length>=9?n=function(t,e){var r,n=o*c,a=o*l,u=o*p*s,f=0,h=[];for(h.length=t,r=t;r>=0;r--)r<t&&(h[r]=new i.Point(e.x+a*Math.cos(f),e.y+a*Math.sin(f)).round()),a+=u/(f+=n/a+5e-4*r);return h}(y.length,m):(m.y+=10,n=function(t,e){var r,n,c=s/t,l=[],p=o*a*(2+t)/s;for(p=Math.max(p,35),l.length=t,r=0;r<t;r++)n=u+r*c,l[r]=new i.Point(e.x+p*Math.cos(n),e.y+p*Math.sin(n)).round();return l}(y.length,m));for(var g=[],v=0;v<y.length;v++)h=t.layerPointToLatLng(n[v]),f=[r.geometry.coordinates,[h.lng,h.lat]],g.push({type:"Feature",geometry:{type:"LineString",coordinates:f},properties:{id:y[v].properties.id}}),y[v]=Z()(y[v],{geometry:{coordinates:{$set:[h.lng,h.lat]}}});return y.concat(g)}var h=r.filter((function(t){return n.includes(t.properties.cluster_id)}));if(h.length<1)return r;for(var d=r.filter((function(t){return!n.includes(t.properties.cluster_id)})),m=0;m<h.length;m++)d=d.concat(f(h[m]));return d}(r,n,c,[o.current.clusterId]),o.current.zoom=u)),Object.keys(t._layers).length>0&&(c=function(t,e){var r=t._layers;if(0==Object.keys(r).length)return e;for(var n=e.filter((function(t){return!t.properties.cluster})).map((function(t){return t.properties.id})),o=e.filter((function(t){return t.properties.cluster})).map((function(t){return t.properties.cluster_id})),s=[],i=[],a=0,u=Object.values(r);a<u.length;a++){var c=u[a],l=c.feature.properties;l.cluster?o.includes(l.cluster_id)?i.push(l.cluster_id):t.removeLayer(c):n.includes(l.id)?s.push(l.id):t.removeLayer(c)}return e.filter((function(t){return t.properties.cluster?!i.includes(t.properties.cluster_id):!s.includes(t.properties.id)}))}(t,c)),0!==c.length&&t.addData(c)}function q(t,e,r,n,o,s){if(!e.cluster)return function(t,e,r,n){t.clearLayers(),t.addData(n),e.zoomToBounds&&n.features.length>0&&t.getBounds()._southWest&&r.fitBounds(t.getBounds())}(t,e,r,n);if(e.zoomToBounds&&n.features.length>0){var a=i.geoJSON(n);r.fitBounds(a.getBounds())}N(t,e,r,o,s)}function D(t,e,r){return new i.Marker(e,r&&r.markersInheritOptions&&r)}var R=(0,u.I)((function(t,e){var r=new i.GeoJSON(null);return(0,u.O)(r,(0,c.sj)(e,{overlayContainer:r}))})),Y=(0,l.RA)((function(t){var e=(0,c.mE)(),r=R((0,p.q)(t,e),e);return(0,f.g)(r.current,e),(0,h.t)(r.current,t.eventHandlers),function(t,e){var r=(0,a.Sx)(),s=t.instance,u=(0,o.useRef)(),c=(0,o.useRef)(),l=(0,o.useRef)(),p=(0,o.useRef)(e),f=(0,o.useRef)(!1),h=function(t){p.current.cluster&&N(s,p.current,r,u.current,l)},d=function(t){return function(t,e,r,n,o,s){var i=r.zoomToBoundsOnClick,a=r.spiderfyOnMaxZoom,u=r.cluster;if(i||u&&a)if(u){if(t.layer.feature.properties){var c=t.layer.feature.properties.cluster_id;if(c){var l=t.latlng,p=o.getClusterExpansionZoom(c),f=p>o.options.maxZoom;f&&(s.current={clusterId:c}),i?f?n.flyTo(l):n.flyTo(l,p):N(e,r,n,o,s)}}}else t.layer.getBounds&&n.fitBounds(t.layer.getBounds())}(t,s,p.current,r,u.current,l)},m=function(t){var o=t.layer.feature,s=p.current.hoverStyle;s&&(s="function"==typeof(s=(0,B.S4)(s,(0,n.pi)({map:r},e)))?s(o):s,t.layer.setStyle(s),i.Browser.ie||i.Browser.opera||i.Browser.edge||t.layer.bringToFront())},y=function(t){p.current.hoverStyle&&s.resetStyle(t.layer)},g=function(t){void 0===t&&(t=!1),f.current=!0,function(t){return(0,n.mG)(this,void 0,void 0,(function(){var e,r,o;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return e=t.data,r=t.url,e||r?(o=e,e||!r?[3,3]:[4,fetch(r)]):[2,{features:[]}];case 1:return[4,n.sent().json()];case 2:o=n.sent(),n.label=3;case 3:return"Feature"===o.type&&(o={type:"FeatureCollection",features:[o]}),o.features=o.features.map((function(t,e){return t.properties||(t.properties={}),t.properties.cluster||(t.properties.cluster=!1),t.properties.id||(t.properties.id=e),t})),[2,o]}}))}))}(e).then((function(n){c.current=n,t&&(s.on("mouseover",m),s.on("mouseout",y),s.on("click",d),r.on("moveend",h)),e.cluster&&(u.current=U(n,r,e.superClusterOptions)),q(s,e,r,n,u.current,l),f.current=!1}))};(0,o.useEffect)((function(){return s.options=F(e,r,u),g(!0),function(){s.off("mouseover",m),s.off("mouseout",y),s.off("click",d),r.off("moveend",h)}}),[s]),(0,o.useEffect)((function(){if(!f.current){if(p.current!==e){var t=p.current,o=!1,i=!1,a=!1,h=t.hideout!==e.hideout;h||z.forEach((function(r){t[r]!==e[r]&&(h=!0)})),h&&(o=!0,i=!0),t.cluster!==e.cluster&&(a=e.cluster,o=!0,i=!0),t.superClusterOptions!==e.superClusterOptions&&(a=!0,i=!0),t.data===e.data&&t.url===e.url||(i=!1,a=!1,g()),a&&(u.current=U(c.current,r,e.superClusterOptions)),o&&(s.options=(0,n.pi)((0,n.pi)({},s.options),F(e,r,u))),i&&q(s,e,r,c.current,u.current,l)}p.current=e}}),[t,e,s])}(r.current,t),r}));const G=function(t){return s().createElement(Y,(0,n.pi)({},t))}}}]);